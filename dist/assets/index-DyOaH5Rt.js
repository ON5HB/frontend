var f7=Object.defineProperty;var p7=(je,Vn,oo)=>Vn in je?f7(je,Vn,{enumerable:!0,configurable:!0,writable:!0,value:oo}):je[Vn]=oo;var td=(je,Vn,oo)=>p7(je,typeof Vn!="symbol"?Vn+"":Vn,oo);let Pm,nd,Dm,rd,od,id,ad,sd,ld,cd,ud,dd,hd,fd,pd,md,gd,m7=(async()=>{Dm=function(){import.meta.url,import("_").then(async e=>(await e.__tla,e)).catch(()=>1),async function*(){}().next()},function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}}();function je(){}const Vn=e=>e;function oo(e){return e()}function vd(){return Object.create(null)}function Nt(e){e.forEach(oo)}function io(e){return typeof e=="function"}function ao(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function jm(e){return Object.keys(e).length===0}function Um(e,...t){if(e==null){for(const r of t)r(void 0);return je}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function bd(e,t,n){e.$$.on_destroy.push(Um(t,n))}function jo(e){return e&&io(e.destroy)?e.destroy:je}function wd(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const xd=typeof window<"u";let Bm=xd?()=>window.performance.now():()=>Date.now(),Ol=xd?e=>requestAnimationFrame(e):je;const Uo=new Set;function _d(e){Uo.forEach(t=>{t.c(e)||(Uo.delete(t),t.f())}),Uo.size!==0&&Ol(_d)}function Wm(e){let t;return Uo.size===0&&Ol(_d),{promise:new Promise(n=>{Uo.add(t={c:e,f:n})}),abort(){Uo.delete(t)}}}const $m=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function x(e,t){e.appendChild(t)}function Sd(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function zm(e){const t=$("style");return t.textContent="/* empty */",qm(Sd(e),t),t.sheet}function qm(e,t){return x(e.head||e,t),t.sheet}function Re(e,t,n){e.insertBefore(t,n||null)}function Ce(e){e.parentNode&&e.parentNode.removeChild(e)}function Ni(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function $(e){return document.createElement(e)}function Gn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function me(e){return document.createTextNode(e)}function ne(){return me(" ")}function Md(){return me("")}function re(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function Hm(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Cd(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Il(e){return function(t){t.target===this&&e.call(this,t)}}function w(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Bo(e){return e===""?null:+e}function Vm(e){return Array.from(e.childNodes)}function qe(e,t){t=""+t,e.data!==t&&(e.data=t)}function xt(e,t){e.value=t!=null?t:""}function Ke(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function Ya(e,t,n){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Ad(e){const t=e.querySelector(":checked");return t&&t.__value}let Xa;function Gm(){if(Xa===void 0){Xa=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch(e){Xa=!0}}return Xa}function Ym(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const n=$("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=Gm();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=re(window,"message",i=>{i.source===n.contentWindow&&t()})):(n.src="about:blank",n.onload=()=>{o=re(n.contentWindow,"resize",t),t()}),x(e,n),()=>{(r||o&&n.contentWindow)&&o(),Ce(n)}}function Td(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const Ka=new Map;let Ja=0;function Xm(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Km(e,t){const n={stylesheet:zm(t),rules:{}};return Ka.set(e,n),n}function Ed(e,t,n,r,o,i,a,s=0){const c=16.666/r;let l="{\n";for(let T=0;T<=1;T+=c){const O=t+(n-t)*i(T);l+=T*100+"%{".concat(a(O,1-O),"}\n")}const h=l+"100% {".concat(a(n,1-n),"}\n}"),d="__svelte_".concat(Xm(h),"_").concat(s),m=Sd(e),{stylesheet:g,rules:y}=Ka.get(m)||Km(m,e);y[d]||(y[d]=!0,g.insertRule("@keyframes ".concat(d," ").concat(h),g.cssRules.length));const _=e.style.animation||"";return e.style.animation="".concat(_?"".concat(_,", "):"").concat(d," ").concat(r,"ms linear ").concat(o,"ms 1 both"),Ja+=1,d}function Jm(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Ja-=o,Ja||Qm())}function Qm(){Ol(()=>{Ja||(Ka.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&Ce(t)}),Ka.clear())})}let Li;function ji(e){Li=e}function Ui(){if(!Li)throw new Error("Function called outside component initialization");return Li}function Zm(e){Ui().$$.before_update.push(e)}function Fl(e){Ui().$$.on_mount.push(e)}function eg(e){Ui().$$.after_update.push(e)}function tg(e){Ui().$$.on_destroy.push(e)}function Rl(){const e=Ui();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=Td(t,n,{cancelable:r});return o.slice().forEach(a=>{a.call(e,i)}),!i.defaultPrevented}return!0}}function kd(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const Wo=[],At=[];let $o=[];const Od=[],Id=Promise.resolve();let Pl=!1;function Fd(){Pl||(Pl=!0,Id.then(Rd))}function Dl(){return Fd(),Id}function Fn(e){$o.push(e)}const Nl=new Set;let zo=0;function Rd(){if(zo!==0)return;const e=Li;do{try{for(;zo<Wo.length;){const t=Wo[zo];zo++,ji(t),ng(t.$$)}}catch(t){throw Wo.length=0,zo=0,t}for(ji(null),Wo.length=0,zo=0;At.length;)At.pop()();for(let t=0;t<$o.length;t+=1){const n=$o[t];Nl.has(n)||(Nl.add(n),n())}$o.length=0}while(Wo.length);for(;Od.length;)Od.pop()();Pl=!1,Nl.clear(),ji(e)}function ng(e){if(e.fragment!==null){e.update(),Nt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Fn)}}function rg(e){const t=[],n=[];$o.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),$o=t}let Bi;function og(){return Bi||(Bi=Promise.resolve(),Bi.then(()=>{Bi=null})),Bi}function Ll(e,t,n){e.dispatchEvent(Td("".concat(t?"intro":"outro").concat(n)))}const Qa=new Set;let mr;function jl(){mr={r:0,c:[],p:mr}}function Ul(){mr.r||Nt(mr.c),mr=mr.p}function Ht(e,t){e&&e.i&&(Qa.delete(e),e.i(t))}function gr(e,t,n,r){if(e&&e.o){if(Qa.has(e))return;Qa.add(e),mr.c.push(()=>{Qa.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const ig={duration:0};function Ir(e,t,n,r){let o=t(e,n,{direction:"both"}),i=r?0:1,a=null,s=null,c=null,l;function h(){c&&Jm(e,c)}function d(g,y){const _=g.b-i;return y*=Math.abs(_),{a:i,b:g.b,d:_,duration:y,start:g.start,end:g.start+y,group:g.group}}function m(g){const{delay:y=0,duration:_=300,easing:T=Vn,tick:O=je,css:C}=o||ig,E={start:Bm()+y,b:g};g||(E.group=mr,mr.r+=1),"inert"in e&&(g?l!==void 0&&(e.inert=l):(l=e.inert,e.inert=!0)),a||s?s=E:(C&&(h(),c=Ed(e,i,g,_,y,T,C)),g&&O(0,1),a=d(E,_),Fn(()=>Ll(e,g,"start")),Wm(W=>{if(s&&W>s.start&&(a=d(s,_),s=null,Ll(e,a.b,"start"),C&&(h(),c=Ed(e,i,a.b,a.duration,0,T,o.css))),a){if(W>=a.end)O(i=a.b,1-i),Ll(e,a.b,"end"),s||(a.b?h():--a.group.r||Nt(a.group.c)),a=null;else if(W>=a.start){const P=W-a.start;i=a.a+a.d*T(P/a.duration),O(i,1-i)}}return!!(a||s)}))}return{run(g){io(o)?og().then(()=>{o=o({direction:g?"in":"out"}),m(g)}):m(g)},end(){h(),a=s=null}}}function Lt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Bl(e,t){e.d(1),t.delete(e.key)}function Wl(e,t,n,r,o,i,a,s,c,l,h,d){let m=e.length,g=i.length,y=m;const _={};for(;y--;)_[e[y].key]=y;const T=[],O=new Map,C=new Map,E=[];for(y=g;y--;){const k=d(o,i,y),A=n(k);let M=a.get(A);M?E.push(()=>M.p(k,t)):(M=l(A,k),M.c()),O.set(A,T[y]=M),A in _&&C.set(A,Math.abs(y-_[A]))}const W=new Set,P=new Set;function U(k){Ht(k,1),k.m(s,h),a.set(k.key,k),h=k.first,g--}for(;m&&g;){const k=T[g-1],A=e[m-1],M=k.key,b=A.key;k===A?(h=k.first,m--,g--):O.has(b)?!a.has(M)||W.has(M)?U(k):P.has(b)?m--:C.get(M)>C.get(b)?(P.add(M),U(k)):(W.add(b),m--):(c(A,a),m--)}for(;m--;){const k=e[m];O.has(k.key)||c(k,a)}for(;g;)U(T[g-1]);return Nt(E),T}function Za(e){e&&e.c()}function Wi(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),Fn(()=>{const i=e.$$.on_mount.map(oo).filter(io);e.$$.on_destroy?e.$$.on_destroy.push(...i):Nt(i),e.$$.on_mount=[]}),o.forEach(Fn)}function $i(e,t){const n=e.$$;n.fragment!==null&&(rg(n.after_update),Nt(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ag(e,t){e.$$.dirty[0]===-1&&(Wo.push(e),Fd(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function zi(e,t,n,r,o,i,a=null,s=[-1]){const c=Li;ji(e);const l=e.$$={fragment:null,ctx:[],props:i,update:je,not_equal:o,bound:vd(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:vd(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};a&&a(l.root);let h=!1;if(l.ctx=n?n(e,t.props||{},(d,m,...g)=>{const y=g.length?g[0]:m;return l.ctx&&o(l.ctx[d],l.ctx[d]=y)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](y),h&&ag(e,d)),m}):[],l.update(),h=!0,Nt(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const d=Vm(t.target);l.fragment&&l.fragment.l(d),d.forEach(Ce)}else l.fragment&&l.fragment.c();t.intro&&Ht(e.$$.fragment),Wi(e,t.target,t.anchor),Rd()}ji(c)}class qi{constructor(){td(this,"$$");td(this,"$$set")}$destroy(){$i(this,1),this.$destroy=je}$on(t,n){if(!io(n))return je;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!jm(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const sg="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sg);function Pd(e){const t=e-1;return t*t*t+1}function Dd(e){return--e*e*e*e*e+1}function Nd(e,{delay:t=0,duration:n=400,easing:r=Vn}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>"opacity: ".concat(i*o)}}function Ld(e,{delay:t=0,duration:n=400,easing:r=Pd,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(e),c=+s.opacity,l=s.transform==="none"?"":s.transform,h=c*(1-a),[d,m]=wd(o),[g,y]=wd(i);return{delay:t,duration:n,easing:r,css:(_,T)=>"\n			transform: ".concat(l," translate(").concat((1-_)*d).concat(m,", ").concat((1-_)*g).concat(y,");\n			opacity: ").concat(c-h*T)}}function jd(e,{delay:t=0,duration:n=400,easing:r=Pd,axis:o="y"}={}){const i=getComputedStyle(e),a=+i.opacity,s=o==="y"?"height":"width",c=parseFloat(i[s]),l=o==="y"?["top","bottom"]:["left","right"],h=l.map(O=>"".concat(O[0].toUpperCase()).concat(O.slice(1))),d=parseFloat(i["padding".concat(h[0])]),m=parseFloat(i["padding".concat(h[1])]),g=parseFloat(i["margin".concat(h[0])]),y=parseFloat(i["margin".concat(h[1])]),_=parseFloat(i["border".concat(h[0],"Width")]),T=parseFloat(i["border".concat(h[1],"Width")]);return{delay:t,duration:n,easing:r,css:O=>"overflow: hidden;opacity: ".concat(Math.min(O*20,1)*a,";").concat(s,": ").concat(O*c,"px;padding-").concat(l[0],": ").concat(O*d,"px;padding-").concat(l[1],": ").concat(O*m,"px;margin-").concat(l[0],": ").concat(O*g,"px;margin-").concat(l[1],": ").concat(O*y,"px;border-").concat(l[0],"-width: ").concat(O*_,"px;border-").concat(l[1],"-width: ").concat(O*T,"px;")}}var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var cg=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},ug=cg,Ud={"text/plain":"Text","text/html":"Url",default:"Text"},dg="Copy to clipboard: #{key}, Enter";function hg(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function fg(e,t){var n,r,o,i,a,s,c=!1;t||(t={}),n=t.debug||!1;try{o=ug(),i=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(h){if(h.stopPropagation(),t.format)if(h.preventDefault(),typeof h.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=Ud[t.format]||Ud.default;window.clipboardData.setData(d,e)}else h.clipboardData.clearData(),h.clipboardData.setData(t.format,e);t.onCopy&&(h.preventDefault(),t.onCopy(h.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i);var l=document.execCommand("copy");if(!l)throw new Error("copy command was unsuccessful");c=!0}catch(h){n&&console.error("unable to copy using execCommand: ",h),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=hg("message"in t?t.message:dg),window.prompt(r,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return c}var pg=fg;const Bd=so(pg);var Wd={};(function(e){function t(k){var A=[],M=[],b=0,p=k;function v(S){for(A.length!==0&&A[0]<=b-p&&(A.shift(),M.shift());M.length!==0&&M[M.length-1]>S;)A.pop(),M.pop();return A.push(b),M.push(S),b++,M[0]}return v.setWindowSize=function(S){p=S},v.reset=function(){A.splice(0,A.length),M.splice(0,M.length),b=0},v}function n(k){var A=[],M=[],b=0,p=k;function v(S){for(A.length!==0&&A[0]<=b-p&&(A.shift(),M.shift());M.length!==0&&M[M.length-1]<S;)A.pop(),M.pop();return A.push(b),M.push(S),b++,M[0]}return v.setWindowSize=function(S){p=S},v.reset=function(){A.splice(0,A.length),M.splice(0,M.length),b=0},v}function r(k){var A=[],M=k,b=0,p;function v(S){if(A.length>=M&&(b-=A.shift()),S||S===0)A.push(S),b+=S;else return p;return p=A.length==0?0:b/A.length}return v.setWindowSize=function(S){M=S},v.reset=function(){b=0,A.splice(0,A.length)},v}function o(k){var A=[],M=[],b=k;function p(v,S){for(;A.length!==0&&A[0]<=S-b;)A.shift(),M.shift();for(;M.length!==0&&M[M.length-1]>v;)A.pop(),M.pop();return A.push(S),M.push(v),M[0]}return p.setWindowSize=function(v){b=v},p.reset=function(){A.splice(0,A.length),M.splice(0,M.length)},p}function i(k){var A=[],M=[],b=k;function p(v,S){for(;A.length!==0&&A[0]<=S-b;)A.shift(),M.shift();for(;M.length!==0&&M[M.length-1]<v;)A.pop(),M.pop();return A.push(S),M.push(v),M[0]}return p.setWindowSize=function(v){b=v},p.reset=function(){A.splice(0,A.length),M.splice(0,M.length)},p}function a(k){var A=[],M=[],b=k,p=0;function v(S,I){for(;A.length!==0&&A[0]<=I-b;)A.shift(),p-=M.shift();if(S||S===0)A.push(I),M.push(S),p+=S;else return prev;return prev=M.length==0?0:p/M.length}return v.setWindowSize=function(S){b=S},v.reset=function(){A.splice(0,A.length),M.splice(0,M.length),p=0},v}function s(k,A){for(var M=0,b=k.length;M<b;){var p=M+b>>>1;k[p]<A?M=p+1:b=p}return M}function c(k){var A=[],M=k,b=[],p=s,v,S=null,I=0,D=0,N=0,Q=0,G=null;function B(j){if(A.length>=M){var H=A.shift(),Z=H,le=Z*Z,he=le*Z,ee=he*Z;I-=Z,D-=le,N-=he,Q-=ee;var ae=p(b,H);b[ae]==H&&b.splice(ae,1)}if(j||j===0){A.push(j),b.splice(p(b,j),0,j),S=null,G=null;var Z=j,le=Z*Z,he=le*Z,ee=he*Z;I+=Z,D+=le,N+=he,Q+=ee}else return v;if(b.length==0)return v;if(b.length&1)return v=b[b.length-1>>>1];var ce=(b.length>>>1)-1;return v=(b[ce]+b[ce+1])/2}return B.setWindowSize=function(j){M=j},B.reset=function(){A.splice(0,A.length),b.splice(0,b.length),S=null,I=0,D=0,N=0,Q=0,G=null},B.avg=function(){return I/A.length},B.sum=function(){return I},B.min=function(){return b[0]},B.q1=function(){if(b.length==1)return b[0];if(b.length==2)return b[0]*.75+b[1]*.25;if(b.length==3)return b[0]*.5+b[1]*.5;if((b.length-1)%4==0){var j=b.length-1>>2;return b[j-1]*.25+b[j]*.75}if((b.length-3)%4==0){var j=b.length-3>>2;return b[j]*.75+b[j+1]*.25}},B.moments_avg=function(){return G===null&&(G=B.moments()),G.average},B.variance=function(){return G===null&&(G=B.moments()),G.variance},B.standardDeviation=function(){return G===null&&(G=B.moments()),G.standardDeviation},B.skew=function(){return G===null&&(G=B.moments()),G.skew},B.kurtosis=function(){return G===null&&(G=B.moments()),G.kurtosis},B.exkurtosis=function(){return G===null&&(G=B.moments()),G.exkurtosis},B.moments=function(){var j={};if(this.c>0){var H=A.length,Z=I/H,le=D/H,he=N/H,ee=Q/H,ae=Z,ce=D/H-Z;m3=he-3*le*Z+2*Z*Z*Z,m4=ee-3*he*Z+6*le*Z*Z- -3*Z*Z*Z*Z,j.average=ae,j.variance=ce,j.standardDeviation=Math.pow(j.variance,.5),H>2&&(j.skew=Math.pow(H*(H-1),.5)/(H-2)*m3/Math.pow(ce,1.5)),ce>0&&(j.exkurtosis=m4/ce/ce-3,j.kurtosis=m4/ce/ce)}return j},B.median=function(){return v},B.q3=function(){if(b.length==1)return b[0];if(b.length==2)return b[0]*.25+b[1]*.75;if(b.length==3)return b[1]*.5+b[2]*.5;if((b.length-1)%4==0){var j=(b.length-1>>2)*3;return b[j]*.75+b[j+1]*.25}if((b.length-3)%4==0){var j=(b.length-3>>2)*3;return b[j+1]*.25+b[j+2]*.75}},B.max=function(){return b[b.length-1]},B.center=function(){return(b[0]+b[b.length-1])/2},B.medianskew=function(){return b[b.length-1]-v-(v-b[0])},B.medianskew_bowleys_coef=function(){return(b[b.length-1]-v)*(v-b[0])/(b[b.length-1]-b[0])},B.mediankurt=function(){var j=Math.round((b.length-1)*.9),H=Math.round((b.length-1)*.1);return(b[b.length-1]-v)*(v-b[0])/(b[j]-b[H])},B.pabovecenter=function(){return S===null&&(S=p(b,(b[0]+b[b.length-1])/2)),(b.length-1-S)/(b.length-1)},B.pbelowcenter=function(){return S===null&&(S=p(b,(b[0]+b[b.length-1])/2)),S/(b.length-1)},B}function l(k){var A=[],M=[],b=k,p=[],v=s,S,I=null,D=0,N=0,Q=0,G=0,B=null;function j(H,Z){for(;M.length!==0&&M[0]<=Z-b;){M.shift();var le=A.shift(),he=le,ee=he*he,ae=ee*he,ce=ae*he;D-=he,N-=ee,Q-=ae,G-=ce;var te=v(p,le);p[te]==le&&p.splice(te,1)}if(H||H===0){M.push(Z),A.push(H),p.splice(v(p,H),0,H),I=null,B=null;var he=H,ee=he*he,ae=ee*he,ce=ae*he;D+=he,N+=ee,Q+=ae,G+=ce}else return S;if(p.length==0)return S;if(p.length&1)return S=p[p.length-1>>>1];var ge=(p.length>>>1)-1;return S=(p[ge]+p[ge+1])/2}return j.setWindowSize=function(H){b=H},j.reset=function(){A.splice(0,A.length),M.splice(0,M.length),p.splice(0,p.length),I=null,D=0,N=0,Q=0,G=0,B=null},j.avg=function(){return D/A.length},j.sum=function(){return D},j.min=function(){return p[0]},j.q1=function(){if(p.length==1)return p[0];if(p.length==2)return p[0]*.75+p[1]*.25;if(p.length==3)return p[0]*.5+p[1]*.5;if((p.length-1)%4==0){var H=p.length-1>>2;return p[H-1]*.25+p[H]*.75}if((p.length-3)%4==0){var H=p.length-3>>2;return p[H]*.75+p[H+1]*.25}},j.moments_avg=function(){return B===null&&(B=j.moments()),B.average},j.variance=function(){return B===null&&(B=j.moments()),B.variance},j.standardDeviation=function(){return B===null&&(B=j.moments()),B.standardDeviation},j.skew=function(){return B===null&&(B=j.moments()),B.skew},j.kurtosis=function(){return B===null&&(B=j.moments()),B.kurtosis},j.exkurtosis=function(){return B===null&&(B=j.moments()),B.exkurtosis},j.moments=function(){var H={};if(this.c>0){var Z=A.length,le=D/Z,he=N/Z,ee=Q/Z,ae=G/Z,ce=le,te=N/Z-le;m3=ee-3*he*le+2*le*le*le,m4=ae-3*ee*le+6*he*le*le- -3*le*le*le*le,H.average=ce,H.variance=te,H.standardDeviation=Math.pow(H.variance,.5),Z>2&&(H.skew=Math.pow(Z*(Z-1),.5)/(Z-2)*m3/Math.pow(te,1.5)),te>0&&(H.exkurtosis=m4/te/te-3,H.kurtosis=m4/te/te)}return H},j.median=function(){return S},j.q3=function(){if(p.length==1)return p[0];if(p.length==2)return p[0]*.25+p[1]*.75;if(p.length==3)return p[1]*.5+p[2]*.5;if((p.length-1)%4==0){var H=(p.length-1>>2)*3;return p[H]*.75+p[H+1]*.25}if((p.length-3)%4==0){var H=(p.length-3>>2)*3;return p[H+1]*.25+p[H+2]*.75}},j.max=function(){return p[p.length-1]},j.center=function(){return(p[0]+p[p.length-1])/2},j.medianskew=function(){return p[p.length-1]-S-(S-p[0])},j.medianskew_bowleys_coef=function(){return(p[p.length-1]-S)*(S-p[0])/(p[p.length-1]-p[0])},j.mediankurt=function(){var H=Math.round((p.length-1)*.9),Z=Math.round((p.length-1)*.1);return(p[p.length-1]-S)*(S-p[0])/(p[H]-p[Z])},j.pabovecenter=function(){return I===null&&(I=v(p,(p[0]+p[p.length-1])/2)),(p.length-1-I)/(p.length-1)},j.pbelowcenter=function(){return I===null&&(I=v(p,(p[0]+p[p.length-1])/2)),I/(p.length-1)},j}function h(k,A){var M=[],b=[],p=k,v=0,S=!1,I=A;function D(N,Q){for(;M.length!==0&&M[0]<=Q-p&&M[0]!=Q;)S=M.shift(),v-=b.shift();S===!1&&(S=Q-I),M.push(Q),b.push(N),v+=N;var G=Q-S;return G==0&&(G=I),v/G}return D.setWindowSize=function(N){p=N},D.setUsualIndexSkipBetweenOccations=function(N){I=N},D.reset=function(){M.splice(0,M.length),b.splice(0,b.length),v=0,S=!1},D}function d(k,A){var M=[],b=k,p=A;function v(S){var I=p;return M.length==b&&(I=M.shift()),M.push(S),I}return v.setWindowSize=function(S){b=S},v.setUndefinedValue=function(S){p=A},v.reset=function(S){M.splice(0,M.length)},v}function m(k,A){var M=1,b=k+1,p=A;function v(S){return M==b?S:(M++,p)}return v.setWindowSize=function(S){b=S+1},v.setUndefinedValue=function(S){p=A},v.reset=function(){M=0},v}function g(k,A,M){var b=[],p=[],v=k,S=M;function I(D,N){if(b.push(N),p.push(D),b.length!==0&&b[0]<=N-v)for(b.shift(),S=p.shift();b.length!==0&&b[0]<=N-v;)b.shift(),p.shift();return S}return I.setWindowSize=function(D){v=D},I.setUsualIndexSkipBetweenOccations=function(D){},I.reset=function(){b.splice(0,b.length),p.splice(0,p.length),S=M},I}function y(k){var A=-1;function M(b){return b>0&&(A=0),A>=0&&A++,A>k&&(A=-1),A>0}return M.setWindowSize=function(b){},M.reset=function(){A=-1},M}function _(k){var A=k,M=!1,b=-1;function p(v,S){return v>0&&(M=S,b=0),b>=0&&b++,M!=!1&&M<=S-A&&(b=-1),b>0}return p.setWindowSize=function(v){A=v},p.reset=function(){M=!1,b=-1},p}function T(k){var A=k,M=new Map;function b(p,v=1){var S=parseFloat((Math.round(p*A)/A).toFixed(12));return M.has(S)?M.set(S,parseFloat((M.get(S)+v).toFixed(12))):M.set(S,v),M}return b.hist=M,b.reset=function(){M.clear()},b}function O(k,A){var M=[],b=[],p=k,v=A,S=new Map;function I(D,N=1){if(M.length>=p){var Q=M.shift(),G=b.shift(),B=parseFloat((S.get(Q)-G).toFixed(12));B!==0?S.set(Q,B):S.delete(Q)}var j=parseFloat((Math.round(D*v)/v).toFixed(12));return M.push(j),b.push(N),S.has(j)?S.set(j,parseFloat((S.get(j)+N).toFixed(12))):S.set(j,N),S}return I.hist=S,I.setWindowSize=function(D){p=D},I.reset=function(){Sum=0,M.splice(0,M.length)},I}function C(k,A){var M=[],b=[],p=[],v=k,S=A,I=new Map;function D(N,Q,G=1){if(!G&&G!==0||!N&&N!==0)return I;for(;M.length!==0&&M[0]<=Q-v;){M.shift();var B=b.shift(),j=p.shift();if(!B&&B!==0&&console.log("nana1",{prevamount:j,prevpos:B}),!j&&j!==0&&console.log("nana2",{prevamount:j,prevpos:B}),I.has(B)){var H=parseFloat((I.get(B)-j).toFixed(12));!H&&H!==0&&console.log("nana3",{newamount:H,prevamount:j,prevpos:B}),H!==0?I.set(B,H):I.delete(B)}}var Z=parseFloat((Math.round(N*S)/S).toFixed(12));if(b.push(Z),p.push(G),M.push(Q),I.has(Z)){let le=parseFloat((I.get(Z)+G).toFixed(12));I.set(Z,le)}else I.set(Z,G);return I}return D.hist=I,D.setWindowSize=function(N){v=N},D.reset=function(){M.splice(0,M.length),b.splice(0,b.length),Sum=0},D}var E=e;function W(k,A,M,b,p){var v=[],S=function(Oe){return v.push(Oe),Oe},I=S(E.RollingAvg(k)),D=S(E.RollingAvg(k)),N=S(E.RollingAvg(k)),Q=S(E.RollingMedian(k)),G=S(E.RollingAvg(k)),B=S(E.RollingAvg(k)),j=S(E.RollingAvgIndex(M)),H=S(E.RollingAvgIndex(M)),Z=S(E.RollingMedianIndex(M)),le=S(E.RollingAvgIndex(M)),he=S(E.RollingAvgIndex(M)),ee=S(E.RollingSumPerIndex(M,b)),ae=S(E.Delay(A)),ce=S(E.DelayIndex(p,b)),te=S(E.Delay(A)),ge=S(E.DelayIndex(p,b)),be=!1,Pe=0,Fe=0;function dn(Oe,fe){var oe={};oe.median=Q(Oe),oe.min=Q.min(),oe.max=Q.max(),oe.q1=Q.q1(),oe.q3=Q.q3(),oe.avg=Q.avg(),oe.stdev=Math.sqrt(D(Math.pow(Oe-oe.avg,2))),oe.z=oe.stdev==0?0:(Oe-oe.avg)/oe.stdev,oe.zavg=N(oe.z),oe.mstdev=Math.sqrt(G(Math.pow(Oe-oe.median,2))),oe.mz=oe.mstdev==0?0:.6745*(Oe-oe.median)/oe.mstdev,oe.mzavg=B(oe.mz),oe.tmedian=Z(Oe,fe),oe.tmin=Z.min(),oe.tmax=Z.max(),oe.tavg=Z.avg(),oe.tcenter=Z.center(),oe.tq1=Z.q1(),oe.tq3=Z.q3(),oe.tsum=ee(Oe,fe),oe.tstdev=Math.sqrt(H(Math.pow(Oe-oe.tavg,2),fe)),oe.tz=oe.tstdev==0?0:(Oe-oe.tavg)/oe.tstdev,oe.tzavg=j(oe.tz,fe),oe.tmstdev=Math.sqrt(he(Math.pow(Oe-oe.tmedian,2),fe)),oe.tmz=oe.tmstdev==0?0:.6745*(Oe-oe.tmedian)/oe.tmstdev,oe.tmzavg=le(oe.tmz,fe),be===!1&&(be=fe-b);var Xt=fe-be;return be=fe,oe.avgtime=I(Xt),oe.count=Pe,Pe++,oe.tcount=Fe,Fe+=Xt,oe.value_delay=ae(Oe),oe.tvalue_delay=ce(Oe,fe),oe.index_delay=te(fe),oe.tindex_delay=ge(fe,fe),oe}return dn.reset=function(){for(var Oe=0;Oe<v.length;Oe++)v[Oe].reset();be=!1,Pe=0},dn}function P(k,A){var M=E.RollingMin(k),b=E.RollingMax(k),p=E.RollingAvg(k),v=E.Delay(A);function S(I){var D={};return D.min=M(I),D.max=b(I),D.avg=p(I),D.value_delay=v(I),D}return S.reset=function(){M.reset(),b.reset(),p.reset(),v.reset()},S}function U(k){var A=E.RollingMin(k),M=E.RollingMax(k),b=E.RollingAvg(k);function p(v){var S={};return S.min=A(v),S.max=M(v),S.avg=b(v),S}return p.reset=function(){A.reset(),M.reset(),b.reset()},p}e.RollingMin=t,e.RollingMax=n,e.RollingAvg=r,e.RollingMedian=c,e.RollingMinIndex=o,e.RollingMaxIndex=i,e.RollingAvgIndex=a,e.RollingMedianIndex=l,e.RollingSumPerIndex=h,e.Delay=d,e.DelayIndex=g,e.AllStats=W,e.SimpleStats=P,e.SimpleStatsNoDelay=U,e.PositiveLately=y,e.PositiveLatelyIndex=_,e.Histogram=T,e.RollingHistogram=O,e.RollingHistogramIndex=C,e.HideFirst=m})(Wd);const Ho=[];function $d(e,t=je){let n;const r=new Set;function o(s){if(ao(e,s)&&(e=s,n)){const c=!Ho.length;for(const l of r)l[1](),Ho.push(l,e);if(c){for(let l=0;l<Ho.length;l+=2)Ho[l][0](Ho[l+1]);Ho.length=0}}}function i(s){o(s(e))}function a(s,c=je){const l=[s,c];return r.add(l),r.size===1&&(n=t(o,i)||je),s(e),()=>{r.delete(l),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:a}}const mg="modulepreload",gg=function(e){return"/"+e},zd={},es=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.all(t.map(a=>{if(a=gg(a),a in zd)return;zd[a]=!0;const s=a.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(a,'"]').concat(c)))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":mg,s||(l.as="script",l.crossOrigin=""),l.href=a,i&&l.setAttribute("nonce",i),document.head.appendChild(l),s)return new Promise((h,d)=>{l.addEventListener("load",h),l.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(a))))})}))}return r.then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};let Ae;function qd(e){Ae=e}const yr=new Array(128).fill(void 0);yr.push(void 0,null,!0,!1);function Rn(e){return yr[e]}let Hi=yr.length;function yg(e){e<132||(yr[e]=Hi,Hi=e)}function ts(e){const t=Rn(e);return yg(e),t}function vn(e){Hi===yr.length&&yr.push(yr.length+1);const t=Hi;return Hi=yr[t],yr[t]=e,t}const vg=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let Hd=new vg("utf-8",{ignoreBOM:!0,fatal:!0});Hd.decode();let ns=null;function Vi(){return(ns===null||ns.byteLength===0)&&(ns=new Uint8Array(Ae.memory.buffer)),ns}function $l(e,t){return e=e>>>0,Hd.decode(Vi().subarray(e,e+t))}let Vo=0;function Vd(e,t){const n=t(e.length*1,1)>>>0;return Vi().set(e,n/1),Vo=e.length,n}function bg(e){return e==null}let rs=null;function os(){return(rs===null||rs.byteLength===0)&&(rs=new Int32Array(Ae.memory.buffer)),rs}let is=null;function wg(){return(is===null||is.byteLength===0)&&(is=new Uint32Array(Ae.memory.buffer)),is}function xg(e,t){e=e>>>0;const n=wg().subarray(e/4,e/4+t),r=[];for(let o=0;o<n.length;o++)r.push(ts(n[o]));return r}function _g(){Ae.greet()}function Sg(){Ae.main()}function Gd(e,t,n){const r=Ae.firdes_kaiser_lowpass(e,t,n);return ts(r)}const Mg=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let as=new Mg("utf-8");const Cg=typeof as.encodeInto=="function"?function(e,t){return as.encodeInto(e,t)}:function(e,t){const n=as.encode(e);return t.set(n),{read:e.length,written:n.length}};function Ag(e,t,n){if(n===void 0){const s=as.encode(e),c=t(s.length,1)>>>0;return Vi().subarray(c,c+s.length).set(s),Vo=s.length,c}let r=e.length,o=t(r,1)>>>0;const i=Vi();let a=0;for(;a<r;a++){const s=e.charCodeAt(a);if(s>127)break;i[o+a]=s}if(a!==r){a!==0&&(e=e.slice(a)),o=n(o,r,r=a+e.length*3,1)>>>0;const s=Vi().subarray(o+a,o+r),c=Cg(e,s);a+=c.written,o=n(o,r,a,1)>>>0}return Vo=a,o}function Tg(e,t){try{return e.apply(this,t)}catch(n){Ae.__wbindgen_exn_store(vn(n))}}const zl=Object.freeze({Flac:0,0:"Flac",Opus:1,1:"Opus"}),Eg=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>Ae.__wbg_audio_free(e>>>0));class ql{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Eg.unregister(this),t}free(){const t=this.__destroy_into_raw();Ae.__wbg_audio_free(t)}constructor(t,n,r,o){const i=Ae.audio_new(t,n,r,o);return this.__wbg_ptr=i>>>0,this}decode(t){const n=Vd(t,Ae.__wbindgen_malloc),r=Vo,o=Ae.audio_decode(this.__wbg_ptr,n,r);return ts(o)}set_nr(t){Ae.audio_set_nr(this.__wbg_ptr,t)}set_nb(t){Ae.audio_set_nb(this.__wbg_ptr,t)}set_an(t){Ae.audio_set_an(this.__wbg_ptr,t)}set_decoded_callback(t){Ae.audio_set_decoded_callback(this.__wbg_ptr,bg(t)?0:vn(t))}}const Yd=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>Ae.__wbg_foxenflacdecoder_free(e>>>0));class ss{static __wrap(t){t=t>>>0;const n=Object.create(ss.prototype);return n.__wbg_ptr=t,Yd.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Yd.unregister(this),t}free(){const t=this.__destroy_into_raw();Ae.__wbg_foxenflacdecoder_free(t)}static new(){const t=Ae.foxenflacdecoder_new();return ss.__wrap(t)}}const kg=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>Ae.__wbg_zstdstreamdecoder_free(e>>>0));class Xd{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,kg.unregister(this),t}free(){const t=this.__destroy_into_raw();Ae.__wbg_zstdstreamdecoder_free(t)}constructor(){const t=Ae.zstdstreamdecoder_new();return this.__wbg_ptr=t>>>0,this}clear(){Ae.zstdstreamdecoder_clear(this.__wbg_ptr)}decode(t){try{const i=Ae.__wbindgen_add_to_stack_pointer(-16),a=Vd(t,Ae.__wbindgen_malloc),s=Vo;Ae.zstdstreamdecoder_decode(i,this.__wbg_ptr,a,s);var n=os()[i/4+0],r=os()[i/4+1],o=xg(n,r).slice();return Ae.__wbindgen_free(n,r*4,4),o}finally{Ae.__wbindgen_add_to_stack_pointer(16)}}}nd=function(e){ts(e)},rd=function(e){const t=Rn(e);return vn(t)},od=function(e,t){alert($l(e,t))},id=function(){const e=new Error;return vn(e)},ad=function(e,t){const n=Rn(t).stack,r=Ag(n,Ae.__wbindgen_malloc,Ae.__wbindgen_realloc),o=Vo;os()[e/4+1]=o,os()[e/4+0]=r},sd=function(e,t){let n,r;try{n=e,r=t,console.error($l(e,t))}finally{Ae.__wbindgen_free(n,r,1)}},ld=function(){return Tg(function(e,t,n){const r=Rn(e).call(Rn(t),Rn(n));return vn(r)},arguments)},cd=function(e){const t=Rn(e).buffer;return vn(t)},ud=function(e,t,n){const r=new Uint8Array(Rn(e),t>>>0,n>>>0);return vn(r)},dd=function(e){const t=new Uint8Array(Rn(e));return vn(t)},hd=function(e,t,n){const r=new Float32Array(Rn(e),t>>>0,n>>>0);return vn(r)},fd=function(e){const t=new Float32Array(Rn(e));return vn(t)},pd=function(e){const t=new Float32Array(e>>>0);return vn(t)},md=function(e,t){throw new Error($l(e,t))},gd=function(){const e=Ae.memory;return vn(e)},Pm=Object.freeze(Object.defineProperty({__proto__:null,Audio:ql,AudioCodec:zl,FoxenFlacDecoder:ss,ZstdStreamDecoder:Xd,__wbg_alert_379870a8a3d45260:od,__wbg_buffer_12d079cc21e14bdb:cd,__wbg_call_b3ca7c6051f9bec1:ld,__wbg_error_f851667af71bcfc6:sd,__wbg_new_63b92bc8671ed464:dd,__wbg_new_9efabd6b6d2ce46d:fd,__wbg_new_abda76e883ba8a5f:id,__wbg_newwithbyteoffsetandlength_4a659d079a1650e0:hd,__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb:ud,__wbg_newwithlength_1e8b839a06de01c5:pd,__wbg_set_wasm:qd,__wbg_stack_658279fe44541cf6:ad,__wbindgen_memory:gd,__wbindgen_object_clone_ref:rd,__wbindgen_object_drop_ref:nd,__wbindgen_throw:md,firdes_kaiser_lowpass:Gd,greet:_g,main:Sg},Symbol.toStringTag,{value:"Module"}));let Hl;try{Hl=new TextDecoder}catch(e){}let de,lo,J=0;const Og=105,Ig=57342,Fg=57343,Kd=57337,Jd=6,Go={};let Gi=11281e4,vr=1681e4,xe={},Je,ls,cs=0,Yi=0,lt,bn,rt=[],Vl=[],Vt,jt,Xi,Qd={useRecords:!1,mapsAsObjects:!0},Ki=!1,Zd=2;try{new Function("")}catch(e){Zd=1/0}let eh=class yd{constructor(t){if(t&&((t.keyMap||t._keyMap)&&!t.useRecords&&(t.useRecords=!1,t.mapsAsObjects=!0),t.useRecords===!1&&t.mapsAsObjects===void 0&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(t.keyMap))this.mapKey.set(r,n)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let n=new Map;for(let[r,o]of Object.entries(t))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,o);return n}decodeKeys(t){if(!this._keyMap||t.constructor.name!="Map")return t;if(!this._mapKey){this._mapKey=new Map;for(let[r,o]of Object.entries(this._keyMap))this._mapKey.set(o,r)}let n={};return t.forEach((r,o)=>n[wn(this._mapKey.has(o)?this._mapKey.get(o):o)]=r),n}mapDecode(t,n){let r=this.decode(t);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(o=>this.decodeKeys(o))}return r}decode(t,n){if(de)return ah(()=>(Jl(),this?this.decode(t,n):yd.prototype.decode.call(Qd,t,n)));lo=n>-1?n:t.length,J=0,Yi=0,ls=null,lt=null,de=t;try{jt=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(r){throw de=null,t instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(t&&typeof t=="object"?t.constructor.name:typeof t))}if(this instanceof yd){if(xe=this,Vt=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return Je=this.structures,us();(!Je||Je.length>0)&&(Je=[])}else xe=Qd,(!Je||Je.length>0)&&(Je=[]),Vt=null;return us()}decodeMultiple(t,n){let r,o=0;try{let i=t.length;Ki=!0;let a=this?this.decode(t,i):Zl.decode(t,i);if(n){if(n(a)===!1)return;for(;J<i;)if(o=J,n(us())===!1)return}else{for(r=[a];J<i;)o=J,r.push(us());return r}}catch(i){throw i.lastPosition=o,i.values=r,i}finally{Ki=!1,Jl()}}};function us(){try{let e=Se();if(lt){if(J>=lt.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}J=lt.postBundlePosition,lt=null}if(J==lo)Je=null,de=null,bn&&(bn=null);else if(J>lo){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}else if(!Ki)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw Jl(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function Se(){let e=de[J++],t=e>>5;if(e=e&31,e>23)switch(e){case 24:e=de[J++];break;case 25:if(t==7)return Ng();e=jt.getUint16(J),J+=2;break;case 26:if(t==7){let n=jt.getFloat32(J);if(xe.useFloat32>2){let r=Ql[(de[J]&127)<<1|de[J+1]>>7];return J+=4,(r*n+(n>0?.5:-.5)>>0)/r}return J+=4,n}e=jt.getUint32(J),J+=4;break;case 27:if(t==7){let n=jt.getFloat64(J);return J+=8,n}if(t>1){if(jt.getUint32(J)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=jt.getUint32(J+4)}else xe.int64AsNumber?(e=jt.getUint32(J)*4294967296,e+=jt.getUint32(J+4)):e=jt.getBigUint64(J);J+=8;break;case 31:switch(t){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,o=0;for(;(r=Se())!=Go;){if(o>=Gi)throw new Error("Array length exceeds ".concat(Gi));n[o++]=r}return t==4?n:t==3?n.join(""):Buffer.concat(n);case 5:let i;if(xe.mapsAsObjects){let a={},s=0;if(xe.keyMap)for(;(i=Se())!=Go;){if(s++>=vr)throw new Error("Property count exceeds ".concat(vr));a[wn(xe.decodeKey(i))]=Se()}else for(;(i=Se())!=Go;){if(s++>=vr)throw new Error("Property count exceeds ".concat(vr));a[wn(i)]=Se()}return a}else{Xi&&(xe.mapsAsObjects=!0,Xi=!1);let a=new Map;if(xe.keyMap){let s=0;for(;(i=Se())!=Go;){if(s++>=vr)throw new Error("Map size exceeds ".concat(vr));a.set(xe.decodeKey(i),Se())}}else{let s=0;for(;(i=Se())!=Go;){if(s++>=vr)throw new Error("Map size exceeds ".concat(vr));a.set(i,Se())}}return a}case 7:return Go;default:throw new Error("Invalid major type for indefinite length "+t)}default:throw new Error("Unknown token "+e)}switch(t){case 0:return e;case 1:return~e;case 2:return Dg(e);case 3:if(Yi>=J)return ls.slice(J-cs,(J+=e)-cs);if(Yi==0&&lo<140&&e<32){let o=e<16?nh(e):Pg(e);if(o!=null)return o}return Rg(e);case 4:if(e>=Gi)throw new Error("Array length exceeds ".concat(Gi));let n=new Array(e);for(let o=0;o<e;o++)n[o]=Se();return n;case 5:if(e>=vr)throw new Error("Map size exceeds ".concat(Gi));if(xe.mapsAsObjects){let o={};if(xe.keyMap)for(let i=0;i<e;i++)o[wn(xe.decodeKey(Se()))]=Se();else for(let i=0;i<e;i++)o[wn(Se())]=Se();return o}else{Xi&&(xe.mapsAsObjects=!0,Xi=!1);let o=new Map;if(xe.keyMap)for(let i=0;i<e;i++)o.set(xe.decodeKey(Se()),Se());else for(let i=0;i<e;i++)o.set(Se(),Se());return o}case 6:if(e>=Kd){let o=Je[e&8191];if(o)return o.read||(o.read=Gl(o)),o.read();if(e<65536){if(e==Fg){let i=Xo(),a=Se(),s=Se();Xl(a,s);let c={};if(xe.keyMap)for(let l=2;l<i;l++){let h=xe.decodeKey(s[l-2]);c[wn(h)]=Se()}else for(let l=2;l<i;l++){let h=s[l-2];c[wn(h)]=Se()}return c}else if(e==Ig){let i=Xo(),a=Se();for(let s=2;s<i;s++)Xl(a++,Se());return Se()}else if(e==Kd)return $g();if(xe.getShared&&(Kl(),o=Je[e&8191],o))return o.read||(o.read=Gl(o)),o.read()}}let r=rt[e];if(r)return r.handlesRead?r(Se):r(Se());{let o=Se();for(let i=0;i<Vl.length;i++){let a=Vl[i](e,o);if(a!==void 0)return a}return new co(o,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let o=(Vt||uo())[e];if(o!==void 0)return o;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let o=new Error("Unexpected end of CBOR data");throw o.incomplete=!0,o}throw new Error("Unknown CBOR token "+e)}}const th=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Gl(e){if(!e)throw new Error("Structure is required in record definition");function t(){let n=de[J++];if(n=n&31,n>23)switch(n){case 24:n=de[J++];break;case 25:n=jt.getUint16(J),J+=2;break;case 26:n=jt.getUint32(J),J+=4;break;default:throw new Error("Expected array header, but got "+de[J-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(Se);r=r.next}if(this.slowReads++>=Zd){let i=this.length==n?this:this.slice(0,n);return r=xe.keyMap?new Function("r","return {"+i.map(a=>xe.decodeKey(a)).map(a=>th.test(a)?wn(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(a=>th.test(a)?wn(a)+":r()":"["+JSON.stringify(a)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(Se)}let o={};if(xe.keyMap)for(let i=0;i<n;i++)o[wn(xe.decodeKey(this[i]))]=Se();else for(let i=0;i<n;i++)o[wn(this[i])]=Se();return o}return e.slowReads=0,t}function wn(e){if(typeof e=="string")return e==="__proto__"?"__proto_":e;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint")return e.toString();if(e==null)return e+"";throw new Error("Invalid property name type "+typeof e)}let Rg=Yl;function Yl(e){let t;if(e<16&&(t=nh(e)))return t;if(e>64&&Hl)return Hl.decode(de.subarray(J,J+=e));const n=J+e,r=[];for(t="";J<n;){const o=de[J++];if(!(o&128))r.push(o);else if((o&224)===192){const i=de[J++]&63;r.push((o&31)<<6|i)}else if((o&240)===224){const i=de[J++]&63,a=de[J++]&63;r.push((o&31)<<12|i<<6|a)}else if((o&248)===240){const i=de[J++]&63,a=de[J++]&63,s=de[J++]&63;let c=(o&7)<<18|i<<12|a<<6|s;c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|c&1023),r.push(c)}else r.push(o);r.length>=4096&&(t+=ft.apply(String,r),r.length=0)}return r.length>0&&(t+=ft.apply(String,r)),t}let ft=String.fromCharCode;function Pg(e){let t=J,n=new Array(e);for(let r=0;r<e;r++){const o=de[J++];if((o&128)>0){J=t;return}n[r]=o}return ft.apply(String,n)}function nh(e){if(e<4)if(e<2){if(e===0)return"";{let t=de[J++];if((t&128)>1){J-=1;return}return ft(t)}}else{let t=de[J++],n=de[J++];if((t&128)>0||(n&128)>0){J-=2;return}if(e<3)return ft(t,n);let r=de[J++];if((r&128)>0){J-=3;return}return ft(t,n,r)}else{let t=de[J++],n=de[J++],r=de[J++],o=de[J++];if((t&128)>0||(n&128)>0||(r&128)>0||(o&128)>0){J-=4;return}if(e<6){if(e===4)return ft(t,n,r,o);{let i=de[J++];if((i&128)>0){J-=5;return}return ft(t,n,r,o,i)}}else if(e<8){let i=de[J++],a=de[J++];if((i&128)>0||(a&128)>0){J-=6;return}if(e<7)return ft(t,n,r,o,i,a);let s=de[J++];if((s&128)>0){J-=7;return}return ft(t,n,r,o,i,a,s)}else{let i=de[J++],a=de[J++],s=de[J++],c=de[J++];if((i&128)>0||(a&128)>0||(s&128)>0||(c&128)>0){J-=8;return}if(e<10){if(e===8)return ft(t,n,r,o,i,a,s,c);{let l=de[J++];if((l&128)>0){J-=9;return}return ft(t,n,r,o,i,a,s,c,l)}}else if(e<12){let l=de[J++],h=de[J++];if((l&128)>0||(h&128)>0){J-=10;return}if(e<11)return ft(t,n,r,o,i,a,s,c,l,h);let d=de[J++];if((d&128)>0){J-=11;return}return ft(t,n,r,o,i,a,s,c,l,h,d)}else{let l=de[J++],h=de[J++],d=de[J++],m=de[J++];if((l&128)>0||(h&128)>0||(d&128)>0||(m&128)>0){J-=12;return}if(e<14){if(e===12)return ft(t,n,r,o,i,a,s,c,l,h,d,m);{let g=de[J++];if((g&128)>0){J-=13;return}return ft(t,n,r,o,i,a,s,c,l,h,d,m,g)}}else{let g=de[J++],y=de[J++];if((g&128)>0||(y&128)>0){J-=14;return}if(e<15)return ft(t,n,r,o,i,a,s,c,l,h,d,m,g,y);let _=de[J++];if((_&128)>0){J-=15;return}return ft(t,n,r,o,i,a,s,c,l,h,d,m,g,y,_)}}}}}function Dg(e){return xe.copyBuffers?Uint8Array.prototype.slice.call(de,J,J+=e):de.subarray(J,J+=e)}let rh=new Float32Array(1),ds=new Uint8Array(rh.buffer,0,4);function Ng(){let e=de[J++],t=de[J++],n=(e&127)>>2;if(n===31)return t||e&3?NaN:e&128?-1/0:1/0;if(n===0){let r=((e&3)<<8|t)/16777216;return e&128?-r:r}return ds[3]=e&128|(n>>1)+56,ds[2]=(e&7)<<5|t>>3,ds[1]=t<<5,ds[0]=0,rh[0]}new Array(4096);class co{constructor(t,n){this.value=t,this.tag=n}}rt[0]=e=>new Date(e),rt[1]=e=>new Date(Math.round(e*1e3)),rt[2]=e=>{let t=BigInt(0);for(let n=0,r=e.byteLength;n<r;n++)t=BigInt(e[n])+(t<<BigInt(8));return t},rt[3]=e=>BigInt(-1)-rt[2](e),rt[4]=e=>+(e[1]+"e"+e[0]),rt[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const Xl=(e,t)=>{e=e-57344;let n=Je[e];n&&n.isShared&&((Je.restoreStructures||(Je.restoreStructures=[]))[e]=n),Je[e]=t,t.read=Gl(t)};rt[Og]=e=>{let t=e.length,n=e[1];Xl(e[0],n);let r={};for(let o=2;o<t;o++){let i=n[o-2];r[wn(i)]=e[o]}return r},rt[14]=e=>lt?lt[0].slice(lt.position0,lt.position0+=e):new co(e,14),rt[15]=e=>lt?lt[1].slice(lt.position1,lt.position1+=e):new co(e,15);let Lg={Error,RegExp};rt[27]=e=>(Lg[e[0]]||Error)(e[1],e[2]);const oh=e=>{if(de[J++]!=132){let n=new Error("Packed values structure must be followed by a 4 element array");throw de.length<J&&(n.incomplete=!0),n}let t=e();if(!t||!t.length){let n=new Error("Packed values structure must be followed by a 4 element array");throw n.incomplete=!0,n}return Vt=Vt?t.concat(Vt.slice(t.length)):t,Vt.prefixes=e(),Vt.suffixes=e(),e()};oh.handlesRead=!0,rt[51]=oh,rt[Jd]=e=>{if(!Vt)if(xe.getShared)Kl();else return new co(e,Jd);if(typeof e=="number")return Vt[16+(e>=0?2*e:-2*e-1)];let t=new Error("No support for non-integer packed references yet");throw e===void 0&&(t.incomplete=!0),t},rt[28]=e=>{bn||(bn=new Map,bn.id=0);let t=bn.id++,n=J,r=de[J],o;r>>5==4?o=[]:o={};let i={target:o};bn.set(t,i);let a=e();return i.used?(Object.getPrototypeOf(o)!==Object.getPrototypeOf(a)&&(J=n,o=a,bn.set(t,{target:o}),a=e()),Object.assign(o,a)):(i.target=a,a)},rt[28].handlesRead=!0,rt[29]=e=>{let t=bn.get(e);return t.used=!0,t.target},rt[258]=e=>new Set(e),(rt[259]=e=>(xe.mapsAsObjects&&(xe.mapsAsObjects=!1,Xi=!0),e())).handlesRead=!0;function Yo(e,t){return typeof e=="string"?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function uo(){if(!Vt)if(xe.getShared)Kl();else throw new Error("No packed values available");return Vt}const jg=1399353956;Vl.push((e,t)=>{if(e>=225&&e<=255)return Yo(uo().prefixes[e-224],t);if(e>=28704&&e<=32767)return Yo(uo().prefixes[e-28672],t);if(e>=1879052288&&e<=2147483647)return Yo(uo().prefixes[e-1879048192],t);if(e>=216&&e<=223)return Yo(t,uo().suffixes[e-216]);if(e>=27647&&e<=28671)return Yo(t,uo().suffixes[e-27639]);if(e>=1811940352&&e<=1879048191)return Yo(t,uo().suffixes[e-1811939328]);if(e==jg)return{packedValues:Vt,structures:Je.slice(0),version:t};if(e==55799)return t});const Ug=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,ih=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Bg=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<ih.length;e++)Wg(ih[e],Bg[e]);function Wg(e,t){let n="get"+e.name.slice(0,-5),r;typeof e=="function"?r=e.BYTES_PER_ELEMENT:e=null;for(let o=0;o<2;o++){if(!o&&r==1)continue;let i=r==2?1:r==4?2:r==8?3:0;rt[o?t:t-4]=r==1||o==Ug?a=>{if(!e)throw new Error("Could not find typed array for code "+t);return!xe.copyBuffers&&(r===1||r===2&&!(a.byteOffset&1)||r===4&&!(a.byteOffset&3)||r===8&&!(a.byteOffset&7))?new e(a.buffer,a.byteOffset,a.byteLength>>i):new e(Uint8Array.prototype.slice.call(a,0).buffer)}:a=>{if(!e)throw new Error("Could not find typed array for code "+t);let s=new DataView(a.buffer,a.byteOffset,a.byteLength),c=a.length>>i,l=new e(c),h=s[n];for(let d=0;d<c;d++)l[d]=h.call(s,d<<i,o);return l}}}function $g(){let e=Xo(),t=J+Se();for(let r=2;r<e;r++){let o=Xo();J+=o}let n=J;return J=t,lt=[Yl(Xo()),Yl(Xo())],lt.position0=0,lt.position1=0,lt.postBundlePosition=J,J=n,Se()}function Xo(){let e=de[J++]&31;if(e>23)switch(e){case 24:e=de[J++];break;case 25:e=jt.getUint16(J),J+=2;break;case 26:e=jt.getUint32(J),J+=4;break}return e}function Kl(){if(xe.getShared){let e=ah(()=>(de=null,xe.getShared()))||{},t=e.structures||[];xe.sharedVersion=e.version,Vt=xe.sharedValues=e.packedValues,Je===!0?xe.structures=Je=t:Je.splice.apply(Je,[0,t.length].concat(t))}}function ah(e){let t=lo,n=J,r=cs,o=Yi,i=ls,a=bn,s=lt,c=new Uint8Array(de.slice(0,lo)),l=Je,h=xe,d=Ki,m=e();return lo=t,J=n,cs=r,Yi=o,ls=i,bn=a,lt=s,de=c,Ki=d,Je=l,xe=h,jt=new DataView(de.buffer,de.byteOffset,de.byteLength),m}function Jl(){de=null,bn=null,Je=null}const Ql=new Array(147);for(let e=0;e<256;e++)Ql[e]=+("1e"+Math.floor(45.15-e*.30103));let Zl=new eh({useRecords:!1});const sh=Zl.decode;Zl.decodeMultiple;let hs;try{hs=new TextEncoder}catch(e){}let ec,lh;const fs=typeof globalThis=="object"&&globalThis.Buffer,Ji=typeof fs<"u",tc=Ji?fs.allocUnsafeSlow:Uint8Array,ch=Ji?fs:Uint8Array,uh=256,dh=Ji?4294967296:2144337920;let nc,z,Ue,L=0,Fr,ct=null;const zg=61440,qg=/[\u0080-\uFFFF]/,an=Symbol("record-id");let Hg=class extends eh{constructor(e){super(e),this.offset=0;let t,n,r,o,i;e=e||{};let a=ch.prototype.utf8Write?function(v,S,I){return z.utf8Write(v,S,I)}:hs&&hs.encodeInto?function(v,S){return hs.encodeInto(v,z.subarray(S)).written}:!1,s=this,c=e.structures||e.saveStructures,l=e.maxSharedStructures;if(l==null&&(l=c?128:0),l>8190)throw new Error("Maximum maxSharedStructure is 8190");let h=e.sequential;h&&(l=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let d,m,g=e.sharedValues,y;if(g){y=Object.create(null);for(let v=0,S=g.length;v<S;v++)y[g[v]]=v}let _=[],T=0,O=0;this.mapEncode=function(v,S){if(this._keyMap&&!this._mapped)switch(v.constructor.name){case"Array":v=v.map(I=>this.encodeKeys(I));break}return this.encode(v,S)},this.encode=function(v,S){if(z||(z=new tc(8192),Ue=new DataView(z.buffer,0,8192),L=0),Fr=z.length-10,Fr-L<2048?(z=new tc(z.length),Ue=new DataView(z.buffer,0,z.length),Fr=z.length-10,L=0):S===mh&&(L=L+7&2147483640),t=L,s.useSelfDescribedHeader&&(Ue.setUint32(L,3654940416),L+=3),i=s.structuredClone?new Map:null,s.bundleStrings&&typeof v!="string"?(ct=[],ct.size=1/0):ct=null,n=s.structures,n){if(n.uninitialized){let D=s.getShared()||{};s.structures=n=D.structures||[],s.sharedVersion=D.version;let N=s.sharedValues=D.packedValues;if(N){y={};for(let Q=0,G=N.length;Q<G;Q++)y[N[Q]]=Q}}let I=n.length;if(I>l&&!h&&(I=l),!n.transitions){n.transitions=Object.create(null);for(let D=0;D<I;D++){let N=n[D];if(!N)continue;let Q,G=n.transitions;for(let B=0,j=N.length;B<j;B++){G[an]===void 0&&(G[an]=D);let H=N[B];Q=G[H],Q||(Q=G[H]=Object.create(null)),G=Q}G[an]=D|1048576}}h||(n.nextId=I)}if(r&&(r=!1),o=n||[],m=y,e.pack){let I=new Map;if(I.values=[],I.encoder=s,I.maxValues=e.maxPrivatePackedValues||(y?16:1/0),I.objectMap=y||!1,I.samplingPackedValues=d,ps(v,I),I.values.length>0){z[L++]=216,z[L++]=51,Yn(4);let D=I.values;C(D),Yn(0),Yn(0),m=Object.create(y||null);for(let N=0,Q=D.length;N<Q;N++)m[D[N]]=N}}nc=S&ac;try{if(nc)return;if(C(v),ct&&ph(t,C),s.offset=L,i&&i.idsToInsert){L+=i.idsToInsert.length*2,L>Fr&&W(L),s.offset=L;let I=Yg(z.subarray(t,L),i.idsToInsert);return i=null,I}return S&mh?(z.start=t,z.end=L,z):z.subarray(t,L)}finally{if(n){if(O<10&&O++,n.length>l&&(n.length=l),T>1e4)n.transitions=null,O=0,T=0,_.length>0&&(_=[]);else if(_.length>0&&!h){for(let I=0,D=_.length;I<D;I++)_[I][an]=void 0;_=[]}}if(r&&s.saveShared){s.structures.length>l&&(s.structures=s.structures.slice(0,l));let I=z.subarray(t,L);return s.updateSharedData()===!1?s.encode(v):I}S&Xg&&(L=t)}},this.findCommonStringsToPack=()=>(d=new Map,y||(y=Object.create(null)),v=>{let S=v&&v.threshold||4,I=this.pack?v.maxPrivatePackedValues||16:0;g||(g=this.sharedValues=[]);for(let[D,N]of d)N.count>S&&(y[D]=I++,g.push(D),r=!0);for(;this.saveShared&&this.updateSharedData()===!1;);d=null});const C=v=>{L>Fr&&(z=W(L));var S=typeof v,I;if(S==="string"){if(m){let G=m[v];if(G>=0){G<16?z[L++]=G+224:(z[L++]=198,G&1?C(15-G>>1):C(G-16>>1));return}else if(d&&!e.pack){let B=d.get(v);B?B.count++:d.set(v,{count:1})}}let D=v.length;if(ct&&D>=4&&D<1024){if((ct.size+=D)>zg){let B,j=(ct[0]?ct[0].length*3+ct[1].length:0)+10;L+j>Fr&&(z=W(L+j)),z[L++]=217,z[L++]=223,z[L++]=249,z[L++]=ct.position?132:130,z[L++]=26,B=L-t,L+=4,ct.position&&ph(t,C),ct=["",""],ct.size=0,ct.position=B}let G=qg.test(v);ct[G?0:1]+=v,z[L++]=G?206:207,C(D);return}let N;D<32?N=1:D<256?N=2:D<65536?N=3:N=5;let Q=D*3;if(L+Q>Fr&&(z=W(L+Q)),D<64||!a){let G,B,j,H=L+N;for(G=0;G<D;G++)B=v.charCodeAt(G),B<128?z[H++]=B:B<2048?(z[H++]=B>>6|192,z[H++]=B&63|128):(B&64512)===55296&&((j=v.charCodeAt(G+1))&64512)===56320?(B=65536+((B&1023)<<10)+(j&1023),G++,z[H++]=B>>18|240,z[H++]=B>>12&63|128,z[H++]=B>>6&63|128,z[H++]=B&63|128):(z[H++]=B>>12|224,z[H++]=B>>6&63|128,z[H++]=B&63|128);I=H-L-N}else I=a(v,L+N,Q);I<24?z[L++]=96|I:I<256?(N<2&&z.copyWithin(L+2,L+1,L+1+I),z[L++]=120,z[L++]=I):I<65536?(N<3&&z.copyWithin(L+3,L+2,L+2+I),z[L++]=121,z[L++]=I>>8,z[L++]=I&255):(N<5&&z.copyWithin(L+5,L+3,L+3+I),z[L++]=122,Ue.setUint32(L,I),L+=4),L+=I}else if(S==="number")if(!this.alwaysUseFloat&&v>>>0===v)v<24?z[L++]=v:v<256?(z[L++]=24,z[L++]=v):v<65536?(z[L++]=25,z[L++]=v>>8,z[L++]=v&255):(z[L++]=26,Ue.setUint32(L,v),L+=4);else if(!this.alwaysUseFloat&&v>>0===v)v>=-24?z[L++]=31-v:v>=-256?(z[L++]=56,z[L++]=~v):v>=-65536?(z[L++]=57,Ue.setUint16(L,~v),L+=2):(z[L++]=58,Ue.setUint32(L,~v),L+=4);else{let D;if((D=this.useFloat32)>0&&v<4294967296&&v>=-2147483648){z[L++]=250,Ue.setFloat32(L,v);let N;if(D<4||(N=v*Ql[(z[L]&127)<<1|z[L+1]>>7])>>0===N){L+=4;return}else L--}z[L++]=251,Ue.setFloat64(L,v),L+=8}else if(S==="object")if(!v)z[L++]=246;else{if(i){let N=i.get(v);if(N){if(z[L++]=216,z[L++]=29,z[L++]=25,!N.references){let Q=i.idsToInsert||(i.idsToInsert=[]);N.references=[],Q.push(N)}N.references.push(L-t),L+=2;return}else i.set(v,{offset:L-t})}let D=v.constructor;if(D===Object)E(v);else if(D===Array){I=v.length,I<24?z[L++]=128|I:Yn(I);for(let N=0;N<I;N++)C(v[N])}else if(D===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(z[L++]=217,z[L++]=1,z[L++]=3),I=v.size,I<24?z[L++]=160|I:I<256?(z[L++]=184,z[L++]=I):I<65536?(z[L++]=185,z[L++]=I>>8,z[L++]=I&255):(z[L++]=186,Ue.setUint32(L,I),L+=4),s.keyMap)for(let[N,Q]of v)C(s.encodeKey(N)),C(Q);else for(let[N,Q]of v)C(N),C(Q);else{for(let N=0,Q=ec.length;N<Q;N++){let G=lh[N];if(v instanceof G){let B=ec[N],j=B.tag;j==null&&(j=B.getTag&&B.getTag.call(this,v)),j<24?z[L++]=192|j:j<256?(z[L++]=216,z[L++]=j):j<65536?(z[L++]=217,z[L++]=j>>8,z[L++]=j&255):j>-1&&(z[L++]=218,Ue.setUint32(L,j),L+=4),B.encode.call(this,v,C,W);return}}if(v[Symbol.iterator]){if(nc){let N=new Error("Iterable should be serialized as iterator");throw N.iteratorNotHandled=!0,N}z[L++]=159;for(let N of v)C(N);z[L++]=255;return}if(v[Symbol.asyncIterator]||rc(v)){let N=new Error("Iterable/blob should be serialized as iterator");throw N.iteratorNotHandled=!0,N}if(this.useToJSON&&v.toJSON){const N=v.toJSON();if(N!==v)return C(N)}E(v)}}else if(S==="boolean")z[L++]=v?245:244;else if(S==="bigint"){if(v<BigInt(1)<<BigInt(64)&&v>=0)z[L++]=27,Ue.setBigUint64(L,v);else if(v>-(BigInt(1)<<BigInt(64))&&v<0)z[L++]=59,Ue.setBigUint64(L,-v-BigInt(1));else if(this.largeBigIntToFloat)z[L++]=251,Ue.setFloat64(L,Number(v));else{v>=BigInt(0)?z[L++]=194:(z[L++]=195,v=BigInt(-1)-v);let D=[];for(;v;)D.push(Number(v&BigInt(255))),v>>=BigInt(8);oc(new Uint8Array(D.reverse()),W);return}L+=8}else if(S==="undefined")z[L++]=247;else throw new Error("Unknown type: "+S)},E=this.useRecords===!1?this.variableMapSize?v=>{let S=Object.keys(v),I=Object.values(v),D=S.length;if(D<24?z[L++]=160|D:D<256?(z[L++]=184,z[L++]=D):D<65536?(z[L++]=185,z[L++]=D>>8,z[L++]=D&255):(z[L++]=186,Ue.setUint32(L,D),L+=4),s.keyMap)for(let N=0;N<D;N++)C(s.encodeKey(S[N])),C(I[N]);else for(let N=0;N<D;N++)C(S[N]),C(I[N])}:v=>{z[L++]=185;let S=L-t;L+=2;let I=0;if(s.keyMap)for(let D in v)(typeof v.hasOwnProperty!="function"||v.hasOwnProperty(D))&&(C(s.encodeKey(D)),C(v[D]),I++);else for(let D in v)(typeof v.hasOwnProperty!="function"||v.hasOwnProperty(D))&&(C(D),C(v[D]),I++);z[S+++t]=I>>8,z[S+t]=I&255}:(v,S)=>{let I,D=o.transitions||(o.transitions=Object.create(null)),N=0,Q=0,G,B;if(this.keyMap){B=Object.keys(v).map(H=>this.encodeKey(H)),Q=B.length;for(let H=0;H<Q;H++){let Z=B[H];I=D[Z],I||(I=D[Z]=Object.create(null),N++),D=I}}else for(let H in v)(typeof v.hasOwnProperty!="function"||v.hasOwnProperty(H))&&(I=D[H],I||(D[an]&1048576&&(G=D[an]&65535),I=D[H]=Object.create(null),N++),D=I,Q++);let j=D[an];if(j!==void 0)j&=65535,z[L++]=217,z[L++]=j>>8|224,z[L++]=j&255;else if(B||(B=D.__keys__||(D.__keys__=Object.keys(v))),G===void 0?(j=o.nextId++,j||(j=0,o.nextId=1),j>=uh&&(o.nextId=(j=l)+1)):j=G,o[j]=B,j<l){z[L++]=217,z[L++]=j>>8|224,z[L++]=j&255,D=o.transitions;for(let H=0;H<Q;H++)(D[an]===void 0||D[an]&1048576)&&(D[an]=j),D=D[B[H]];D[an]=j|1048576,r=!0}else{if(D[an]=j,Ue.setUint32(L,3655335680),L+=3,N&&(T+=O*N),_.length>=uh-l&&(_.shift()[an]=void 0),_.push(D),Yn(Q+2),C(57344+j),C(B),S)return;for(let H in v)(typeof v.hasOwnProperty!="function"||v.hasOwnProperty(H))&&C(v[H]);return}if(Q<24?z[L++]=128|Q:Yn(Q),!S)for(let H in v)(typeof v.hasOwnProperty!="function"||v.hasOwnProperty(H))&&C(v[H])},W=v=>{let S;if(v>16777216){if(v-t>dh)throw new Error("Encoded buffer would be larger than maximum buffer size");S=Math.min(dh,Math.round(Math.max((v-t)*(v>67108864?1.25:2),4194304)/4096)*4096)}else S=(Math.max(v-t<<2,z.length-1)>>12)+1<<12;let I=new tc(S);return Ue=new DataView(I.buffer,0,S),z.copy?z.copy(I,0,t,v):I.set(z.slice(t,v)),L-=t,t=0,Fr=I.length-10,z=I};let P=100,U=1e3;this.encodeAsIterable=function(v,S){return b(v,S,k)},this.encodeAsAsyncIterable=function(v,S){return b(v,S,p)};function*k(v,S,I){let D=v.constructor;if(D===Object){let N=s.useRecords!==!1;N?E(v,!0):hh(Object.keys(v).length,160);for(let Q in v){let G=v[Q];N||C(Q),G&&typeof G=="object"?S[Q]?yield*k(G,S[Q]):yield*A(G,S,Q):C(G)}}else if(D===Array){let N=v.length;Yn(N);for(let Q=0;Q<N;Q++){let G=v[Q];G&&(typeof G=="object"||L-t>P)?S.element?yield*k(G,S.element):yield*A(G,S,"element"):C(G)}}else if(v[Symbol.iterator]&&!v.buffer){z[L++]=159;for(let N of v)N&&(typeof N=="object"||L-t>P)?S.element?yield*k(N,S.element):yield*A(N,S,"element"):C(N);z[L++]=255}else rc(v)?(hh(v.size,64),yield z.subarray(t,L),yield v,M()):v[Symbol.asyncIterator]?(z[L++]=159,yield z.subarray(t,L),yield v,M(),z[L++]=255):C(v);I&&L>t?yield z.subarray(t,L):L-t>P&&(yield z.subarray(t,L),M())}function*A(v,S,I){let D=L-t;try{C(v),L-t>P&&(yield z.subarray(t,L),M())}catch(N){if(N.iteratorNotHandled)S[I]={},L=t+D,yield*k.call(this,v,S[I]);else throw N}}function M(){P=U,s.encode(null,ac)}function b(v,S,I){return S&&S.chunkThreshold?P=U=S.chunkThreshold:P=100,v&&typeof v=="object"?(s.encode(null,ac),I(v,s.iterateProperties||(s.iterateProperties={}),!0)):[s.encode(v)]}async function*p(v,S){for(let I of k(v,S,!0)){let D=I.constructor;if(D===ch||D===Uint8Array)yield I;else if(rc(I)){let N=I.stream().getReader(),Q;for(;!(Q=await N.read()).done;)yield Q.value}else if(I[Symbol.asyncIterator])for await(let N of I)M(),N?yield*p(N,S.async||(S.async={})):yield s.encode(N);else yield I}}}useBuffer(e){z=e,Ue=new DataView(z.buffer,z.byteOffset,z.byteLength),L=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let t=this.structures.slice(0),n=new fh(t,this.sharedValues,this.sharedVersion),r=this.saveShared(n,o=>(o&&o.version||0)==e);return r===!1?(n=this.getShared()||{},this.structures=n.structures||[],this.sharedValues=n.packedValues,this.sharedVersion=n.version,this.structures.nextId=this.structures.length):t.forEach((o,i)=>this.structures[i]=o),r}};function hh(e,t){e<24?z[L++]=t|e:e<256?(z[L++]=t|24,z[L++]=e):e<65536?(z[L++]=t|25,z[L++]=e>>8,z[L++]=e&255):(z[L++]=t|26,Ue.setUint32(L,e),L+=4)}class fh{constructor(t,n,r){this.structures=t,this.packedValues=n,this.version=r}}function Yn(e){e<24?z[L++]=128|e:e<256?(z[L++]=152,z[L++]=e):e<65536?(z[L++]=153,z[L++]=e>>8,z[L++]=e&255):(z[L++]=154,Ue.setUint32(L,e),L+=4)}const Vg=typeof Blob>"u"?function(){}:Blob;function rc(e){if(e instanceof Vg)return!0;let t=e[Symbol.toStringTag];return t==="Blob"||t==="File"}function ps(e,t){switch(typeof e){case"string":if(e.length>3){if(t.objectMap[e]>-1||t.values.length>=t.maxValues)return;let r=t.get(e);if(r)++r.count==2&&t.values.push(e);else if(t.set(e,{count:1}),t.samplingPackedValues){let o=t.samplingPackedValues.get(e);o?o.count++:t.samplingPackedValues.set(e,{count:1})}}break;case"object":if(e)if(e instanceof Array)for(let r=0,o=e.length;r<o;r++)ps(e[r],t);else{let r=!t.encoder.useRecords;for(var n in e)e.hasOwnProperty(n)&&(r&&ps(n,t),ps(e[n],t))}break;case"function":console.log(e)}}const Gg=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;lh=[Date,Set,Error,RegExp,co,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,fh],ec=[{tag:1,encode(e,t){let n=e.getTime()/1e3;(this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296?(z[L++]=26,Ue.setUint32(L,n),L+=4):(z[L++]=251,Ue.setFloat64(L,n),L+=8)}},{tag:258,encode(e,t){let n=Array.from(e);t(n)}},{tag:27,encode(e,t){t([e.name,e.message])}},{tag:27,encode(e,t){t(["RegExp",e.source,e.flags])}},{getTag(e){return e.tag},encode(e,t){t(e.value)}},{encode(e,t,n){oc(e,n)}},{getTag(e){if(e.constructor===Uint8Array&&(this.tagUint8Array||Ji&&this.tagUint8Array!==!1))return 64},encode(e,t,n){oc(e,n)}},Xn(68,1),Xn(69,2),Xn(70,4),Xn(71,8),Xn(72,1),Xn(77,2),Xn(78,4),Xn(79,8),Xn(85,4),Xn(86,8),{encode(e,t){let n=e.packedValues||[],r=e.structures||[];if(n.values.length>0){z[L++]=216,z[L++]=51,Yn(4);let o=n.values;t(o),Yn(0),Yn(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,a=o.length;i<a;i++)packedObjectMap[o[i]]=i}if(r){Ue.setUint32(L,3655335424),L+=3;let o=r.slice(0);o.unshift(57344),o.push(new co(e.version,1399353956)),t(o)}else t(new co(e.version,1399353956))}}];function Xn(e,t){return!Gg&&t>1&&(e-=4),{tag:e,encode:function(n,r){let o=n.byteLength,i=n.byteOffset||0,a=n.buffer||n;r(Ji?fs.from(a,i,o):new Uint8Array(a,i,o))}}}function oc(e,t){let n=e.byteLength;n<24?z[L++]=64+n:n<256?(z[L++]=88,z[L++]=n):n<65536?(z[L++]=89,z[L++]=n>>8,z[L++]=n&255):(z[L++]=90,Ue.setUint32(L,n),L+=4),L+n>=z.length&&t(L+n),z.set(e.buffer?e:new Uint8Array(e),L),L+=n}function Yg(e,t){let n,r=t.length*2,o=e.length-r;t.sort((i,a)=>i.offset>a.offset?1:-1);for(let i=0;i<t.length;i++){let a=t[i];a.id=i;for(let s of a.references)e[s++]=i>>8,e[s]=i&255}for(;n=t.pop();){let i=n.offset;e.copyWithin(i+r,i,o),r-=2;let a=i+r;e[a++]=216,e[a++]=28,o=i}return e}function ph(e,t){Ue.setUint32(ct.position+e,L-ct.position-e+1);let n=ct;ct=null,t(n[0]),t(n[1])}let ic=new Hg({useRecords:!1});ic.encode,ic.encodeAsIterable,ic.encodeAsAsyncIterable;const mh=512,Xg=1024,ac=2048;function Ge(e,n){var n=n||{};this._capacity=n.capacity,this._head=0,this._tail=0,Array.isArray(e)?this._fromArray(e):(this._capacityMask=3,this._list=new Array(4))}Ge.prototype.peekAt=function(e){var t=e;if(t===(t|0)){var n=this.size();if(!(t>=n||t<-n))return t<0&&(t+=n),t=this._head+t&this._capacityMask,this._list[t]}},Ge.prototype.get=function(e){return this.peekAt(e)},Ge.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},Ge.prototype.peekFront=function(){return this.peek()},Ge.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(Ge.prototype,"length",{get:function(){return this.size()}}),Ge.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Ge.prototype.unshift=function(e){if(arguments.length===0)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Ge.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},Ge.prototype.push=function(e){if(arguments.length===0)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},Ge.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=t>>>2&&this._shrinkArray(),n}},Ge.prototype.removeOne=function(e){var t=e;if(t===(t|0)&&this._head!==this._tail){var n=this.size(),r=this._list.length;if(!(t>=n||t<-n)){t<0&&(t+=n),t=this._head+t&this._capacityMask;var o=this._list[t],i;if(e<n/2){for(i=e;i>0;i--)this._list[t]=this._list[t=t-1+r&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(i=n-1-e;i>0;i--)this._list[t]=this._list[t=t+1+r&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+r&this._capacityMask}return o}}},Ge.prototype.remove=function(e,t){var n=e,r,o=t;if(n===(n|0)&&this._head!==this._tail){var i=this.size(),a=this._list.length;if(!(n>=i||n<-i||t<1)){if(n<0&&(n+=i),t===1||!t)return r=new Array(1),r[0]=this.removeOne(n),r;if(n===0&&n+t>=i)return r=this.toArray(),this.clear(),r;n+t>i&&(t=i-n);var s;for(r=new Array(t),s=0;s<t;s++)r[s]=this._list[this._head+n+s&this._capacityMask];if(n=this._head+n&this._capacityMask,e+t===i){for(this._tail=this._tail-t+a&this._capacityMask,s=t;s>0;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(e===0){for(this._head=this._head+t+a&this._capacityMask,s=t-1;s>0;s--)this._list[n=n+1+a&this._capacityMask]=void 0;return r}if(n<i/2){for(this._head=this._head+e+t+a&this._capacityMask,s=e;s>0;s--)this.unshift(this._list[n=n-1+a&this._capacityMask]);for(n=this._head-1+a&this._capacityMask;o>0;)this._list[n=n-1+a&this._capacityMask]=void 0,o--;e<0&&(this._tail=n)}else{for(this._tail=n,n=n+t+a&this._capacityMask,s=i-(t+e);s>0;s--)this.push(this._list[n++]);for(n=this._tail;o>0;)this._list[n=n+1+a&this._capacityMask]=void 0,o--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),r}}},Ge.prototype.splice=function(e,t){var n=e;if(n===(n|0)){var r=this.size();if(n<0&&(n+=r),!(n>r))if(arguments.length>2){var o,i,a,s=arguments.length,c=this._list.length,l=2;if(!r||n<r/2){for(i=new Array(n),o=0;o<n;o++)i[o]=this._list[this._head+o&this._capacityMask];for(t===0?(a=[],n>0&&(this._head=this._head+n+c&this._capacityMask)):(a=this.remove(n,t),this._head=this._head+n+c&this._capacityMask);s>l;)this.unshift(arguments[--s]);for(o=n;o>0;o--)this.unshift(i[o-1])}else{i=new Array(r-(n+t));var h=i.length;for(o=0;o<h;o++)i[o]=this._list[this._head+n+t+o&this._capacityMask];for(t===0?(a=[],n!=r&&(this._tail=this._head+n+c&this._capacityMask)):(a=this.remove(n,t),this._tail=this._tail-h+c&this._capacityMask);l<s;)this.push(arguments[l++]);for(o=0;o<h;o++)this.push(i[o])}return a}else return this.remove(n,t)}},Ge.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0},Ge.prototype.isEmpty=function(){return this._head===this._tail},Ge.prototype.toArray=function(){return this._copyArray(!1)},Ge.prototype._fromArray=function(e){var t=e.length,n=this._nextPowerOf2(t);this._list=new Array(n),this._capacityMask=n-1,this._tail=t;for(var r=0;r<t;r++)this._list[r]=e[r]},Ge.prototype._copyArray=function(e,t){var n=this._list,r=n.length,o=this.length;if(t=t|o,t==o&&this._head<this._tail)return this._list.slice(this._head,this._tail);var i=new Array(t),a=0,s;if(e||this._head>this._tail){for(s=this._head;s<r;s++)i[a++]=n[s];for(s=0;s<this._tail;s++)i[a++]=n[s]}else for(s=this._head;s<this._tail;s++)i[a++]=n[s];return i},Ge.prototype._growArray=function(){if(this._head!=0){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1},Ge.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},Ge.prototype._nextPowerOf2=function(e){var t=Math.log(e)/Math.log(2),n=1<<t+1;return Math.max(n,4)};var Kg=Ge;const sc=so(Kg),Jg=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1})();window.crypto||(window.crypto=window.msCrypto);function Qg(e,t,n,r){switch(e){case"flac":return new ql(zl.Flac,t,n,r);case"opus":return new ql(zl.Opus,t,n,r)}}function Zg(e){return e=sh(e),e.data=new Int8Array(e.data),e}class gh{constructor(){this.decoder=new Xd}decode(t){return t=new Uint8Array(t),this.decoder.decode(t).map(Zg)}destroy(){this.decoder.free()}}function e2(e){switch(e){case"zstd":return new gh;case"av1":return new gh}}async function t2(){let e;Jg?e=await es(()=>import("./phantomsdrdsp_bg-CzVccMHk.js").then(async t=>(await t.__tla,t)),[]):e=await es(()=>import("./phantomsdrdsp_bg_fallback-CnKe41AI.js").then(async t=>(await t.__tla,t)),[]),qd(e),e.__wbindgen_start()}const n2={push:function(e){if(typeof e!="number")throw new Error("val must be a number.");return this.sum-=this.data[this.dataI],this.sum+=e,this.data[this.dataI]=e,this.dataI=(this.dataI+1)%this.size,this},get:function(){return this.sum/this.size}};var r2=(e,t=0)=>{if(typeof e!="number")throw new Error("size must be a number.");if(typeof t!="number")throw new Error("fill must be a number.");const n=Object.create(n2);return n.sum=e*t,n.size=e,n.data=new Array(e),n.data.fill(t),n.dataI=0,n};const yh=so(r2);var o2=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((u,f)=>{r=u,o=f}),["_init_decode","_exec_decode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(u=>{Object.getOwnPropertyDescriptor(n.ready,u)||Object.defineProperty(n.ready,u,{get:()=>fe("You are getting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>fe("You are setting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),a=(u,f)=>{throw f},s=typeof window=="object",c=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",h=!s&&!l&&!c;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var d="";function m(u){return n.locateFile?n.locateFile(u,d):d+u}var g,y,_;if(l){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var T=process.versions.node,O=T.split(".").slice(0,3);if(O=O[0]*1e4+O[1]*100+O[2].split("-")[0]*1,O<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+T+")");const{createRequire:u}=await es(async()=>{const{createRequire:f}=await Promise.resolve().then(()=>Fu);return{createRequire:f}},void 0);var C=u(import.meta.url),E=C("fs"),W=C("path");c?d=W.dirname(d)+"/":d=C("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),g=(f,F)=>(f=mt(f)?new URL(f):W.normalize(f),E.readFileSync(f,F?void 0:"utf8")),_=f=>{var F=g(f,!0);return F.buffer||(F=new Uint8Array(F)),p(F.buffer),F},y=(f,F,q,R=!0)=>{f=mt(f)?new URL(f):W.normalize(f),E.readFile(f,R?void 0:"utf8",(X,K)=>{X?q(X):F(R?K.buffer:K)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",f=>{if(f!=="unwind"&&!(f instanceof nt)&&!(f.context instanceof nt))throw f}),a=(f,F)=>{throw process.exitCode=f,F},n.inspect=()=>"[Emscripten Module object]"}else if(h){if(typeof process=="object"&&typeof C=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(g=read),_=u=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(u));let f=read(u,"binary");return p(typeof f=="object"),f},y=(u,f,F)=>{setTimeout(()=>f(_(u)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=u=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=u=>typeof u=="function"?u():fe()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(a=(u,f)=>{throw setTimeout(()=>{if(!(f instanceof nt)){let F=f;f&&typeof f=="object"&&f.stack&&(F=[f,f.stack]),U("exiting due to exception: ".concat(F))}quit(u)}),f}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(s||c){if(c?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");g=u=>{var f=new XMLHttpRequest;return f.open("GET",u,!1),f.send(null),f.responseText},c&&(_=u=>{var f=new XMLHttpRequest;return f.open("GET",u,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),y=(u,f,F)=>{var q=new XMLHttpRequest;q.open("GET",u,!0),q.responseType="arraybuffer",q.onload=()=>{if(q.status==200||q.status==0&&q.response){f(q.response);return}F()},q.onerror=F,q.send(null)}}else throw new Error("environment detection error");var P=n.print||console.log.bind(console),U=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,Yr(),n.arguments&&n.arguments,Ve("arguments","arguments_"),n.thisProgram&&n.thisProgram,Ve("thisProgram","thisProgram"),n.quit&&(a=n.quit),Ve("quit","quit_"),p(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),p(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),p(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),p(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),p(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),p(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),p(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),p(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),p(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Ve("asm","wasmExports"),Ve("read","read_"),Ve("readAsync","readAsync"),Ve("readBinary","readBinary"),Ve("setWindowTitle","setWindowTitle"),p(!h,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var k;n.wasmBinary&&(k=n.wasmBinary),Ve("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&fe("no native wasm support detected");var A,M=!1,b;function p(u,f){u||fe("Assertion failed"+(f?": "+f:""))}var v,S,I,D;function N(){var u=A.buffer;n.HEAP8=v=new Int8Array(u),n.HEAP16=new Int16Array(u),n.HEAPU8=S=new Uint8Array(u),n.HEAPU16=new Uint16Array(u),n.HEAP32=I=new Int32Array(u),n.HEAPU32=D=new Uint32Array(u),n.HEAPF32=new Float32Array(u),n.HEAPF64=new Float64Array(u)}p(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),p(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),p(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),p(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Q(){var u=tn();p((u&3)==0),u==0&&(u+=4),D[u>>2]=34821223,D[u+4>>2]=2310721022,D[0]=1668509029}function G(){if(!M){var u=tn();u==0&&(u+=4);var f=D[u>>2],F=D[u+4>>2];(f!=34821223||F!=2310721022)&&fe("Stack overflow! Stack cookie has been overwritten at ".concat(It(u),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(It(F)," ").concat(It(f))),D[0]!=1668509029&&fe("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var u=new Int16Array(1),f=new Int8Array(u.buffer);if(u[0]=25459,f[0]!==115||f[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var B=[],j=[],H=[],Z=!1;function le(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ae(n.preRun.shift());Jt(B)}function he(){p(!Z),Z=!0,G(),Jt(j)}function ee(){if(G(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)te(n.postRun.shift());Jt(H)}function ae(u){B.unshift(u)}function ce(u){j.unshift(u)}function te(u){H.unshift(u)}p(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),p(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),p(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),p(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var ge=0,be=null,Pe=null,Fe={};function dn(u){ge++,n.monitorRunDependencies&&n.monitorRunDependencies(ge),p(!Fe[u]),Fe[u]=1,be===null&&typeof setInterval<"u"&&(be=setInterval(()=>{if(M){clearInterval(be),be=null;return}var f=!1;for(var F in Fe)f||(f=!0,U("still waiting on run dependencies:")),U("dependency: ".concat(F));f&&U("(end of list)")},1e4))}function Oe(u){if(ge--,n.monitorRunDependencies&&n.monitorRunDependencies(ge),p(Fe[u]),delete Fe[u],ge==0&&(be!==null&&(clearInterval(be),be=null),Pe)){var f=Pe;Pe=null,f()}}function fe(u){n.onAbort&&n.onAbort(u),u="Aborted("+u+")",U(u),M=!0,b=1,u.indexOf("RuntimeError: unreachable")>=0&&(u+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var f=new WebAssembly.RuntimeError(u);throw o(f),f}var oe={error(){fe("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){oe.error()},createDataFile(){oe.error()},createPreloadedFile(){oe.error()},createLazyFile(){oe.error()},open(){oe.error()},mkdev(){oe.error()},registerDevice(){oe.error()},analyzePath(){oe.error()},ErrnoError(){oe.error()}};n.FS_createDataFile=oe.createDataFile,n.FS_createPreloadedFile=oe.createPreloadedFile;var Xt="data:application/octet-stream;base64,",jn=u=>u.startsWith(Xt),mt=u=>u.startsWith("file://");function ye(u){return function(){p(Z,"native function `".concat(u,"` called before runtime initialization"));var f=De[u];return p(f,"exported native function `".concat(u,"` not found")),f.apply(null,arguments)}}var Ne;n.locateFile?(Ne="decode.wasm",jn(Ne)||(Ne=m(Ne))):Ne=new URL("/assets/decode-BC3G6QKc.wasm",import.meta.url).href;function hn(u){if(u==Ne&&k)return new Uint8Array(k);if(_)return _(u);throw"both async and sync fetching of the wasm failed"}function kt(u){if(!k&&(s||c)){if(typeof fetch=="function"&&!mt(u))return fetch(u,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+u+"'";return f.arrayBuffer()}).catch(()=>hn(u));if(y)return new Promise((f,F)=>{y(u,q=>f(new Uint8Array(q)),F)})}return Promise.resolve().then(()=>hn(u))}function et(u,f,F){return kt(u).then(q=>WebAssembly.instantiate(q,f)).then(q=>q).then(F,q=>{U("failed to asynchronously prepare wasm: ".concat(q)),mt(Ne)&&U("warning: Loading from a file URI (".concat(Ne,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),fe(q)})}function Un(u,f,F,q){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!jn(f)&&!mt(f)&&!l&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(R=>{var X=WebAssembly.instantiateStreaming(R,F);return X.then(q,function(K){return U("wasm streaming compile failed: ".concat(K)),U("falling back to ArrayBuffer instantiation"),et(f,F,q)})}):et(f,F,q)}function or(){var u={env:Pt,wasi_snapshot_preview1:Pt};function f(R,X){return De=R.exports,De=V.instrumentWasmExports(De),A=De.memory,p(A,"memory not found in wasm exports"),N(),ce(De.__wasm_call_ctors),Oe("wasm-instantiate"),De}dn("wasm-instantiate");var F=n;function q(R){p(n===F,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),F=null,f(R.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(u,f)}catch(R){U("Module.instantiateWasm callback failed with error: ".concat(R)),o(R)}return Un(k,Ne,u,q).catch(o),{}}function Ve(u,f,F=!0){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){let q=F?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";fe("`Module.".concat(u,"` has been replaced by `").concat(f,"`")+q)}})}function Ot(u){Object.getOwnPropertyDescriptor(n,u)&&fe("`Module.".concat(u,"` was supplied but `").concat(u,"` not included in INCOMING_MODULE_JS_API"))}function St(u){return u==="FS_createPath"||u==="FS_createDataFile"||u==="FS_createPreloadedFile"||u==="FS_unlink"||u==="addRunDependency"||u==="FS_createLazyFile"||u==="FS_createDevice"||u==="removeRunDependency"}function Kt(u,f){typeof globalThis<"u"&&Object.defineProperty(globalThis,u,{configurable:!0,get(){Te("`"+u+"` is not longer defined by emscripten. "+f)}})}Kt("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Kt("asm","Please use wasmExports instead");function Bn(u){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,u)&&Object.defineProperty(globalThis,u,{configurable:!0,get(){var f="`"+u+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",F=u;F.startsWith("_")||(F="$"+u),f+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+F+"')",St(u)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Te(f)}}),Wn(u)}function Wn(u){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){var f="'"+u+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";St(u)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),fe(f)}})}function nt(u){this.name="ExitStatus",this.message="Program terminated with exit(".concat(u,")"),this.status=u}var Jt=u=>{for(;u.length>0;)u.shift()(n)},We=n.noExitRuntime||!0,It=u=>(p(typeof u=="number"),u>>>=0,"0x"+u.toString(16).padStart(8,"0")),Te=u=>{Te.shown||(Te.shown={}),Te.shown[u]||(Te.shown[u]=1,l&&(u="warning: "+u),U(u))},fn=(u,f,F)=>S.copyWithin(u,f,f+F),$n=()=>2147483648,Qt=u=>{var f=A.buffer,F=(u-f.byteLength+65535)/65536;try{return A.grow(F),N(),1}catch(q){U("growMemory: Attempted to grow heap from ".concat(f.byteLength," bytes to ").concat(u," bytes, but got error: ").concat(q))}},gt=u=>{var f=S.length;u>>>=0,p(u>f);var F=$n();if(u>F)return U("Cannot enlarge memory, requested ".concat(u," bytes, but the limit is ").concat(F," bytes!")),!1;for(var q=(ie,pe)=>ie+(pe-ie%pe)%pe,R=1;R<=4;R*=2){var X=f*(1+.2/R);X=Math.min(X,u+100663296);var K=Math.min(F,q(Math.max(u,X),65536)),Y=Qt(K);if(Y)return!0}return U("Failed to grow the heap from ".concat(f," bytes to ").concat(K," bytes, not enough memory!")),!1},yt=0,Cn=()=>We||yt>0,ir=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pn=(u,f,F)=>{for(var q=f+F,R=f;u[R]&&!(R>=q);)++R;if(R-f>16&&u.buffer&&ir)return ir.decode(u.subarray(f,R));for(var X="";f<R;){var K=u[f++];if(!(K&128)){X+=String.fromCharCode(K);continue}var Y=u[f++]&63;if((K&224)==192){X+=String.fromCharCode((K&31)<<6|Y);continue}var ie=u[f++]&63;if((K&240)==224?K=(K&15)<<12|Y<<6|ie:((K&248)!=240&&Te("Invalid UTF-8 leading byte "+It(K)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),K=(K&7)<<18|Y<<12|ie<<6|u[f++]&63),K<65536)X+=String.fromCharCode(K);else{var pe=K-65536;X+=String.fromCharCode(55296|pe>>10,56320|pe&1023)}}return X},tt=(u,f)=>(p(typeof u=="number"),u?pn(S,u,f):""),zn=u=>{b=u,Cn()||(n.onExit&&n.onExit(u),M=!0),a(u,new nt(u))},Zt=(u,f)=>{if(b=u,eo(),Cn()&&!f){var F="program exited (with status: ".concat(u,"), but keepRuntimeAlive() is set (counter=").concat(yt,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(F),U(F)}zn(u)},Ft=Zt,$r=u=>{fe("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},qn=(u,f)=>(p(u==u>>>0||u==(u|0)),p(f===(f|0)),f+2097152>>>0<4194305-!!u?(u>>>0)+f*4294967296:NaN);function en(u,f,F,q,R){return qn(f,F),70}var An=[null,[],[]],at=(u,f)=>{var F=An[u];p(F),f===0||f===10?((u===1?P:U)(pn(F,0)),F.length=0):F.push(f)},$t=()=>{kn(0),An[1].length&&at(1,10),An[2].length&&at(2,10)},zr=(u,f,F,q)=>{for(var R=0,X=0;X<F;X++){var K=D[f>>2],Y=D[f+4>>2];f+=8;for(var ie=0;ie<Y;ie++)at(u,S[K+ie]);R+=Y}return D[q>>2]=R,0},mn=u=>{try{return u()}catch(f){fe(f)}},ar=u=>{if(u instanceof nt||u=="unwind")return b;G(),u instanceof WebAssembly.RuntimeError&&nn()<=0&&U("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),a(1,u)},sr=()=>{if(!Cn())try{Ft(b)}catch(u){ar(u)}},Hn=u=>{if(M){U("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{u(),sr()}catch(f){ar(f)}},Rt=()=>{yt+=1},qr=()=>{p(yt>0),yt-=1},V={instrumentWasmImports(u){var f=/^(_exec_decode|invoke_.*|__asyncjs__.*)$/;for(var F in u)(function(q){var R=u[q];if(R.sig,typeof R=="function"){var X=R.isAsync||f.test(q);u[q]=function(){var K=V.state;try{return R.apply(null,arguments)}finally{var Y=K===V.State.Normal&&V.state===V.State.Disabled,ie=q.startsWith("invoke_")&&!0;if(V.state!==K&&!X&&!Y&&!ie)throw new Error("import ".concat(q," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(F)},instrumentWasmExports(u){var f={};for(var F in u)(function(q){var R=u[q];typeof R=="function"?f[q]=function(){V.exportCallStack.push(q);try{return R.apply(null,arguments)}finally{if(!M){var X=V.exportCallStack.pop();p(X===q),V.maybeStopUnwind()}}}:f[q]=R})(F);return f},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(u){var f=V.callStackNameToId[u];return f===void 0&&(f=V.callStackId++,V.callStackNameToId[u]=f,V.callStackIdToName[f]=u),f},maybeStopUnwind(){V.currData&&V.state===V.State.Unwinding&&V.exportCallStack.length===0&&(V.state=V.State.Normal,mn(Ct),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return p(V.currData,"Tried to wait for an async operation when none is in progress."),p(!V.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((u,f)=>{V.asyncPromiseHandlers={resolve:u,reject:f}})},allocateData(){var u=ur(12+V.StackSize);return V.setDataHeader(u,u+12,V.StackSize),V.setDataRewindFunc(u),u},setDataHeader(u,f,F){D[u>>2]=f,D[u+4>>2]=f+F},setDataRewindFunc(u){var f=V.exportCallStack[0],F=V.getCallStackId(f);I[u+8>>2]=F},getDataRewindFunc(u){var f=I[u+8>>2],F=V.callStackIdToName[f],q=De[F];return q},doRewind(u){var f=V.getDataRewindFunc(u);return f()},handleSleep(u){if(p(V.state!==V.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!M){if(V.state===V.State.Normal){var f=!1,F=!1;u((q=0)=>{if(p(!q||typeof q=="number"||typeof q=="boolean"),!M&&(V.handleSleepReturnValue=q,f=!0,!!F)){p(!V.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),V.state=V.State.Rewinding,mn(()=>On(V.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var R,X=!1;try{R=V.doRewind(V.currData)}catch(ie){R=ie,X=!0}var K=!1;if(!V.currData){var Y=V.asyncPromiseHandlers;Y&&(V.asyncPromiseHandlers=null,(X?Y.reject:Y.resolve)(R),K=!0)}if(X&&!K)throw R}}),F=!0,f||(V.state=V.State.Unwinding,V.currData=V.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),mn(()=>fr(V.currData)))}else V.state===V.State.Rewinding?(V.state=V.State.Normal,mn(Jr),Xr(V.currData),V.currData=null,V.sleepCallbacks.forEach(q=>Hn(q))):fe("invalid state: ".concat(V.state));return V.handleSleepReturnValue}},handleAsync(u){return V.handleSleep(f=>{u().then(f)})}},Mt=u=>{var f=n["_"+u];return p(f,"Cannot call unknown function "+u+", make sure it is exported"),f},Tn=(u,f)=>{p(u.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),v.set(u,f)},Hr=u=>{for(var f=0,F=0;F<u.length;++F){var q=u.charCodeAt(F);q<=127?f++:q<=2047?f+=2:q>=55296&&q<=57343?(f+=4,++F):f+=3}return f},lr=(u,f,F,q)=>{if(p(typeof u=="string"),!(q>0))return 0;for(var R=F,X=F+q-1,K=0;K<u.length;++K){var Y=u.charCodeAt(K);if(Y>=55296&&Y<=57343){var ie=u.charCodeAt(++K);Y=65536+((Y&1023)<<10)|ie&1023}if(Y<=127){if(F>=X)break;f[F++]=Y}else if(Y<=2047){if(F+1>=X)break;f[F++]=192|Y>>6,f[F++]=128|Y&63}else if(Y<=65535){if(F+2>=X)break;f[F++]=224|Y>>12,f[F++]=128|Y>>6&63,f[F++]=128|Y&63}else{if(F+3>=X)break;Y>1114111&&Te("Invalid Unicode code point "+It(Y)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),f[F++]=240|Y>>18,f[F++]=128|Y>>12&63,f[F++]=128|Y>>6&63,f[F++]=128|Y&63}}return f[F]=0,F-R},Vr=(u,f,F)=>(p(typeof F=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),lr(u,S,f,F)),En=u=>{var f=Hr(u)+1,F=gn(f);return Vr(u,F,f),F},Gr=(u,f,F,q,R)=>{var X={string:Ie=>{var ht=0;return Ie!=null&&Ie!==0&&(ht=En(Ie)),ht},array:Ie=>{var ht=gn(Ie.length);return Tn(Ie,ht),ht}};function K(Ie){return f==="string"?tt(Ie):f==="boolean"?!!Ie:Ie}var Y=Mt(u),ie=[],pe=0;if(p(f!=="array",'Return type should not be "array".'),q)for(var we=0;we<q.length;we++){var Xe=X[F[we]];Xe?(pe===0&&(pe=hr()),ie[we]=Xe(q[we])):ie[we]=q[we]}var $e=V.currData,st=Y.apply(null,ie);function Dt(Ie){return qr(),pe!==0&&Kr(pe),K(Ie)}var on=R&&R.async;return Rt(),V.currData!=$e?(p(!($e&&V.currData),"We cannot start an async operation when one is already flight"),p(!($e&&!V.currData),"We cannot stop an async operation in flight"),p(on,"The call to "+u+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),V.whenDone().then(Dt)):(st=Dt(st),on?Promise.resolve(st):st)},cr=(u,f,F,q)=>function(){return Gr(u,f,F,arguments,q)};function Yr(){Ot("fetchSettings")}var Pt={emscripten_memcpy_js:fn,emscripten_resize_heap:gt,exit:Ft,fd_close:$r,fd_seek:en,fd_write:zr};V.instrumentWasmImports(Pt);var De=or();n._exec_decode=ye("exec_decode"),n._init_decode=ye("init_decode");var ur=n._malloc=ye("malloc"),Xr=n._free=ye("free"),kn=n._fflush=ye("fflush"),dr=()=>(dr=De.emscripten_stack_init)(),tn=()=>(tn=De.emscripten_stack_get_end)(),hr=ye("stackSave"),Kr=ye("stackRestore"),gn=ye("stackAlloc"),nn=()=>(nn=De.emscripten_stack_get_current)();n.dynCall_iii=ye("dynCall_iii"),n.dynCall_iidiiii=ye("dynCall_iidiiii"),n.dynCall_vii=ye("dynCall_vii"),n.dynCall_iiii=ye("dynCall_iiii"),n.dynCall_ii=ye("dynCall_ii"),n.dynCall_jiji=ye("dynCall_jiji");var fr=ye("asyncify_start_unwind"),Ct=ye("asyncify_stop_unwind"),On=ye("asyncify_start_rewind"),Jr=ye("asyncify_stop_rewind");n.cwrap=cr;var In=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];In.forEach(Bn);var Qr=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];Qr.forEach(Wn);var vt;Pe=function u(){vt||rn(),vt||(Pe=u)};function Zr(){dr(),Q()}function rn(){if(ge>0||(Zr(),le(),ge>0))return;function u(){vt||(vt=!0,n.calledRun=!0,!M&&(he(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),p(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),ee()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),u()},1)):u(),G()}function eo(){var u=P,f=U,F=!1;P=U=q=>{F=!0};try{$t()}catch(q){}P=u,U=f,F&&(Te("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Te("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return rn(),t.ready}})();const Ko=await o2(),i2=Ko.cwrap("init_decode","number",[],[]),a2=Ko.cwrap("exec_decode","number",["number","number"],{async:!0}),vh=2048,bh=Ko._malloc(vh),s2=i2(),l2=async e=>{const t=Ko._malloc(e.length*e.BYTES_PER_ELEMENT);Ko.HEAPF32.set(e,t/e.BYTES_PER_ELEMENT),await a2(s2,t,bh);const n=new Uint8Array(Ko.HEAPU8.buffer,bh,vh);return new TextDecoder("utf8").decode(n).replaceAll("\0","").trim().split("\n").filter(r=>r.length>0).map(r=>{const o=r.split(",");return{db:Number(o[0]),dt:Number(o[1]),df:Number(o[2]),text:o[3]}})};var c2=(()=>{var e=import.meta.url;return async function(t={}){var n=t,r,o;n.ready=new Promise((u,f)=>{r=u,o=f}),["_exec_encode","_free","_malloc","_memory","_fflush","___indirect_function_table","onRuntimeInitialized"].forEach(u=>{Object.getOwnPropertyDescriptor(n.ready,u)||Object.defineProperty(n.ready,u,{get:()=>fe("You are getting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>fe("You are setting "+u+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var i=Object.assign({},n),a=(u,f)=>{throw f},s=typeof window=="object",c=typeof importScripts=="function",l=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",h=!s&&!l&&!c;if(n.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var d="";function m(u){return n.locateFile?n.locateFile(u,d):d+u}var g,y,_;if(l){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var T=process.versions.node,O=T.split(".").slice(0,3);if(O=O[0]*1e4+O[1]*100+O[2].split("-")[0]*1,O<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+T+")");const{createRequire:u}=await es(async()=>{const{createRequire:f}=await Promise.resolve().then(()=>Fu);return{createRequire:f}},void 0);var C=u(import.meta.url),E=C("fs"),W=C("path");c?d=W.dirname(d)+"/":d=C("url").fileURLToPath(new URL("data:text/javascript;base64,aW1wb3J0ICogYXMgd2FzbSBmcm9tICIuL3BoYW50b21zZHJkc3BfYmcud2FzbSI7CmltcG9ydCB7IF9fd2JnX3NldF93YXNtIH0gZnJvbSAiLi9waGFudG9tc2RyZHNwX2JnLmpzIjsKX193Ymdfc2V0X3dhc20od2FzbSk7CmV4cG9ydCAqIGZyb20gIi4vcGhhbnRvbXNkcmRzcF9iZy5qcyI7Cgp3YXNtLl9fd2JpbmRnZW5fc3RhcnQoKTsK",import.meta.url)),g=(f,F)=>(f=mt(f)?new URL(f):W.normalize(f),E.readFileSync(f,F?void 0:"utf8")),_=f=>{var F=g(f,!0);return F.buffer||(F=new Uint8Array(F)),p(F.buffer),F},y=(f,F,q,R=!0)=>{f=mt(f)?new URL(f):W.normalize(f),E.readFile(f,R?void 0:"utf8",(X,K)=>{X?q(X):F(R?K.buffer:K)})},!n.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",f=>{if(f!=="unwind"&&!(f instanceof nt)&&!(f.context instanceof nt))throw f}),a=(f,F)=>{throw process.exitCode=f,F},n.inspect=()=>"[Emscripten Module object]"}else if(h){if(typeof process=="object"&&typeof C=="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");typeof read<"u"&&(g=read),_=u=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(u));let f=read(u,"binary");return p(typeof f=="object"),f},y=(u,f,F)=>{setTimeout(()=>f(_(u)))},typeof clearTimeout>"u"&&(globalThis.clearTimeout=u=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=u=>typeof u=="function"?u():fe()),typeof scriptArgs<"u"&&scriptArgs,typeof quit=="function"&&(a=(u,f)=>{throw setTimeout(()=>{if(!(f instanceof nt)){let F=f;f&&typeof f=="object"&&f.stack&&(F=[f,f.stack]),U("exiting due to exception: ".concat(F))}quit(u)}),f}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else if(s||c){if(c?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");g=u=>{var f=new XMLHttpRequest;return f.open("GET",u,!1),f.send(null),f.responseText},c&&(_=u=>{var f=new XMLHttpRequest;return f.open("GET",u,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),y=(u,f,F)=>{var q=new XMLHttpRequest;q.open("GET",u,!0),q.responseType="arraybuffer",q.onload=()=>{if(q.status==200||q.status==0&&q.response){f(q.response);return}F()},q.onerror=F,q.send(null)}}else throw new Error("environment detection error");var P=n.print||console.log.bind(console),U=n.printErr||console.error.bind(console);Object.assign(n,i),i=null,Yr(),n.arguments&&n.arguments,Ve("arguments","arguments_"),n.thisProgram&&n.thisProgram,Ve("thisProgram","thisProgram"),n.quit&&(a=n.quit),Ve("quit","quit_"),p(typeof n.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),p(typeof n.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),p(typeof n.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),p(typeof n.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),p(typeof n.read>"u","Module.read option was removed (modify read_ in JS)"),p(typeof n.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),p(typeof n.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),p(typeof n.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),p(typeof n.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Ve("asm","wasmExports"),Ve("read","read_"),Ve("readAsync","readAsync"),Ve("readBinary","readBinary"),Ve("setWindowTitle","setWindowTitle"),p(!h,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var k;n.wasmBinary&&(k=n.wasmBinary),Ve("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&fe("no native wasm support detected");var A,M=!1,b;function p(u,f){u||fe("Assertion failed"+(f?": "+f:""))}var v,S,I,D;function N(){var u=A.buffer;n.HEAP8=v=new Int8Array(u),n.HEAP16=new Int16Array(u),n.HEAPU8=S=new Uint8Array(u),n.HEAPU16=new Uint16Array(u),n.HEAP32=I=new Int32Array(u),n.HEAPU32=D=new Uint32Array(u),n.HEAPF32=new Float32Array(u),n.HEAPF64=new Float64Array(u)}p(!n.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),p(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),p(!n.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),p(!n.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function Q(){var u=tn();p((u&3)==0),u==0&&(u+=4),D[u>>2]=34821223,D[u+4>>2]=2310721022,D[0]=1668509029}function G(){if(!M){var u=tn();u==0&&(u+=4);var f=D[u>>2],F=D[u+4>>2];(f!=34821223||F!=2310721022)&&fe("Stack overflow! Stack cookie has been overwritten at ".concat(It(u),", expected hex dwords 0x89BACDFE and 0x2135467, but received ").concat(It(F)," ").concat(It(f))),D[0]!=1668509029&&fe("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(function(){var u=new Int16Array(1),f=new Int8Array(u.buffer);if(u[0]=25459,f[0]!==115||f[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})();var B=[],j=[],H=[],Z=!1;function le(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ae(n.preRun.shift());Jt(B)}function he(){p(!Z),Z=!0,G(),Jt(j)}function ee(){if(G(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)te(n.postRun.shift());Jt(H)}function ae(u){B.unshift(u)}function ce(u){j.unshift(u)}function te(u){H.unshift(u)}p(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),p(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),p(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),p(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var ge=0,be=null,Pe=null,Fe={};function dn(u){ge++,n.monitorRunDependencies&&n.monitorRunDependencies(ge),p(!Fe[u]),Fe[u]=1,be===null&&typeof setInterval<"u"&&(be=setInterval(()=>{if(M){clearInterval(be),be=null;return}var f=!1;for(var F in Fe)f||(f=!0,U("still waiting on run dependencies:")),U("dependency: ".concat(F));f&&U("(end of list)")},1e4))}function Oe(u){if(ge--,n.monitorRunDependencies&&n.monitorRunDependencies(ge),p(Fe[u]),delete Fe[u],ge==0&&(be!==null&&(clearInterval(be),be=null),Pe)){var f=Pe;Pe=null,f()}}function fe(u){n.onAbort&&n.onAbort(u),u="Aborted("+u+")",U(u),M=!0,b=1,u.indexOf("RuntimeError: unreachable")>=0&&(u+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var f=new WebAssembly.RuntimeError(u);throw o(f),f}var oe={error(){fe("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){oe.error()},createDataFile(){oe.error()},createPreloadedFile(){oe.error()},createLazyFile(){oe.error()},open(){oe.error()},mkdev(){oe.error()},registerDevice(){oe.error()},analyzePath(){oe.error()},ErrnoError(){oe.error()}};n.FS_createDataFile=oe.createDataFile,n.FS_createPreloadedFile=oe.createPreloadedFile;var Xt="data:application/octet-stream;base64,",jn=u=>u.startsWith(Xt),mt=u=>u.startsWith("file://");function ye(u){return function(){p(Z,"native function `".concat(u,"` called before runtime initialization"));var f=De[u];return p(f,"exported native function `".concat(u,"` not found")),f.apply(null,arguments)}}var Ne;n.locateFile?(Ne="encode.wasm",jn(Ne)||(Ne=m(Ne))):Ne=new URL("/assets/encode-Boqet107.wasm",import.meta.url).href;function hn(u){if(u==Ne&&k)return new Uint8Array(k);if(_)return _(u);throw"both async and sync fetching of the wasm failed"}function kt(u){if(!k&&(s||c)){if(typeof fetch=="function"&&!mt(u))return fetch(u,{credentials:"same-origin"}).then(f=>{if(!f.ok)throw"failed to load wasm binary file at '"+u+"'";return f.arrayBuffer()}).catch(()=>hn(u));if(y)return new Promise((f,F)=>{y(u,q=>f(new Uint8Array(q)),F)})}return Promise.resolve().then(()=>hn(u))}function et(u,f,F){return kt(u).then(q=>WebAssembly.instantiate(q,f)).then(q=>q).then(F,q=>{U("failed to asynchronously prepare wasm: ".concat(q)),mt(Ne)&&U("warning: Loading from a file URI (".concat(Ne,") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing")),fe(q)})}function Un(u,f,F,q){return!u&&typeof WebAssembly.instantiateStreaming=="function"&&!jn(f)&&!mt(f)&&!l&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(R=>{var X=WebAssembly.instantiateStreaming(R,F);return X.then(q,function(K){return U("wasm streaming compile failed: ".concat(K)),U("falling back to ArrayBuffer instantiation"),et(f,F,q)})}):et(f,F,q)}function or(){var u={env:Pt,wasi_snapshot_preview1:Pt};function f(R,X){return De=R.exports,De=V.instrumentWasmExports(De),A=De.memory,p(A,"memory not found in wasm exports"),N(),ce(De.__wasm_call_ctors),Oe("wasm-instantiate"),De}dn("wasm-instantiate");var F=n;function q(R){p(n===F,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),F=null,f(R.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(u,f)}catch(R){U("Module.instantiateWasm callback failed with error: ".concat(R)),o(R)}return Un(k,Ne,u,q).catch(o),{}}function Ve(u,f,F=!0){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){let q=F?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";fe("`Module.".concat(u,"` has been replaced by `").concat(f,"`")+q)}})}function Ot(u){Object.getOwnPropertyDescriptor(n,u)&&fe("`Module.".concat(u,"` was supplied but `").concat(u,"` not included in INCOMING_MODULE_JS_API"))}function St(u){return u==="FS_createPath"||u==="FS_createDataFile"||u==="FS_createPreloadedFile"||u==="FS_unlink"||u==="addRunDependency"||u==="FS_createLazyFile"||u==="FS_createDevice"||u==="removeRunDependency"}function Kt(u,f){typeof globalThis<"u"&&Object.defineProperty(globalThis,u,{configurable:!0,get(){Te("`"+u+"` is not longer defined by emscripten. "+f)}})}Kt("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Kt("asm","Please use wasmExports instead");function Bn(u){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,u)&&Object.defineProperty(globalThis,u,{configurable:!0,get(){var f="`"+u+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",F=u;F.startsWith("_")||(F="$"+u),f+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+F+"')",St(u)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Te(f)}}),Wn(u)}function Wn(u){Object.getOwnPropertyDescriptor(n,u)||Object.defineProperty(n,u,{configurable:!0,get(){var f="'"+u+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";St(u)&&(f+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),fe(f)}})}function nt(u){this.name="ExitStatus",this.message="Program terminated with exit(".concat(u,")"),this.status=u}var Jt=u=>{for(;u.length>0;)u.shift()(n)},We=n.noExitRuntime||!0,It=u=>(p(typeof u=="number"),u>>>=0,"0x"+u.toString(16).padStart(8,"0")),Te=u=>{Te.shown||(Te.shown={}),Te.shown[u]||(Te.shown[u]=1,l&&(u="warning: "+u),U(u))},fn=(u,f,F)=>S.copyWithin(u,f,f+F),$n=()=>2147483648,Qt=u=>{var f=A.buffer,F=(u-f.byteLength+65535)/65536;try{return A.grow(F),N(),1}catch(q){U("growMemory: Attempted to grow heap from ".concat(f.byteLength," bytes to ").concat(u," bytes, but got error: ").concat(q))}},gt=u=>{var f=S.length;u>>>=0,p(u>f);var F=$n();if(u>F)return U("Cannot enlarge memory, requested ".concat(u," bytes, but the limit is ").concat(F," bytes!")),!1;for(var q=(ie,pe)=>ie+(pe-ie%pe)%pe,R=1;R<=4;R*=2){var X=f*(1+.2/R);X=Math.min(X,u+100663296);var K=Math.min(F,q(Math.max(u,X),65536)),Y=Qt(K);if(Y)return!0}return U("Failed to grow the heap from ".concat(f," bytes to ").concat(K," bytes, not enough memory!")),!1},yt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Cn=(u,f,F)=>{for(var q=f+F,R=f;u[R]&&!(R>=q);)++R;if(R-f>16&&u.buffer&&yt)return yt.decode(u.subarray(f,R));for(var X="";f<R;){var K=u[f++];if(!(K&128)){X+=String.fromCharCode(K);continue}var Y=u[f++]&63;if((K&224)==192){X+=String.fromCharCode((K&31)<<6|Y);continue}var ie=u[f++]&63;if((K&240)==224?K=(K&15)<<12|Y<<6|ie:((K&248)!=240&&Te("Invalid UTF-8 leading byte "+It(K)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),K=(K&7)<<18|Y<<12|ie<<6|u[f++]&63),K<65536)X+=String.fromCharCode(K);else{var pe=K-65536;X+=String.fromCharCode(55296|pe>>10,56320|pe&1023)}}return X},ir=(u,f)=>(p(typeof u=="number"),u?Cn(S,u,f):""),pn=u=>{fe("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},tt=(u,f)=>(p(u==u>>>0||u==(u|0)),p(f===(f|0)),f+2097152>>>0<4194305-!!u?(u>>>0)+f*4294967296:NaN);function zn(u,f,F,q,R){return tt(f,F),70}var Zt=[null,[],[]],Ft=(u,f)=>{var F=Zt[u];p(F),f===0||f===10?((u===1?P:U)(Cn(F,0)),F.length=0):F.push(f)},$r=()=>{ur(0),Zt[1].length&&Ft(1,10),Zt[2].length&&Ft(2,10)},qn=(u,f,F,q)=>{for(var R=0,X=0;X<F;X++){var K=D[f>>2],Y=D[f+4>>2];f+=8;for(var ie=0;ie<Y;ie++)Ft(u,S[K+ie]);R+=Y}return D[q>>2]=R,0},en=u=>{try{return u()}catch(f){fe(f)}},An=u=>{if(u instanceof nt||u=="unwind")return b;G(),u instanceof WebAssembly.RuntimeError&&nn()<=0&&U("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 2097152)"),a(1,u)},at=0,$t=()=>We||at>0,zr=u=>{b=u,$t()||(n.onExit&&n.onExit(u),M=!0),a(u,new nt(u))},mn=(u,f)=>{if(b=u,eo(),$t()&&!f){var F="program exited (with status: ".concat(u,"), but keepRuntimeAlive() is set (counter=").concat(at,") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)");o(F),U(F)}zr(u)},ar=mn,sr=()=>{if(!$t())try{ar(b)}catch(u){An(u)}},Hn=u=>{if(M){U("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{u(),sr()}catch(f){An(f)}},Rt=()=>{at+=1},qr=()=>{p(at>0),at-=1},V={instrumentWasmImports(u){var f=/^(_exec_encode|invoke_.*|__asyncjs__.*)$/;for(var F in u)(function(q){var R=u[q];if(R.sig,typeof R=="function"){var X=R.isAsync||f.test(q);u[q]=function(){var K=V.state;try{return R.apply(null,arguments)}finally{var Y=K===V.State.Normal&&V.state===V.State.Disabled,ie=q.startsWith("invoke_")&&!0;if(V.state!==K&&!X&&!Y&&!ie)throw new Error("import ".concat(q," was not in ASYNCIFY_IMPORTS, but changed the state"))}}}})(F)},instrumentWasmExports(u){var f={};for(var F in u)(function(q){var R=u[q];typeof R=="function"?f[q]=function(){V.exportCallStack.push(q);try{return R.apply(null,arguments)}finally{if(!M){var X=V.exportCallStack.pop();p(X===q),V.maybeStopUnwind()}}}:f[q]=R})(F);return f},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(u){var f=V.callStackNameToId[u];return f===void 0&&(f=V.callStackId++,V.callStackNameToId[u]=f,V.callStackIdToName[f]=u),f},maybeStopUnwind(){V.currData&&V.state===V.State.Unwinding&&V.exportCallStack.length===0&&(V.state=V.State.Normal,en(Ct),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return p(V.currData,"Tried to wait for an async operation when none is in progress."),p(!V.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((u,f)=>{V.asyncPromiseHandlers={resolve:u,reject:f}})},allocateData(){var u=Xr(12+V.StackSize);return V.setDataHeader(u,u+12,V.StackSize),V.setDataRewindFunc(u),u},setDataHeader(u,f,F){D[u>>2]=f,D[u+4>>2]=f+F},setDataRewindFunc(u){var f=V.exportCallStack[0],F=V.getCallStackId(f);I[u+8>>2]=F},getDataRewindFunc(u){var f=I[u+8>>2],F=V.callStackIdToName[f],q=De[F];return q},doRewind(u){var f=V.getDataRewindFunc(u);return f()},handleSleep(u){if(p(V.state!==V.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!M){if(V.state===V.State.Normal){var f=!1,F=!1;u((q=0)=>{if(p(!q||typeof q=="number"||typeof q=="boolean"),!M&&(V.handleSleepReturnValue=q,f=!0,!!F)){p(!V.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),V.state=V.State.Rewinding,en(()=>On(V.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var R,X=!1;try{R=V.doRewind(V.currData)}catch(ie){R=ie,X=!0}var K=!1;if(!V.currData){var Y=V.asyncPromiseHandlers;Y&&(V.asyncPromiseHandlers=null,(X?Y.reject:Y.resolve)(R),K=!0)}if(X&&!K)throw R}}),F=!0,f||(V.state=V.State.Unwinding,V.currData=V.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),en(()=>fr(V.currData)))}else V.state===V.State.Rewinding?(V.state=V.State.Normal,en(Jr),kn(V.currData),V.currData=null,V.sleepCallbacks.forEach(q=>Hn(q))):fe("invalid state: ".concat(V.state));return V.handleSleepReturnValue}},handleAsync(u){return V.handleSleep(f=>{u().then(f)})}},Mt=u=>{var f=n["_"+u];return p(f,"Cannot call unknown function "+u+", make sure it is exported"),f},Tn=(u,f)=>{p(u.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),v.set(u,f)},Hr=u=>{for(var f=0,F=0;F<u.length;++F){var q=u.charCodeAt(F);q<=127?f++:q<=2047?f+=2:q>=55296&&q<=57343?(f+=4,++F):f+=3}return f},lr=(u,f,F,q)=>{if(p(typeof u=="string"),!(q>0))return 0;for(var R=F,X=F+q-1,K=0;K<u.length;++K){var Y=u.charCodeAt(K);if(Y>=55296&&Y<=57343){var ie=u.charCodeAt(++K);Y=65536+((Y&1023)<<10)|ie&1023}if(Y<=127){if(F>=X)break;f[F++]=Y}else if(Y<=2047){if(F+1>=X)break;f[F++]=192|Y>>6,f[F++]=128|Y&63}else if(Y<=65535){if(F+2>=X)break;f[F++]=224|Y>>12,f[F++]=128|Y>>6&63,f[F++]=128|Y&63}else{if(F+3>=X)break;Y>1114111&&Te("Invalid Unicode code point "+It(Y)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),f[F++]=240|Y>>18,f[F++]=128|Y>>12&63,f[F++]=128|Y>>6&63,f[F++]=128|Y&63}}return f[F]=0,F-R},Vr=(u,f,F)=>(p(typeof F=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),lr(u,S,f,F)),En=u=>{var f=Hr(u)+1,F=gn(f);return Vr(u,F,f),F},Gr=(u,f,F,q,R)=>{var X={string:Ie=>{var ht=0;return Ie!=null&&Ie!==0&&(ht=En(Ie)),ht},array:Ie=>{var ht=gn(Ie.length);return Tn(Ie,ht),ht}};function K(Ie){return f==="string"?ir(Ie):f==="boolean"?!!Ie:Ie}var Y=Mt(u),ie=[],pe=0;if(p(f!=="array",'Return type should not be "array".'),q)for(var we=0;we<q.length;we++){var Xe=X[F[we]];Xe?(pe===0&&(pe=hr()),ie[we]=Xe(q[we])):ie[we]=q[we]}var $e=V.currData,st=Y.apply(null,ie);function Dt(Ie){return qr(),pe!==0&&Kr(pe),K(Ie)}var on=R&&R.async;return Rt(),V.currData!=$e?(p(!($e&&V.currData),"We cannot start an async operation when one is already flight"),p(!($e&&!V.currData),"We cannot stop an async operation in flight"),p(on,"The call to "+u+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),V.whenDone().then(Dt)):(st=Dt(st),on?Promise.resolve(st):st)},cr=(u,f,F,q)=>function(){return Gr(u,f,F,arguments,q)};function Yr(){Ot("fetchSettings")}var Pt={emscripten_memcpy_js:fn,emscripten_resize_heap:gt,fd_close:pn,fd_seek:zn,fd_write:qn};V.instrumentWasmImports(Pt);var De=or();n._exec_encode=ye("exec_encode");var ur=n._fflush=ye("fflush"),Xr=n._malloc=ye("malloc"),kn=n._free=ye("free"),dr=()=>(dr=De.emscripten_stack_init)(),tn=()=>(tn=De.emscripten_stack_get_end)(),hr=ye("stackSave"),Kr=ye("stackRestore"),gn=ye("stackAlloc"),nn=()=>(nn=De.emscripten_stack_get_current)();n.dynCall_iidiiii=ye("dynCall_iidiiii"),n.dynCall_vii=ye("dynCall_vii"),n.dynCall_ii=ye("dynCall_ii"),n.dynCall_iiii=ye("dynCall_iiii"),n.dynCall_jiji=ye("dynCall_jiji");var fr=ye("asyncify_start_unwind"),Ct=ye("asyncify_stop_unwind"),On=ye("asyncify_start_rewind"),Jr=ye("asyncify_stop_rewind");n.cwrap=cr;var In=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","readEmAsmArgs","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","handleAllocatorInit","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","safeSetTimeout","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","ExceptionInfo","findMatchingCatch","setMainLoop","getSocketFromFD","getSocketAddress","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","SDL_unicode","SDL_ttfContext","SDL_audio","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory"];In.forEach(Bn);var Qr=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createLazyFile","FS_createLink","FS_createDevice","FS_readFile","out","err","callMain","abort","wasmMemory","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","exitJS","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","wasmTable","noExitRuntime","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","Browser","wget","SYSCALLS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack"];Qr.forEach(Wn);var vt;Pe=function u(){vt||rn(),vt||(Pe=u)};function Zr(){dr(),Q()}function rn(){if(ge>0||(Zr(),le(),ge>0))return;function u(){vt||(vt=!0,n.calledRun=!0,!M&&(he(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),p(!n._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),ee()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),u()},1)):u(),G()}function eo(){var u=P,f=U,F=!1;P=U=q=>{F=!0};try{$r()}catch(q){}P=u,U=f,F&&(Te("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),Te("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return rn(),t.ready}})();(await c2()).cwrap("exec_encode","number",["string","number","number"],{async:!0});const wh=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),xh=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),lc=(e,t)=>({startTime:t,type:"setValue",value:e}),_h=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),Sh=(e,t,{startTime:n,target:r,timeConstant:o})=>r+(t-r)*Math.exp((n-e)/o),Jo=e=>e.type==="exponentialRampToValue",ms=e=>e.type==="linearRampToValue",Rr=e=>Jo(e)||ms(e),cc=e=>e.type==="setValue",br=e=>e.type==="setValueCurve",gs=(e,t,n,r)=>{const o=e[t];return o===void 0?r:Rr(o)||cc(o)?o.value:br(o)?o.values[o.values.length-1]:Sh(n,gs(e,t-1,o.startTime,r),o)},Mh=(e,t,n,r,o)=>n===void 0?[r.insertTime,o]:Rr(n)?[n.endTime,n.value]:cc(n)?[n.startTime,n.value]:br(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,gs(e,t-1,n.startTime,o)],uc=e=>e.type==="cancelAndHold",dc=e=>e.type==="cancelScheduledValues",Pr=e=>uc(e)||dc(e)?e.cancelTime:Jo(e)||ms(e)?e.endTime:e.startTime,Ch=(e,t,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((e-t)/(r-t)):0,Ah=(e,t,n,{endTime:r,value:o})=>n+(e-t)/(r-t)*(o-n),u2=(e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},d2=(e,{duration:t,startTime:n,values:r})=>{const o=(e-n)/t*(r.length-1);return u2(r,o)},ys=e=>e.type==="setTarget";class h2{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=Pr(t);if(uc(t)||dc(t)){const r=this._automationEvents.findIndex(i=>dc(t)&&br(i)?i.startTime+i.duration>=n:Pr(i)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),uc(t)){const i=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Rr(o)){if(i!==void 0&&ys(i))throw new Error("The internal list is malformed.");const a=i===void 0?o.insertTime:br(i)?i.startTime+i.duration:Pr(i),s=i===void 0?this._defaultValue:br(i)?i.values[i.values.length-1]:i.value,c=Jo(o)?Ch(n,a,s,o):Ah(n,a,s,o),l=Jo(o)?wh(c,n,this._currenTime):xh(c,n,this._currenTime);this._automationEvents.push(l)}if(i!==void 0&&ys(i)&&this._automationEvents.push(lc(this.getValue(n),n)),i!==void 0&&br(i)&&i.startTime+i.duration>n){const a=n-i.startTime,s=(i.values.length-1)/i.duration,c=Math.max(2,1+Math.ceil(a*s)),l=a/(c-1)*s,h=i.values.slice(0,c);if(l<1)for(let d=1;d<c;d+=1){const m=l*d%1;h[d]=i.values[d-1]*(1-m)+i.values[d]*m}this._automationEvents[this._automationEvents.length-1]=_h(h,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Pr(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&br(o)&&Pr(o)+o.duration>n)return!1;const i=Jo(t)?wh(t.value,t.endTime,this._currenTime):ms(t)?xh(t.value,n,this._currenTime):t;if(r===-1)this._automationEvents.push(i);else{if(br(t)&&n+t.duration>Pr(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(t){const n=this._automationEvents.findIndex(r=>Pr(r)>t);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];ys(o)&&r.unshift(lc(gs(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Pr(a)>t),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[o];if(i!==void 0&&ys(i)&&(r===void 0||!Rr(r)||r.insertTime>t))return Sh(t,gs(this._automationEvents,o-1,i.startTime,this._defaultValue),i);if(i!==void 0&&cc(i)&&(r===void 0||!Rr(r)))return i.value;if(i!==void 0&&br(i)&&(r===void 0||!Rr(r)||i.startTime+i.duration>t))return t<i.startTime+i.duration?d2(t,i):i.values[i.values.length-1];if(i!==void 0&&Rr(i)&&(r===void 0||!Rr(r)))return i.value;if(r!==void 0&&Jo(r)){const[a,s]=Mh(this._automationEvents,o,i,r,this._defaultValue);return Ch(t,a,s,r)}if(r!==void 0&&ms(r)){const[a,s]=Mh(this._automationEvents,o,i,r,this._defaultValue);return Ah(t,a,s,r)}return this._defaultValue}}const f2=e=>({cancelTime:e,type:"cancelAndHold"}),p2=e=>({cancelTime:e,type:"cancelScheduledValues"}),m2=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),g2=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),y2=(e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"}),v2=()=>new DOMException("","AbortError"),b2=e=>(t,n,[r,o,i],a)=>{e(t[o],[n,r,i],s=>s[0]===n&&s[1]===r,a)},w2=e=>(t,n,r)=>{const o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},x2=e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Qo=new WeakSet,Th=new WeakMap,Eh=new WeakMap,kh=new WeakMap,Oh=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,hc=new WeakMap,Rh=new WeakMap,Ph={construct(){return Ph}},_2=e=>{try{const t=new Proxy(e,Ph);new t}catch(t){return!1}return!0},Dh=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Nh=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match(Dh);for(;o!==null;){const i=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Dh)}return[n.join(";"),r]},Lh=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},jh=e=>{if(!_2(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},S2=(e,t,n,r,o,i,a,s,c,l,h,d,m)=>{let g=0;return(y,_,T={credentials:"omit"})=>{const O=h.get(y);if(O!==void 0&&O.has(_))return Promise.resolve();const C=l.get(y);if(C!==void 0){const P=C.get(_);if(P!==void 0)return P}const E=i(y),W=E.audioWorklet===void 0?o(_).then(([P,U])=>{const[k,A]=Nh(P,U),M="".concat(k,";((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{").concat(A,"\n})})(window,'_AWGS')");return n(M)}).then(()=>{const P=m._AWGS.pop();if(P===void 0)throw new SyntaxError;r(E.currentTime,E.sampleRate,()=>P(class{},void 0,(U,k)=>{if(U.trim()==="")throw t();const A=Rh.get(E);if(A!==void 0){if(A.has(U))throw t();jh(k),Lh(k.parameterDescriptors),A.set(U,k)}else jh(k),Lh(k.parameterDescriptors),Rh.set(E,new Map([[U,k]]))},E.sampleRate,void 0,void 0))}):Promise.all([o(_),Promise.resolve(e(d,d))]).then(([[P,U],k])=>{const A=g+1;g=A;const[M,b]=Nh(P,U),p="".concat(M,";((AudioWorkletProcessor,registerProcessor)=>{").concat(b,"\n})(").concat(k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}",",(n,p)=>registerProcessor(n,class extends p{").concat(k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));","process(i,o,p){").concat(k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));","return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac").concat(A,"',class extends AudioWorkletProcessor{process(){return !1}})"),v=new Blob([p],{type:"application/javascript; charset=utf-8"}),S=URL.createObjectURL(v);return E.audioWorklet.addModule(S,T).then(()=>{if(s(E))return E;const I=a(E);return I.audioWorklet.addModule(S,T).then(()=>I)}).then(I=>{if(c===null)throw new SyntaxError;try{new c(I,"__sac".concat(A))}catch(D){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(S))});return C===void 0?l.set(y,new Map([[_,W]])):C.set(_,W),W.then(()=>{const P=h.get(y);P===void 0?h.set(y,new Set([_])):P.add(_)}).finally(()=>{const P=l.get(y);P!==void 0&&P.delete(_)}),W}},Dr=(e,t)=>{const n=e.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},vs=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return e.delete(r),r},Uh=(e,t,n,r)=>{const o=Dr(e,t),i=vs(o,a=>a[0]===n&&a[1]===r);return o.size===0&&e.delete(t),i},Qi=e=>Dr(Fh,e),Zo=e=>{if(Qo.has(e))throw new Error("The AudioNode is already stored.");Qo.add(e),Qi(e).forEach(t=>t(!0))},Bh=e=>"port"in e,Zi=e=>{if(!Qo.has(e))throw new Error("The AudioNode is not stored.");Qo.delete(e),Qi(e).forEach(t=>t(!1))},fc=(e,t)=>{!Bh(e)&&t.every(n=>n.size===0)&&Zi(e)},M2=(e,t,n,r,o,i,a,s,c,l,h,d,m)=>{const g=new WeakMap;return(y,_,T,O,C)=>{const{activeInputs:E,passiveInputs:W}=i(_),{outputs:P}=i(y),U=s(y),k=A=>{const M=c(_),b=c(y);if(A){const p=Uh(W,y,T,O);e(E,y,p,!1),!C&&!d(y)&&n(b,M,T,O),m(_)&&Zo(_)}else{const p=r(E,y,T,O);t(W,O,p,!1),!C&&!d(y)&&o(b,M,T,O);const v=a(_);if(v===0)h(_)&&fc(_,E);else{const S=g.get(_);S!==void 0&&clearTimeout(S),g.set(_,setTimeout(()=>{h(_)&&fc(_,E)},v*1e3))}}};return l(P,[_,T,O],A=>A[0]===_&&A[1]===T&&A[2]===O,!0)?(U.add(k),h(y)?e(E,y,[T,O,k],!0):t(W,O,[y,T,k],!0),!0):!1}},C2=e=>(t,n,[r,o,i],a)=>{const s=t.get(r);s===void 0?t.set(r,new Set([[o,n,i]])):e(s,[o,n,i],c=>c[0]===o&&c[1]===n,a)},A2=e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},T2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},E2=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const c=o(a),l={...T2,...s},h=r(c,l),d=i(c)?t():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const s=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=s,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const s=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=s,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Ut=(e,t)=>e.context===t,k2=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Ut(s,a)){const c={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,fftSize:s.fftSize,maxDecibels:s.maxDecibels,minDecibels:s.minDecibels,smoothingTimeConstant:s.smoothingTimeConstant};s=e(a,c)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},pc=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch(t){return!1}return!0},ho=()=>new DOMException("","IndexSizeError"),Wh=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(r){throw r.code===12?ho():r}})(e.getChannelData)},O2={numberOfChannels:1},I2=(e,t,n,r,o,i,a,s)=>{let c=null;return class Nm{constructor(h){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:m,sampleRate:g}={...O2,...h};c===null&&(c=new o(1,1,44100));const y=r!==null&&t(i,i)?new r({length:d,numberOfChannels:m,sampleRate:g}):c.createBuffer(m,d,g);if(y.numberOfChannels===0)throw n();return typeof y.copyFromChannel!="function"?(a(y),Wh(y)):t(pc,()=>pc(y))||s(y),e.add(y),y}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===Nm.prototype||e.has(h)}}},sn=-3402823466385289e23,Gt=-sn,wr=e=>Qo.has(e),F2={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},R2=(e,t,n,r,o,i,a,s)=>class extends e{constructor(c,l){const h=i(c),d={...F2,...l},m=o(h,d),g=a(h),y=g?t():null;super(c,!1,m,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=m,this._onended=null,this._playbackRate=n(this,g,m.playbackRate,Gt,sn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?s(this,c):null;this._nativeAudioBufferSourceNode.onended=l;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===l?c:h}get playbackRate(){return this._playbackRate}start(c=0,l=0,h){if(this._nativeAudioBufferSourceNode.start(c,l,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[c,l]:[c,l,h]),this.context.state!=="closed"){Zo(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),wr(this)&&Zi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},P2=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null;const c=async(l,h)=>{let d=n(l);const m=Ut(d,h);if(!m){const g={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=t(h,g),a!==null&&d.start(...a),s!==null&&d.stop(s)}return i.set(h,d),m?await e(h,l.playbackRate,d.playbackRate):await r(h,l.playbackRate,d.playbackRate),await o(l,h,d),d};return{set start(l){a=l},set stop(l){s=l},render(l,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):c(l,h)}}},D2=e=>"playbackRate"in e,N2=e=>"frequency"in e&&"gain"in e,L2=e=>"offset"in e,j2=e=>!("frequency"in e)&&"gain"in e,U2=e=>"detune"in e&&"frequency"in e&&!("gain"in e),B2=e=>"pan"in e,ln=e=>Dr(Th,e),ea=e=>Dr(kh,e),mc=(e,t)=>{const{activeInputs:n}=ln(e);n.forEach(o=>o.forEach(([i])=>{t.includes(e)||mc(i,[...t,e])}));const r=D2(e)?[e.playbackRate]:Bh(e)?Array.from(e.parameters.values()):N2(e)?[e.Q,e.detune,e.frequency,e.gain]:L2(e)?[e.offset]:j2(e)?[e.gain]:U2(e)?[e.detune,e.frequency]:B2(e)?[e.pan]:[];for(const o of r){const i=ea(o);i!==void 0&&i.activeInputs.forEach(([a])=>mc(a,t))}wr(e)&&Zi(e)},W2=e=>{mc(e.destination,[])},$2=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),z2=(e,t,n,r,o,i,a,s,c)=>class extends e{constructor(l={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new c(l)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(h===null)throw r();if(!$2(l.latencyHint))throw new TypeError("The provided value '".concat(l.latencyHint,"' is not a valid enum value of type AudioContextLatencyCategory."));if(l.sampleRate!==void 0&&h.sampleRate!==l.sampleRate)throw n();super(h,2);const{latencyHint:d}=l,{sampleRate:m}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/m:d==="interactive"||d===void 0?256/m:d==="playback"?1024/m:Math.max(2,Math.min(128,Math.round(d*m/128)))*128/m,this._nativeAudioContext=h,c.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",g)};h.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),W2(this)}))}createMediaElementSource(l){return new o(this,{mediaElement:l})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(l){return new a(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new s(this,{mediaStreamTrack:l})}resume(){return this._state==="suspended"?new Promise((l,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?l():this.resume().then(l,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(l=>{throw l===void 0||l.code===15?t():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw l===void 0?t():l})}},q2=(e,t,n,r,o,i,a,s)=>class extends e{constructor(c,l){const h=i(c),d=a(h),m=o(h,l,d),g=d?t(s):null;super(c,!1,m,g),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=m}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},H2=e=>{const t=new WeakMap,n=async(r,o)=>{const i=o.destination;return t.set(o,i),await e(r,o,i),i};return{render(r,o){const i=t.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}},V2=(e,t,n,r,o,i,a,s)=>(c,l)=>{const h=l.listener,d=()=>{const P=new Float32Array(1),U=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=a(l);let A=!1,M=[0,0,-1,0,1,0],b=[0,0,0];const p=()=>{if(A)return;A=!0;const D=r(l,256,9,0);D.onaudioprocess=({inputBuffer:N})=>{const Q=[i(N,P,0),i(N,P,1),i(N,P,2),i(N,P,3),i(N,P,4),i(N,P,5)];Q.some((B,j)=>B!==M[j])&&(h.setOrientation(...Q),M=Q);const G=[i(N,P,6),i(N,P,7),i(N,P,8)];G.some((B,j)=>B!==b[j])&&(h.setPosition(...G),b=G)},U.connect(D)},v=D=>N=>{N!==M[D]&&(M[D]=N,h.setOrientation(...M))},S=D=>N=>{N!==b[D]&&(b[D]=N,h.setPosition(...b))},I=(D,N,Q)=>{const G=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:N});G.connect(U,0,D),G.start(),Object.defineProperty(G.offset,"defaultValue",{get(){return N}});const B=e({context:c},k,G.offset,Gt,sn);return s(B,"value",j=>()=>j.call(B),j=>H=>{try{j.call(B,H)}catch(Z){if(Z.code!==9)throw Z}p(),k&&Q(H)}),B.cancelAndHoldAtTime=(j=>k?()=>{throw o()}:(...H)=>{const Z=j.apply(B,H);return p(),Z})(B.cancelAndHoldAtTime),B.cancelScheduledValues=(j=>k?()=>{throw o()}:(...H)=>{const Z=j.apply(B,H);return p(),Z})(B.cancelScheduledValues),B.exponentialRampToValueAtTime=(j=>k?()=>{throw o()}:(...H)=>{const Z=j.apply(B,H);return p(),Z})(B.exponentialRampToValueAtTime),B.linearRampToValueAtTime=(j=>k?()=>{throw o()}:(...H)=>{const Z=j.apply(B,H);return p(),Z})(B.linearRampToValueAtTime),B.setTargetAtTime=(j=>k?()=>{throw o()}:(...H)=>{const Z=j.apply(B,H);return p(),Z})(B.setTargetAtTime),B.setValueAtTime=(j=>k?()=>{throw o()}:(...H)=>{const Z=j.apply(B,H);return p(),Z})(B.setValueAtTime),B.setValueCurveAtTime=(j=>k?()=>{throw o()}:(...H)=>{const Z=j.apply(B,H);return p(),Z})(B.setValueCurveAtTime),B};return{forwardX:I(0,0,v(0)),forwardY:I(1,0,v(1)),forwardZ:I(2,-1,v(2)),positionX:I(6,0,S(0)),positionY:I(7,0,S(1)),positionZ:I(8,0,S(2)),upX:I(3,0,v(3)),upY:I(4,1,v(4)),upZ:I(5,0,v(5))}},{forwardX:m,forwardY:g,forwardZ:y,positionX:_,positionY:T,positionZ:O,upX:C,upY:E,upZ:W}=h.forwardX===void 0?d():h;return{get forwardX(){return m},get forwardY(){return g},get forwardZ(){return y},get positionX(){return _},get positionY(){return T},get positionZ(){return O},get upX(){return C},get upY(){return E},get upZ(){return W}}},bs=e=>"context"in e,ta=e=>bs(e[0]),fo=(e,t,n,r)=>{for(const o of e)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},$h=(e,t,[n,r],o)=>{fo(e,[t,n,r],i=>i[0]===t&&i[1]===n,o)},zh=(e,[t,n,r],o)=>{const i=e.get(t);i===void 0?e.set(t,new Set([[n,r]])):fo(i,[n,r],a=>a[0]===n,o)},ei=e=>"inputs"in e,ws=(e,t,n,r)=>{if(ei(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},qh=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},G2=(e,t,n)=>vs(e,r=>r[0]===t&&r[1]===n),Hh=(e,t)=>{if(!Qi(e).delete(t))throw new Error("Missing the expected event listener.")},Vh=(e,t,n)=>{const r=Dr(e,t),o=vs(r,i=>i[0]===n);return r.size===0&&e.delete(t),o},xs=(e,t,n,r)=>{ei(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},Ye=e=>Dr(Eh,e),na=e=>Dr(Oh,e),po=e=>hc.has(e),_s=e=>!Qo.has(e),Gh=(e,t)=>new Promise(n=>{if(t!==null)n(!0);else{const r=e.createScriptProcessor(256,1,1),o=e.createGain(),i=e.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const s=e.createBufferSource();s.buffer=i,s.loop=!0,s.connect(r).connect(e.destination),s.connect(o),s.disconnect(o),r.onaudioprocess=c=>{const l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,h=>h===1)?n(!0):n(!1),s.stop(),r.onaudioprocess=null,s.disconnect(r),r.disconnect(e.destination)},s.start()}}),gc=(e,t)=>{const n=new Map;for(const r of e)for(const o of r){const i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>t(o,r))},Yh=e=>"context"in e,Y2=e=>{const t=new Map;e.connect=(n=>(r,o=0,i=0)=>{const a=Yh(r)?n(r,o,i):n(r,o),s=t.get(r);return s===void 0?t.set(r,[{input:i,output:o}]):s.every(c=>c.input!==i||c.output!==o)&&s.push({input:i,output:o}),a})(e.connect.bind(e)),e.disconnect=(n=>(r,o,i)=>{if(n.apply(e),r===void 0)t.clear();else if(typeof r=="number")for(const[a,s]of t){const c=s.filter(l=>l.output!==r);c.length===0?t.delete(a):t.set(a,c)}else if(t.has(r))if(o===void 0)t.delete(r);else{const a=t.get(r);if(a!==void 0){const s=a.filter(c=>c.output!==o&&(c.input!==i||i===void 0));s.length===0?t.delete(r):t.set(r,s)}}for(const[a,s]of t)s.forEach(c=>{Yh(a)?e.connect(a,c.output,c.input):e.connect(a,c.output)})})(e.disconnect)},X2=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=ea(t),{outputs:a}=ln(e),s=Qi(e),c=l=>{const h=Ye(e),d=na(t);if(l){const m=Vh(i,e,n);$h(o,e,m,!1),!r&&!po(e)&&h.connect(d,n)}else{const m=G2(o,e,n);zh(i,m,!1),!r&&!po(e)&&h.disconnect(d,n)}};return fo(a,[t,n],l=>l[0]===t&&l[1]===n,!0)?(s.add(c),wr(e)?$h(o,e,[n,c],!0):zh(i,[e,n,c],!0),!0):!1},K2=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:i}=ln(t),a=qh(o[r],e,n);return a===null?[Uh(i,e,n,r)[2],!1]:[a[2],!0]},J2=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=ea(t),i=qh(r,e,n);return i===null?[Vh(o,e,n)[1],!1]:[i[2],!0]},yc=(e,t,n,r,o)=>{const[i,a]=K2(e,n,r,o);if(i!==null&&(Hh(e,i),a&&!t&&!po(e)&&xs(Ye(e),Ye(n),r,o)),wr(n)){const{activeInputs:s}=ln(n);fc(n,s)}},vc=(e,t,n,r)=>{const[o,i]=J2(e,n,r);o!==null&&(Hh(e,o),i&&!t&&!po(e)&&Ye(e).disconnect(na(n),r))},Q2=(e,t)=>{const n=ln(e),r=[];for(const o of n.outputs)ta(o)?yc(e,t,...o):vc(e,t,...o),r.push(o[0]);return n.outputs.clear(),r},Z2=(e,t,n)=>{const r=ln(e),o=[];for(const i of r.outputs)i[1]===n&&(ta(i)?yc(e,t,...i):vc(e,t,...i),o.push(i[0]),r.outputs.delete(i));return o},ey=(e,t,n,r,o)=>{const i=ln(e);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(ta(a)?yc(e,t,...a):vc(e,t,...a),i.outputs.delete(a),a[0]))},ty=(e,t,n,r,o,i,a,s,c,l,h,d,m,g,y,_)=>class extends l{constructor(T,O,C,E){super(C),this._context=T,this._nativeAudioNode=C;const W=h(T);d(W)&&n(Gh,()=>Gh(W,_))!==!0&&Y2(C),Eh.set(this,C),Fh.set(this,new Set),T.state!=="closed"&&O&&Zo(this),e(this,E,C)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,O=0,C=0){if(O<0||O>=this._nativeAudioNode.numberOfOutputs)throw o();const E=h(this._context),W=y(E);if(m(T)||g(T))throw i();if(bs(T)){const U=Ye(T);try{const k=ws(this._nativeAudioNode,U,O,C),A=_s(this);(W||A)&&this._nativeAudioNode.disconnect(...k),this.context.state!=="closed"&&!A&&_s(T)&&Zo(T)}catch(k){throw k.code===12?i():k}if(t(this,T,O,C,W)){const k=c([this],T);gc(k,r(W))}return T}const P=na(T);if(P.name==="playbackRate"&&P.maxValue===1024)throw a();try{this._nativeAudioNode.connect(P,O),(W||_s(this))&&this._nativeAudioNode.disconnect(P,O)}catch(U){throw U.code===12?i():U}if(X2(this,T,O,W)){const U=c([this],T);gc(U,r(W))}}disconnect(T,O,C){let E;const W=h(this._context),P=y(W);if(T===void 0)E=Q2(this,P);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw o();E=Z2(this,P,T)}else{if(O!==void 0&&(O<0||O>=this.numberOfOutputs)||bs(T)&&C!==void 0&&(C<0||C>=T.numberOfInputs))throw o();if(E=ey(this,P,T,O,C),E.length===0)throw i()}for(const U of E){const k=c([this],U);gc(k,s)}}},ny=(e,t,n,r,o,i,a,s,c,l,h,d,m)=>(g,y,_,T=null,O=null)=>{const C=_.value,E=new h2(C),W=y?r(E):null,P={get defaultValue(){return C},get maxValue(){return T===null?_.maxValue:T},get minValue(){return O===null?_.minValue:O},get value(){return _.value},set value(U){_.value=U,P.setValueAtTime(U,g.context.currentTime)},cancelAndHoldAtTime(U){if(typeof _.cancelAndHoldAtTime=="function")W===null&&E.flush(g.context.currentTime),E.add(o(U)),_.cancelAndHoldAtTime(U);else{const k=Array.from(E).pop();W===null&&E.flush(g.context.currentTime),E.add(o(U));const A=Array.from(E).pop();_.cancelScheduledValues(U),k!==A&&A!==void 0&&(A.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(A.value,A.endTime):A.type==="linearRampToValue"?_.linearRampToValueAtTime(A.value,A.endTime):A.type==="setValue"?_.setValueAtTime(A.value,A.startTime):A.type==="setValueCurve"&&_.setValueCurveAtTime(A.values,A.startTime,A.duration))}return P},cancelScheduledValues(U){return W===null&&E.flush(g.context.currentTime),E.add(i(U)),_.cancelScheduledValues(U),P},exponentialRampToValueAtTime(U,k){if(U===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const A=g.context.currentTime;return W===null&&E.flush(A),Array.from(E).length===0&&(E.add(l(C,A)),_.setValueAtTime(C,A)),E.add(a(U,k)),_.exponentialRampToValueAtTime(U,k),P},linearRampToValueAtTime(U,k){const A=g.context.currentTime;return W===null&&E.flush(A),Array.from(E).length===0&&(E.add(l(C,A)),_.setValueAtTime(C,A)),E.add(s(U,k)),_.linearRampToValueAtTime(U,k),P},setTargetAtTime(U,k,A){return W===null&&E.flush(g.context.currentTime),E.add(c(U,k,A)),_.setTargetAtTime(U,k,A),P},setValueAtTime(U,k){return W===null&&E.flush(g.context.currentTime),E.add(l(U,k)),_.setValueAtTime(U,k),P},setValueCurveAtTime(U,k,A){const M=U instanceof Float32Array?U:new Float32Array(U);if(d!==null&&d.name==="webkitAudioContext"){const b=k+A,p=g.context.sampleRate,v=Math.ceil(k*p),S=Math.floor(b*p),I=S-v,D=new Float32Array(I);for(let Q=0;Q<I;Q+=1){const G=(M.length-1)/A*((v+Q)/p-k),B=Math.floor(G),j=Math.ceil(G);D[Q]=B===j?M[B]:(1-(G-B))*M[B]+(1-(j-G))*M[j]}W===null&&E.flush(g.context.currentTime),E.add(h(D,k,A)),_.setValueCurveAtTime(D,k,A);const N=S/p;N<b&&m(P,D[D.length-1],N),m(P,M[M.length-1],b)}else W===null&&E.flush(g.context.currentTime),E.add(h(M,k,A)),_.setValueCurveAtTime(M,k,A);return P}};return n.set(P,_),t.set(P,g),e(P,W),P},ry=e=>({replay(t){for(const n of e)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;t.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;t.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:i}=n;t.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;t.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:i}=n;t.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}}),oy=(e,t,n,r,o,i,a,s,c,l,h,d,m,g,y,_,T,O,C,E)=>class extends y{constructor(W,P){super(W,P),this._nativeContext=W,this._audioWorklet=e===void 0?void 0:{addModule:(U,k)=>e(this,U,k)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(W,P,U){return new n({length:P,numberOfChannels:W,sampleRate:U})}createBufferSource(){return new r(this)}createChannelMerger(W=6){return new i(this,{numberOfInputs:W})}createChannelSplitter(W=6){return new a(this,{numberOfOutputs:W})}createConstantSource(){return new s(this)}createConvolver(){return new c(this)}createDelay(W=1){return new h(this,{maxDelayTime:W})}createDynamicsCompressor(){return new d(this)}createGain(){return new m(this)}createIIRFilter(W,P){return new g(this,{feedback:P,feedforward:W})}createOscillator(){return new _(this)}createPanner(){return new T(this)}createPeriodicWave(W,P,U={disableNormalization:!1}){return new O(this,{...U,imag:P,real:W})}createStereoPanner(){return new C(this)}createWaveShaper(){return new E(this)}decodeAudioData(W,P,U){return l(this._nativeContext,W).then(k=>(typeof P=="function"&&P(k),k),k=>{throw typeof U=="function"&&U(k),k})}},iy={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},ay=(e,t,n,r,o,i,a,s)=>class extends e{constructor(c,l){const h=i(c),d={...iy,...l},m=o(h,d),g=a(h),y=g?n():null;super(c,!1,m,y),this._Q=t(this,g,m.Q,Gt,sn),this._detune=t(this,g,m.detune,1200*Math.log2(Gt),-1200*Math.log2(Gt)),this._frequency=t(this,g,m.frequency,c.sampleRate/2,0),this._gain=t(this,g,m.gain,40*Math.log10(Gt),sn),this._nativeBiquadFilterNode=m,s(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,l,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,l,h)}catch(d){throw d.code===11?r():d}if(c.length!==l.length||l.length!==h.length)throw r()}},sy=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,c)=>{let l=n(s);const h=Ut(l,c);if(!h){const d={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(c,d)}return i.set(c,l),h?(await e(c,s.Q,l.Q),await e(c,s.detune,l.detune),await e(c,s.frequency,l.frequency),await e(c,s.gain,l.gain)):(await r(c,s.Q,l.Q),await r(c,s.detune,l.detune),await r(c,s.frequency,l.frequency),await r(c,s.gain,l.gain)),await o(s,c,l),l};return{render(s,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):a(s,c)}}},ly=(e,t)=>(n,r)=>{const o=t.get(n);if(o!==void 0)return o;const i=e.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(e.set(n,a),a.catch(()=>!1).then(s=>(e.delete(n),t.set(n,s),s))):(t.set(n,a),a)}catch(a){return t.set(n,!1),!1}},cy={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},uy=(e,t,n,r,o)=>class extends e{constructor(i,a){const s=r(i),c={...cy,...a},l=n(s,c),h=o(s)?t():null;super(i,!1,l,h)}},dy=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Ut(s,a)){const c={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfInputs:s.numberOfInputs};s=e(a,c)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},hy={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},fy=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const c=r(a),l=i({...hy,...s}),h=n(c,l),d=o(c)?t():null;super(a,!1,h,d)}},py=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Ut(s,a)){const c={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,numberOfOutputs:s.numberOfOutputs};s=e(a,c)}return r.set(a,s),await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},my=e=>(t,n,r)=>e(n,t,r),gy=e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},yy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},vy=(e,t,n,r,o,i,a)=>class extends e{constructor(s,c){const l=o(s),h={...yy,...c},d=r(l,h),m=i(l),g=m?n():null;super(s,!1,d,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=d,this._offset=t(this,m,d.offset,Gt,sn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(s){const c=typeof s=="function"?a(this,s):null;this._nativeConstantSourceNode.onended=c;const l=this._nativeConstantSourceNode.onended;this._onended=l!==null&&l===c?s:l}start(s=0){if(this._nativeConstantSourceNode.start(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=s),this.context.state!=="closed"){Zo(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),wr(this)&&Zi(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(s=0){this._nativeConstantSourceNode.stop(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=s)}},by=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null;const c=async(l,h)=>{let d=n(l);const m=Ut(d,h);if(!m){const g={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=t(h,g),a!==null&&d.start(a),s!==null&&d.stop(s)}return i.set(h,d),m?await e(h,l.offset,d.offset):await r(h,l.offset,d.offset),await o(l,h,d),d};return{set start(l){a=l},set stop(l){s=l},render(l,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):c(l,h)}}},wy=e=>t=>(e[0]=t,e[0]),xy={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},_y=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const c=r(a),l={...xy,...s},h=n(c,l),d=o(c)?t():null;super(a,!1,h,d),this._isBufferNullified=!1,this._nativeConvolverNode=h,l.buffer!==null&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const s=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=s.createBuffer(1,1,s.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},Sy=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Ut(s,a)){const c={buffer:s.buffer,channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,disableNormalization:!s.normalize};s=e(a,c)}return r.set(a,s),ei(s)?await n(i,a,s.inputs[0]):await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},My=()=>new DOMException("","DataCloneError"),Xh=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise(r=>{const o=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>o();try{t.postMessage(e,[e])}catch(i){}finally{o()}})},Cy=(e,t,n,r,o,i,a,s,c,l,h)=>(d,m)=>{const g=a(d)?d:i(d);if(o.has(m)){const y=n();return Promise.reject(y)}try{o.add(m)}catch(y){}return t(c,()=>c(g))?g.decodeAudioData(m).then(y=>(Xh(m).catch(()=>{}),t(s,()=>s(y))||h(y),e.add(y),y)):new Promise((y,_)=>{const T=async()=>{try{await Xh(m)}catch(C){}},O=C=>{_(C),T()};try{g.decodeAudioData(m,C=>{typeof C.copyFromChannel!="function"&&(l(C),Wh(C)),e.add(C),T().then(()=>y(C))},C=>{O(C===null?r():C)})}catch(C){O(C)}})},Ay=(e,t,n,r,o,i,a,s)=>(c,l)=>{const h=t.get(c);if(h===void 0)throw new Error("Missing the expected cycle count.");const d=i(c.context),m=s(d);if(h===l){if(t.delete(c),!m&&a(c)){const g=r(c),{outputs:y}=n(c);for(const _ of y)if(ta(_)){const T=r(_[0]);e(g,T,_[1],_[2])}else{const T=o(_[0]);g.connect(T,_[1])}}}else t.set(c,h-l)},Ty={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ey=(e,t,n,r,o,i,a)=>class extends e{constructor(s,c){const l=o(s),h={...Ty,...c},d=r(l,h),m=i(l),g=m?n(h.maxDelayTime):null;super(s,!1,d,g),this._delayTime=t(this,m,d.delayTime),a(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},ky=(e,t,n,r,o)=>i=>{const a=new WeakMap,s=async(c,l)=>{let h=n(c);const d=Ut(h,l);if(!d){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:i};h=t(l,m)}return a.set(l,h),d?await e(l,c.delayTime,h.delayTime):await r(l,c.delayTime,h.delayTime),await o(c,l,h),h};return{render(c,l){const h=a.get(l);return h!==void 0?Promise.resolve(h):s(c,l)}}},Oy=e=>(t,n,r,o)=>e(t[o],i=>i[0]===n&&i[1]===r),Iy=e=>"delayTime"in e,Fy=(e,t,n)=>function r(o,i){const a=bs(i)?i:n(e,i);if(Iy(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:s}=t(a);return Array.from(s).map(c=>r([...o,a],c[0])).reduce((c,l)=>c.concat(l),[])},Ry={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Py=(e,t,n,r,o,i,a,s)=>class extends e{constructor(c,l){const h=i(c),d={...Ry,...l},m=r(h,d),g=a(h),y=g?n():null;super(c,!1,m,y),this._attack=t(this,g,m.attack),this._knee=t(this,g,m.knee),this._nativeDynamicsCompressorNode=m,this._ratio=t(this,g,m.ratio),this._release=t(this,g,m.release),this._threshold=t(this,g,m.threshold),s(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=l,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=l,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Dy=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,c)=>{let l=n(s);const h=Ut(l,c);if(!h){const d={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(c,d)}return i.set(c,l),h?(await e(c,s.attack,l.attack),await e(c,s.knee,l.knee),await e(c,s.ratio,l.ratio),await e(c,s.release,l.release),await e(c,s.threshold,l.threshold)):(await r(c,s.attack,l.attack),await r(c,s.knee,l.knee),await r(c,s.ratio,l.ratio),await r(c,s.release,l.release),await r(c,s.threshold,l.threshold)),await o(s,c,l),l};return{render(s,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):a(s,c)}}},Ny=()=>new DOMException("","EncodingError"),Ly=e=>t=>new Promise((n,r)=>{if(e===null){r(new SyntaxError);return}const o=e.document.head;if(o===null)r(new SyntaxError);else{const i=e.document.createElement("script"),a=new Blob([t],{type:"application/javascript"}),s=URL.createObjectURL(a),c=e.onerror,l=()=>{e.onerror=c,URL.revokeObjectURL(s)};e.onerror=(h,d,m,g,y)=>{if(d===s||d===e.location.href&&m===1&&g===1)return l(),r(y),!1;if(c!==null)return c(h,d,m,g,y)},i.onerror=()=>{l(),r(new SyntaxError)},i.onload=()=>{l(),n()},i.src=s,i.type="module",o.appendChild(i)}}),jy=e=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,n,r){if(n!==null){let o=this._listeners.get(n);o===void 0&&(o=e(this,n),typeof n=="function"&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(t,o,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,n,r){const o=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,r)}},Uy=e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},By=e=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch(n){}throw e()},Wy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},$y=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const c=o(a),l={...Wy,...s},h=r(c,l),d=i(c),m=d?n():null;super(a,!1,h,m),this._gain=t(this,d,h.gain,Gt,sn)}get gain(){return this._gain}},zy=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,c)=>{let l=n(s);const h=Ut(l,c);if(!h){const d={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(c,d)}return i.set(c,l),h?await e(c,s.gain,l.gain):await r(c,s.gain,l.gain),await o(s,c,l),l};return{render(s,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):a(s,c)}}},qy=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},Hy=e=>t=>{var n;return(n=e.get(t))!==null&&n!==void 0?n:0},Vy=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},Bt=()=>new DOMException("","InvalidStateError"),Gy=e=>t=>{const n=e.get(t);if(n===void 0)throw Bt();return n},Yy=(e,t)=>n=>{let r=e.get(n);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r},Ss=()=>new DOMException("","InvalidAccessError"),Xy=e=>{e.getFrequencyResponse=(t=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw Ss();return t.call(e,n,r,o)})(e.getFrequencyResponse)},Ky={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Jy=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const c=r(a),l=o(c),h={...Ky,...s},d=t(c,l?null:a.baseLatency,h),m=l?n(h.feedback,h.feedforward):null;super(a,!1,d,m),Xy(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,s,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,s,c)}},Kh=(e,t,n,r,o,i,a,s,c,l,h)=>{const d=l.length;let m=s;for(let g=0;g<d;g+=1){let y=n[0]*l[g];for(let _=1;_<o;_+=1){const T=m-_&c-1;y+=n[_]*i[T],y-=e[_]*a[T]}for(let _=o;_<r;_+=1)y+=n[_]*i[m-_&c-1];for(let _=o;_<t;_+=1)y-=e[_]*a[m-_&c-1];i[m]=l[g],a[m]=y,m=m+1&c-1,h[g]=y}return m},Qy=(e,t,n,r)=>{const o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),a=o.length,s=i.length,c=Math.min(a,s);if(o[0]!==1){for(let y=0;y<a;y+=1)i[y]/=o[0];for(let y=1;y<s;y+=1)o[y]/=o[0]}const l=32,h=new Float32Array(l),d=new Float32Array(l),m=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),g=e.numberOfChannels;for(let y=0;y<g;y+=1){const _=e.getChannelData(y),T=m.getChannelData(y);h.fill(0),d.fill(0),Kh(o,a,i,s,c,h,d,0,l,_,T)}return m},Zy=(e,t,n,r,o)=>(i,a)=>{const s=new WeakMap;let c=null;const l=async(h,d)=>{let m=null,g=t(h);const y=Ut(g,d);if(d.createIIRFilter===void 0?m=e(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):y||(g=d.createIIRFilter(a,i)),s.set(d,m===null?g:m),m!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new n(h.context.destination.channelCount,h.context.length,d.sampleRate);c=(async()=>{await r(h,T,T.destination);const O=await o(T);return Qy(O,d,i,a)})()}const _=await c;return m.buffer=_,m.start(0),m}return await r(h,d,g),g};return{render(h,d){const m=s.get(d);return m!==void 0?Promise.resolve(m):l(h,d)}}},ev=(e,t,n,r,o,i)=>a=>(s,c)=>{const l=e.get(s);if(l===void 0){if(!a&&i(s)){const h=r(s),{outputs:d}=n(s);for(const m of d)if(ta(m)){const g=r(m[0]);t(h,g,m[1],m[2])}else{const g=o(m[0]);h.disconnect(g,m[1])}}e.set(s,c)}else e.set(s,l+c)},tv=e=>t=>e!==null&&t instanceof e,nv=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,rv=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,ov=(e,t)=>n=>e(n)||t(n),iv=e=>t=>e!==null&&t instanceof e,av=e=>e!==null&&e.isSecureContext,sv=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o),s=t(a,i);if(r(a))throw TypeError();super(o,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},lv={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},cv=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o);if(r(a))throw new TypeError;const s={...lv,...i},c=t(a,s);super(o,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},uv=(e,t,n,r)=>class extends e{constructor(o,i){const a=n(o),s=t(a,i);if(r(a))throw new TypeError;super(o,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},dv=(e,t,n)=>class extends e{constructor(r,o){const i=n(r),a=t(i,o);super(r,!0,a,null)}},hv=(e,t,n,r,o,i)=>class extends n{constructor(a,s){super(a),this._nativeContext=a,Ih.set(this,a),r(a)&&o.set(a,new Set),this._destination=new e(this,s),this._listener=t(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const s=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=s;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===s?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},bc=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch(n){}return!1},fv=(e,t)=>(n,r,o)=>{const i=new Set;return n.connect=(a=>(s,c=0,l=0)=>{const h=i.size===0;if(t(s))return a.call(n,s,c,l),e(i,[s,c,l],d=>d[0]===s&&d[1]===c&&d[2]===l,!0),h&&r(),s;a.call(n,s,c),e(i,[s,c],d=>d[0]===s&&d[1]===c,!0),h&&r()})(n.connect),n.disconnect=(a=>(s,c,l)=>{const h=i.size>0;if(s===void 0)a.apply(n),i.clear();else if(typeof s=="number"){a.call(n,s);for(const m of i)m[1]===s&&i.delete(m)}else{t(s)?a.call(n,s,c,l):a.call(n,s,c);for(const m of i)m[0]===s&&(c===void 0||m[1]===c)&&(l===void 0||m[2]===l)&&i.delete(m)}const d=i.size===0;h&&d&&o()})(n.disconnect),n},He=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n]&&(e[n]=r)},ut=(e,t)=>{He(e,t,"channelCount"),He(e,t,"channelCountMode"),He(e,t,"channelInterpretation")},Jh=e=>typeof e.getFloatTimeDomainData=="function",pv=e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let o=0;o<r;o+=1)t[o]=(n[o]-128)*.0078125;return t}},mv=(e,t)=>(n,r)=>{const o=n.createAnalyser();if(ut(o,r),!(r.maxDecibels>r.minDecibels))throw t();return He(o,r,"fftSize"),He(o,r,"maxDecibels"),He(o,r,"minDecibels"),He(o,r,"smoothingTimeConstant"),e(Jh,()=>Jh(o))||pv(o),o},gv=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,Qe=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n].value&&(e[n].value=r)},yv=e=>{e.start=(t=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Bt();t.call(e,r,o,i),n=!0}})(e.start)},wc=e=>{e.start=(t=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},xc=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},vv=(e,t,n,r,o,i,a,s,c,l,h)=>(d,m)=>{const g=d.createBufferSource();return ut(g,m),Qe(g,m,"playbackRate"),He(g,m,"buffer"),He(g,m,"loop"),He(g,m,"loopEnd"),He(g,m,"loopStart"),t(n,()=>n(d))||yv(g),t(r,()=>r(d))||c(g),t(o,()=>o(d))||l(g,d),t(i,()=>i(d))||wc(g),t(a,()=>a(d))||h(g,d),t(s,()=>s(d))||xc(g),e(d,g),g},bv=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,wv=(e,t)=>(n,r,o)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch(s){}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=e(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return t(a,"channelCount",s=>()=>s.call(a),s=>c=>{s.call(a,c);try{i.channelCount=c}catch(l){if(c>i.maxChannelCount)throw l}}),t(a,"channelCountMode",s=>()=>s.call(a),s=>c=>{s.call(a,c),i.channelCountMode=c}),t(a,"channelInterpretation",s=>()=>s.call(a),s=>c=>{s.call(a,c),i.channelInterpretation=c}),Object.defineProperty(a,"maxChannelCount",{get:()=>i.maxChannelCount}),a.connect(i),a},xv=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,_v=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Qh=(e,t)=>{const n=e.createBiquadFilter();return ut(n,t),Qe(n,t,"Q"),Qe(n,t,"detune"),Qe(n,t,"frequency"),Qe(n,t,"gain"),He(n,t,"type"),n},Sv=(e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(n,o),ut(o,r),o},Mv=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw Bt()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Bt()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Bt()}})},_c=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return ut(n,t),Mv(n),n},Cv=(e,t,n,r,o)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const s=i.createConstantSource();return ut(s,a),Qe(s,a,"offset"),t(r,()=>r(i))||wc(s),t(o,()=>o(i))||xc(s),e(i,s),s},ti=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Av=(e,t,n,r)=>(o,{offset:i,...a})=>{const s=o.createBuffer(1,2,44100),c=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(o,{...a,gain:i}),h=s.getChannelData(0);h[0]=1,h[1]=1,c.buffer=s,c.loop=!0;const d={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(y){l.channelCount=y},get channelCountMode(){return l.channelCountMode},set channelCountMode(y){l.channelCountMode=y},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(y){l.channelInterpretation=y},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(y){c.onended=y},addEventListener(...y){return c.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return c.dispatchEvent(y[0])},removeEventListener(...y){return c.removeEventListener(y[0],y[1],y[2])},start(y=0){c.start.call(c,y)},stop(y=0){c.stop.call(c,y)}},m=()=>c.connect(l),g=()=>c.disconnect(l);return e(o,c),r(ti(d,l),m,g)},Tv=(e,t)=>(n,r)=>{const o=n.createConvolver();if(ut(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),He(o,r,"buffer"),r.channelCount>2||(t(o,"channelCount",i=>()=>i.call(o),i=>a=>{if(a>2)throw e();return i.call(o,a)}),r.channelCountMode==="max"))throw e();return t(o,"channelCountMode",i=>()=>i.call(o),i=>a=>{if(a==="max")throw e();return i.call(o,a)}),o},Zh=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return ut(n,t),Qe(n,t,"delayTime"),n},Ev=e=>(t,n)=>{const r=t.createDynamicsCompressor();if(ut(r,n),n.channelCount>2||n.channelCountMode==="max")throw e();return Qe(r,n,"attack"),Qe(r,n,"knee"),Qe(r,n,"ratio"),Qe(r,n,"release"),Qe(r,n,"threshold"),r},Pn=(e,t)=>{const n=e.createGain();return ut(n,t),Qe(n,t,"gain"),n},kv=e=>(t,n,r)=>{if(t.createIIRFilter===void 0)return e(t,n,r);const o=t.createIIRFilter(r.feedforward,r.feedback);return ut(o,r),o};function Ov(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Iv(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function ef(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)n=Iv(n,t),n[0]+=e[r];return n}const Fv=(e,t,n,r)=>(o,i,{channelCount:a,channelCountMode:s,channelInterpretation:c,feedback:l,feedforward:h})=>{const d=_v(i,o.sampleRate),m=l instanceof Float64Array?l:new Float64Array(l),g=h instanceof Float64Array?h:new Float64Array(h),y=m.length,_=g.length,T=Math.min(y,_);if(y===0||y>20)throw r();if(m[0]===0)throw t();if(_===0||_>20)throw r();if(g[0]===0)throw t();if(m[0]!==1){for(let k=0;k<_;k+=1)g[k]/=m[0];for(let k=1;k<y;k+=1)m[k]/=m[0]}const O=n(o,d,a,a);O.channelCount=a,O.channelCountMode=s,O.channelInterpretation=c;const C=32,E=[],W=[],P=[];for(let k=0;k<a;k+=1){E.push(0);const A=new Float32Array(C),M=new Float32Array(C);A.fill(0),M.fill(0),W.push(A),P.push(M)}O.onaudioprocess=k=>{const A=k.inputBuffer,M=k.outputBuffer,b=A.numberOfChannels;for(let p=0;p<b;p+=1){const v=A.getChannelData(p),S=M.getChannelData(p);E[p]=Kh(m,y,g,_,T,W[p],P[p],E[p],C,v,S)}};const U=o.sampleRate/2;return ti({get bufferSize(){return d},get channelCount(){return O.channelCount},set channelCount(k){O.channelCount=k},get channelCountMode(){return O.channelCountMode},set channelCountMode(k){O.channelCountMode=k},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(k){O.channelInterpretation=k},get context(){return O.context},get inputs(){return[O]},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},addEventListener(...k){return O.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return O.dispatchEvent(k[0])},getFrequencyResponse(k,A,M){if(k.length!==A.length||A.length!==M.length)throw e();const b=k.length;for(let p=0;p<b;p+=1){const v=-Math.PI*(k[p]/U),S=[Math.cos(v),Math.sin(v)],I=ef(g,S),D=ef(m,S),N=Ov(I,D);A[p]=Math.sqrt(N[0]*N[0]+N[1]*N[1]),M[p]=Math.atan2(N[1],N[0])}},removeEventListener(...k){return O.removeEventListener(k[0],k[1],k[2])}},O)},Rv=(e,t)=>e.createMediaElementSource(t.mediaElement),Pv=(e,t)=>{const n=e.createMediaStreamDestination();return ut(n,t),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Dv=(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},Nv=(e,t)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw e();if(t(n))throw new TypeError;return i},Lv=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,jv=(e,t,n,r,o,i)=>(a,s)=>{const c=a.createOscillator();return ut(c,s),Qe(c,s,"detune"),Qe(c,s,"frequency"),s.periodicWave!==void 0?c.setPeriodicWave(s.periodicWave):He(c,s,"type"),t(n,()=>n(a))||wc(c),t(r,()=>r(a))||i(c,a),t(o,()=>o(a))||xc(c),e(a,c),c},Uv=e=>(t,n)=>{const r=t.createPanner();return r.orientationX===void 0?e(t,n):(ut(r,n),Qe(r,n,"orientationX"),Qe(r,n,"orientationY"),Qe(r,n,"orientationZ"),Qe(r,n,"positionX"),Qe(r,n,"positionY"),Qe(r,n,"positionZ"),He(r,n,"coneInnerAngle"),He(r,n,"coneOuterAngle"),He(r,n,"coneOuterGain"),He(r,n,"distanceModel"),He(r,n,"maxDistance"),He(r,n,"panningModel"),He(r,n,"refDistance"),He(r,n,"rolloffFactor"),r)},Bv=(e,t,n,r,o,i,a,s,c,l)=>(h,{coneInnerAngle:d,coneOuterAngle:m,coneOuterGain:g,distanceModel:y,maxDistance:_,orientationX:T,orientationY:O,orientationZ:C,panningModel:E,positionX:W,positionY:P,positionZ:U,refDistance:k,rolloffFactor:A,...M})=>{const b=h.createPanner();if(M.channelCount>2||M.channelCountMode==="max")throw a();ut(b,M);const p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},v=n(h,{...p,channelInterpretation:"speakers",numberOfInputs:6}),S=r(h,{...M,gain:1}),I=r(h,{...p,gain:1}),D=r(h,{...p,gain:0}),N=r(h,{...p,gain:0}),Q=r(h,{...p,gain:0}),G=r(h,{...p,gain:0}),B=r(h,{...p,gain:0}),j=o(h,256,6,1),H=i(h,{...p,curve:new Float32Array([1,1]),oversample:"none"});let Z=[T,O,C],le=[W,P,U];const he=new Float32Array(1);j.onaudioprocess=({inputBuffer:te})=>{const ge=[c(te,he,0),c(te,he,1),c(te,he,2)];ge.some((Pe,Fe)=>Pe!==Z[Fe])&&(b.setOrientation(...ge),Z=ge);const be=[c(te,he,3),c(te,he,4),c(te,he,5)];be.some((Pe,Fe)=>Pe!==le[Fe])&&(b.setPosition(...be),le=be)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0});const ee={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(te){if(te>2)throw a();S.channelCount=te,b.channelCount=te},get channelCountMode(){return b.channelCountMode},set channelCountMode(te){if(te==="max")throw a();S.channelCountMode=te,b.channelCountMode=te},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(te){S.channelInterpretation=te,b.channelInterpretation=te},get coneInnerAngle(){return b.coneInnerAngle},set coneInnerAngle(te){b.coneInnerAngle=te},get coneOuterAngle(){return b.coneOuterAngle},set coneOuterAngle(te){b.coneOuterAngle=te},get coneOuterGain(){return b.coneOuterGain},set coneOuterGain(te){if(te<0||te>1)throw t();b.coneOuterGain=te},get context(){return b.context},get distanceModel(){return b.distanceModel},set distanceModel(te){b.distanceModel=te},get inputs(){return[S]},get maxDistance(){return b.maxDistance},set maxDistance(te){if(te<0)throw new RangeError;b.maxDistance=te},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return D.gain},get orientationZ(){return N.gain},get panningModel(){return b.panningModel},set panningModel(te){b.panningModel=te},get positionX(){return Q.gain},get positionY(){return G.gain},get positionZ(){return B.gain},get refDistance(){return b.refDistance},set refDistance(te){if(te<0)throw new RangeError;b.refDistance=te},get rolloffFactor(){return b.rolloffFactor},set rolloffFactor(te){if(te<0)throw new RangeError;b.rolloffFactor=te},addEventListener(...te){return S.addEventListener(te[0],te[1],te[2])},dispatchEvent(...te){return S.dispatchEvent(te[0])},removeEventListener(...te){return S.removeEventListener(te[0],te[1],te[2])}};d!==ee.coneInnerAngle&&(ee.coneInnerAngle=d),m!==ee.coneOuterAngle&&(ee.coneOuterAngle=m),g!==ee.coneOuterGain&&(ee.coneOuterGain=g),y!==ee.distanceModel&&(ee.distanceModel=y),_!==ee.maxDistance&&(ee.maxDistance=_),T!==ee.orientationX.value&&(ee.orientationX.value=T),O!==ee.orientationY.value&&(ee.orientationY.value=O),C!==ee.orientationZ.value&&(ee.orientationZ.value=C),E!==ee.panningModel&&(ee.panningModel=E),W!==ee.positionX.value&&(ee.positionX.value=W),P!==ee.positionY.value&&(ee.positionY.value=P),U!==ee.positionZ.value&&(ee.positionZ.value=U),k!==ee.refDistance&&(ee.refDistance=k),A!==ee.rolloffFactor&&(ee.rolloffFactor=A),(Z[0]!==1||Z[1]!==0||Z[2]!==0)&&b.setOrientation(...Z),(le[0]!==0||le[1]!==0||le[2]!==0)&&b.setPosition(...le);const ae=()=>{S.connect(b),e(S,H,0,0),H.connect(I).connect(v,0,0),H.connect(D).connect(v,0,1),H.connect(N).connect(v,0,2),H.connect(Q).connect(v,0,3),H.connect(G).connect(v,0,4),H.connect(B).connect(v,0,5),v.connect(j).connect(h.destination)},ce=()=>{S.disconnect(b),s(S,H,0,0),H.disconnect(I),I.disconnect(v),H.disconnect(D),D.disconnect(v),H.disconnect(N),N.disconnect(v),H.disconnect(Q),Q.disconnect(v),H.disconnect(G),G.disconnect(v),H.disconnect(B),B.disconnect(v),v.disconnect(j),j.disconnect(h.destination)};return l(ti(ee,b),ae,ce)},Wv=e=>(t,{disableNormalization:n,imag:r,real:o})=>{const i=r instanceof Float32Array?r:new Float32Array(r),a=o instanceof Float32Array?o:new Float32Array(o),s=t.createPeriodicWave(a,i,{disableNormalization:n});if(Array.from(r).length<2)throw e();return s},Ms=(e,t,n,r)=>e.createScriptProcessor(t,n,r),$v=(e,t)=>(n,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw t();if(n.createStereoPanner===void 0)return e(n,r);const i=n.createStereoPanner();return ut(i,r),Qe(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:a=>{if(a!==o)throw t()}}),i},zv=(e,t,n,r,o,i)=>{const a=new Float32Array([1,1]),s=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...c,oversample:"none"},h=(g,y,_,T)=>{const O=new Float32Array(16385),C=new Float32Array(16385);for(let A=0;A<16385;A+=1){const M=A/16384*s;O[A]=Math.cos(M),C[A]=Math.sin(M)}const E=n(g,{...c,gain:0}),W=r(g,{...l,curve:O}),P=r(g,{...l,curve:a}),U=n(g,{...c,gain:0}),k=r(g,{...l,curve:C});return{connectGraph(){y.connect(E),y.connect(P.inputs===void 0?P:P.inputs[0]),y.connect(U),P.connect(_),_.connect(W.inputs===void 0?W:W.inputs[0]),_.connect(k.inputs===void 0?k:k.inputs[0]),W.connect(E.gain),k.connect(U.gain),E.connect(T,0,0),U.connect(T,0,1)},disconnectGraph(){y.disconnect(E),y.disconnect(P.inputs===void 0?P:P.inputs[0]),y.disconnect(U),P.disconnect(_),_.disconnect(W.inputs===void 0?W:W.inputs[0]),_.disconnect(k.inputs===void 0?k:k.inputs[0]),W.disconnect(E.gain),k.disconnect(U.gain),E.disconnect(T,0,0),U.disconnect(T,0,1)}}},d=(g,y,_,T)=>{const O=new Float32Array(16385),C=new Float32Array(16385),E=new Float32Array(16385),W=new Float32Array(16385),P=Math.floor(16385/2);for(let N=0;N<16385;N+=1)if(N>P){const Q=(N-P)/(16384-P)*s;O[N]=Math.cos(Q),C[N]=Math.sin(Q),E[N]=0,W[N]=1}else{const Q=N/(16384-P)*s;O[N]=1,C[N]=0,E[N]=Math.cos(Q),W[N]=Math.sin(Q)}const U=t(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),k=n(g,{...c,gain:0}),A=r(g,{...l,curve:O}),M=n(g,{...c,gain:0}),b=r(g,{...l,curve:C}),p=r(g,{...l,curve:a}),v=n(g,{...c,gain:0}),S=r(g,{...l,curve:E}),I=n(g,{...c,gain:0}),D=r(g,{...l,curve:W});return{connectGraph(){y.connect(U),y.connect(p.inputs===void 0?p:p.inputs[0]),U.connect(k,0),U.connect(M,0),U.connect(v,1),U.connect(I,1),p.connect(_),_.connect(A.inputs===void 0?A:A.inputs[0]),_.connect(b.inputs===void 0?b:b.inputs[0]),_.connect(S.inputs===void 0?S:S.inputs[0]),_.connect(D.inputs===void 0?D:D.inputs[0]),A.connect(k.gain),b.connect(M.gain),S.connect(v.gain),D.connect(I.gain),k.connect(T,0,0),v.connect(T,0,0),M.connect(T,0,1),I.connect(T,0,1)},disconnectGraph(){y.disconnect(U),y.disconnect(p.inputs===void 0?p:p.inputs[0]),U.disconnect(k,0),U.disconnect(M,0),U.disconnect(v,1),U.disconnect(I,1),p.disconnect(_),_.disconnect(A.inputs===void 0?A:A.inputs[0]),_.disconnect(b.inputs===void 0?b:b.inputs[0]),_.disconnect(S.inputs===void 0?S:S.inputs[0]),_.disconnect(D.inputs===void 0?D:D.inputs[0]),A.disconnect(k.gain),b.disconnect(M.gain),S.disconnect(v.gain),D.disconnect(I.gain),k.disconnect(T,0,0),v.disconnect(T,0,0),M.disconnect(T,0,1),I.disconnect(T,0,1)}}},m=(g,y,_,T,O)=>{if(y===1)return h(g,_,T,O);if(y===2)return d(g,_,T,O);throw o()};return(g,{channelCount:y,channelCountMode:_,pan:T,...O})=>{if(_==="max")throw o();const C=e(g,{...O,channelCount:1,channelCountMode:_,numberOfInputs:2}),E=n(g,{...O,channelCount:y,channelCountMode:_,gain:1}),W=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:P,disconnectGraph:U}=m(g,y,E,W,C);Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"maxValue",{get:()=>1}),Object.defineProperty(W.gain,"minValue",{get:()=>-1});const k={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(p){E.channelCount!==p&&(A&&U(),{connectGraph:P,disconnectGraph:U}=m(g,p,E,W,C),A&&P()),E.channelCount=p},get channelCountMode(){return E.channelCountMode},set channelCountMode(p){if(p==="clamped-max"||p==="max")throw o();E.channelCountMode=p},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(p){E.channelInterpretation=p},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get pan(){return W.gain},addEventListener(...p){return E.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return E.dispatchEvent(p[0])},removeEventListener(...p){return E.removeEventListener(p[0],p[1],p[2])}};let A=!1;const M=()=>{P(),A=!0},b=()=>{U(),A=!1};return i(ti(k,C),M,b)}},qv=(e,t,n,r,o,i,a)=>(s,c)=>{const l=s.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&s.createGain().gain.automationRate===void 0)return n(s,c);ut(l,c);const h=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(h!==null&&h.length<2)throw t();He(l,{curve:h},"curve"),He(l,c,"oversample");let d=null,m=!1;return a(l,"curve",g=>()=>g.call(l),g=>y=>(g.call(l,y),m&&(r(y)&&d===null?d=e(s,l):!r(y)&&d!==null&&(d(),d=null)),y)),o(l,()=>{m=!0,r(l.curve)&&(d=e(s,l))},()=>{m=!1,d!==null&&(d(),d=null)})},Hv=(e,t,n,r,o)=>(i,{curve:a,oversample:s,...c})=>{const l=i.createWaveShaper(),h=i.createWaveShaper();ut(l,c),ut(h,c);const d=n(i,{...c,gain:1}),m=n(i,{...c,gain:-1}),g=n(i,{...c,gain:1}),y=n(i,{...c,gain:-1});let _=null,T=!1,O=null;const C={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(P){d.channelCount=P,m.channelCount=P,l.channelCount=P,g.channelCount=P,h.channelCount=P,y.channelCount=P},get channelCountMode(){return l.channelCountMode},set channelCountMode(P){d.channelCountMode=P,m.channelCountMode=P,l.channelCountMode=P,g.channelCountMode=P,h.channelCountMode=P,y.channelCountMode=P},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(P){d.channelInterpretation=P,m.channelInterpretation=P,l.channelInterpretation=P,g.channelInterpretation=P,h.channelInterpretation=P,y.channelInterpretation=P},get context(){return l.context},get curve(){return O},set curve(P){if(P!==null&&P.length<2)throw t();if(P===null)l.curve=P,h.curve=P;else{const U=P.length,k=new Float32Array(U+2-U%2),A=new Float32Array(U+2-U%2);k[0]=P[0],A[0]=-P[U-1];const M=Math.ceil((U+1)/2),b=(U+1)/2-1;for(let p=1;p<M;p+=1){const v=p/M*b,S=Math.floor(v),I=Math.ceil(v);k[p]=S===I?P[S]:(1-(v-S))*P[S]+(1-(I-v))*P[I],A[p]=S===I?-P[U-1-S]:-((1-(v-S))*P[U-1-S])-(1-(I-v))*P[U-1-I]}k[M]=U%2===1?P[M-1]:(P[M-2]+P[M-1])/2,l.curve=k,h.curve=A}O=P,T&&(r(O)&&_===null?_=e(i,d):_!==null&&(_(),_=null))},get inputs(){return[d]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(P){l.oversample=P,h.oversample=P},addEventListener(...P){return d.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return d.dispatchEvent(P[0])},removeEventListener(...P){return d.removeEventListener(P[0],P[1],P[2])}};a!==null&&(C.curve=a instanceof Float32Array?a:new Float32Array(a)),s!==C.oversample&&(C.oversample=s);const E=()=>{d.connect(l).connect(g),d.connect(m).connect(h).connect(y).connect(g),T=!0,r(O)&&(_=e(i,d))},W=()=>{d.disconnect(l),l.disconnect(g),d.disconnect(m),m.disconnect(h),h.disconnect(y),y.disconnect(g),T=!1,_!==null&&(_(),_=null)};return o(ti(C,g),E,W)},xn=()=>new DOMException("","NotSupportedError"),Vv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Gv=(e,t,n,r,o,i,a)=>class extends e{constructor(s,c){const l=o(s),h={...Vv,...c},d=n(l,h),m=i(l),g=m?r():null,y=s.sampleRate/2;super(s,!1,d,g),this._detune=t(this,m,d.detune,153600,-153600),this._frequency=t(this,m,d.frequency,y,-y),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(s){const c=typeof s=="function"?a(this,s):null;this._nativeOscillatorNode.onended=c;const l=this._nativeOscillatorNode.onended;this._onended=l!==null&&l===c?s:l}get type(){return this._nativeOscillatorNode.type}set type(s){this._nativeOscillatorNode.type=s,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(s){this._nativeOscillatorNode.setPeriodicWave(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=s)}start(s=0){if(this._nativeOscillatorNode.start(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=s),this.context.state!=="closed"){Zo(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),wr(this)&&Zi(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(s=0){this._nativeOscillatorNode.stop(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=s)}},Yv=(e,t,n,r,o)=>()=>{const i=new WeakMap;let a=null,s=null,c=null;const l=async(h,d)=>{let m=n(h);const g=Ut(m,d);if(!g){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:a===null?void 0:a,type:m.type};m=t(d,y),s!==null&&m.start(s),c!==null&&m.stop(c)}return i.set(d,m),g?(await e(d,h.detune,m.detune),await e(d,h.frequency,m.frequency)):(await r(d,h.detune,m.detune),await r(d,h.frequency,m.frequency)),await o(h,d,m),m};return{set periodicWave(h){a=h},set start(h){s=h},set stop(h){c=h},render(h,d){const m=i.get(d);return m!==void 0?Promise.resolve(m):l(h,d)}}},Xv={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Kv=(e,t,n,r,o,i,a)=>class extends e{constructor(s,c){const l=o(s),h={...Xv,...c},d=n(l,h),m=i(l),g=m?r():null;super(s,!1,d,g),this._nativePannerNode=d,this._orientationX=t(this,m,d.orientationX,Gt,sn),this._orientationY=t(this,m,d.orientationY,Gt,sn),this._orientationZ=t(this,m,d.orientationZ,Gt,sn),this._positionX=t(this,m,d.positionX,Gt,sn),this._positionY=t(this,m,d.positionY,Gt,sn),this._positionZ=t(this,m,d.positionZ,Gt,sn),a(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(s){this._nativePannerNode.coneInnerAngle=s}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(s){this._nativePannerNode.coneOuterAngle=s}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(s){this._nativePannerNode.coneOuterGain=s}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(s){this._nativePannerNode.distanceModel=s}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(s){this._nativePannerNode.maxDistance=s}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(s){this._nativePannerNode.panningModel=s}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(s){this._nativePannerNode.refDistance=s}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(s){this._nativePannerNode.rolloffFactor=s}},Jv=(e,t,n,r,o,i,a,s,c,l)=>()=>{const h=new WeakMap;let d=null;const m=async(g,y)=>{let _=null,T=i(g);const O={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},C={...O,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},E=Ut(T,y);if("bufferSize"in T)_=r(y,{...O,gain:1});else if(!E){const W={...C,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=o(y,W)}if(h.set(y,_===null?T:_),_!==null){if(d===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const p=new a(6,g.context.length,y.sampleRate),v=t(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});v.connect(p.destination),d=(async()=>{const S=await Promise.all([g.orientationX,g.orientationY,g.orientationZ,g.positionX,g.positionY,g.positionZ].map(async(I,D)=>{const N=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:D===0?1:0});return await s(p,I,N.offset),N}));for(let I=0;I<6;I+=1)S[I].connect(v,0,I),S[I].start(0);return l(p)})()}const W=await d,P=r(y,{...O,gain:1});await c(g,y,P);const U=[];for(let p=0;p<W.numberOfChannels;p+=1)U.push(W.getChannelData(p));let k=[U[0][0],U[1][0],U[2][0]],A=[U[3][0],U[4][0],U[5][0]],M=r(y,{...O,gain:1}),b=o(y,{...C,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:A[0],positionY:A[1],positionZ:A[2]});P.connect(M).connect(b.inputs[0]),b.connect(_);for(let p=128;p<W.length;p+=128){const v=[U[0][p],U[1][p],U[2][p]],S=[U[3][p],U[4][p],U[5][p]];if(v.some((I,D)=>I!==k[D])||S.some((I,D)=>I!==A[D])){k=v,A=S;const I=p/y.sampleRate;M.gain.setValueAtTime(0,I),M=r(y,{...O,gain:0}),b=o(y,{...C,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),M.gain.setValueAtTime(1,I),P.connect(M).connect(b.inputs[0]),b.connect(_)}}return _}return E?(await e(y,g.orientationX,T.orientationX),await e(y,g.orientationY,T.orientationY),await e(y,g.orientationZ,T.orientationZ),await e(y,g.positionX,T.positionX),await e(y,g.positionY,T.positionY),await e(y,g.positionZ,T.positionZ)):(await s(y,g.orientationX,T.orientationX),await s(y,g.orientationY,T.orientationY),await s(y,g.orientationZ,T.orientationZ),await s(y,g.positionX,T.positionX),await s(y,g.positionY,T.positionY),await s(y,g.positionZ,T.positionZ)),ei(T)?await c(g,y,T.inputs[0]):await c(g,y,T),T};return{render(g,y){const _=h.get(y);return _!==void 0?Promise.resolve(_):m(g,y)}}},Qv={disableNormalization:!1},Zv=(e,t,n,r)=>class Lm{constructor(i,a){const s=t(i),c=r({...Qv,...a}),l=e(s,c);return n.add(l),l}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Lm.prototype||n.has(i)}},eb=(e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)),tb=(e,t,n)=>async(r,o,i)=>{const a=e(r);await Promise.all(a.activeInputs.map((s,c)=>Array.from(s).map(async([l,h])=>{const d=await t(l).render(l,o),m=r.context.destination;!n(l)&&(r!==m||!n(r))&&d.connect(i,h,c)})).reduce((s,c)=>[...s,...c],[]))},nb=(e,t,n)=>async(r,o,i)=>{const a=t(r);await Promise.all(Array.from(a.activeInputs).map(async([s,c])=>{const l=await e(s).render(s,o);n(s)||l.connect(i,c)}))},rb=(e,t,n,r)=>o=>e(bc,()=>bc(o))?Promise.resolve(e(r,r)).then(i=>{if(!i){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(i=>{const a=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=s=>{a.disconnect(),i(s.renderedBuffer)},a.connect(o.destination),o.startRendering()}),ob=e=>(t,n)=>e.set(t,n),ib={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},ab=(e,t,n,r,o,i)=>class extends e{constructor(a,s){const c=o(a),l={...ib,...s},h=n(c,l),d=i(c),m=d?r():null;super(a,!1,h,m),this._pan=t(this,d,h.pan)}get pan(){return this._pan}},sb=(e,t,n,r,o)=>()=>{const i=new WeakMap,a=async(s,c)=>{let l=n(s);const h=Ut(l,c);if(!h){const d={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(c,d)}return i.set(c,l),h?await e(c,s.pan,l.pan):await r(c,s.pan,l.pan),ei(l)?await o(s,c,l.inputs[0]):await o(s,c,l),l};return{render(s,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):a(s,c)}}},lb=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch(t){return!1}return!0},cb=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(o);const s=new e(r,"a",{numberOfOutputs:0}),c=r.createOscillator();s.port.onmessage=()=>i=!0,s.onprocessorerror=()=>a=!0,c.connect(s),c.start(0),await r.startRendering(),await new Promise(l=>setTimeout(l))}catch(s){}finally{URL.revokeObjectURL(o)}return i&&!a},ub=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},db=()=>new DOMException("","UnknownError"),hb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},fb=(e,t,n,r,o,i,a)=>class extends e{constructor(s,c){const l=o(s),h={...hb,...c},d=n(l,h),m=i(l)?r():null;super(s,!0,d,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,a(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(s){if(s===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(s.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=s}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(s){this._nativeWaveShaperNode.oversample=s}},pb=(e,t,n)=>()=>{const r=new WeakMap,o=async(i,a)=>{let s=t(i);if(!Ut(s,a)){const c={channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,curve:s.curve,oversample:s.oversample};s=e(a,c)}return r.set(a,s),ei(s)?await n(i,a,s.inputs[0]):await n(i,a,s),s};return{render(i,a){const s=r.get(a);return s!==void 0?Promise.resolve(s):o(i,a)}}},mb=()=>typeof window>"u"?null:window,gb=(e,t)=>n=>{n.copyFromChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const c=n.length,l=n.getChannelData(s),h=r.length;for(let d=a<0?-a:0;d+a<c&&d<h;d+=1)r[d]=l[d+a]},n.copyToChannel=(r,o,i=0)=>{const a=e(i),s=e(o);if(s>=n.numberOfChannels)throw t();const c=n.length,l=n.getChannelData(s),h=r.length;for(let d=a<0?-a:0;d+a<c&&d<h;d+=1)l[d+a]=r[d]}},yb=e=>t=>{t.copyFromChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,i=0)=>{const a=e(i),s=e(o);if(a<t.length)return n.call(t,r,s,a)})(t.copyToChannel)},vb=e=>(t,n)=>{const r=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),e(t,"buffer",o=>()=>{const i=o.call(t);return i===r?null:i},o=>i=>o.call(t,i===null?r:i))},bb=(e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,()=>{const i=r.numberOfInputs;for(let a=0;a<i;a+=1)o.connect(r,0,a)},()=>o.disconnect(r))},tf=(e,t,n)=>e.copyFromChannel===void 0?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),nf=e=>{if(e===null)return!1;const t=e.length;return t%2!==0?e[Math.floor(t/2)]!==0:e[t/2-1]+e[t/2]!==0},ra=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:i,set:a}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(i),set:r(a)})},wb=e=>({...e,channelCount:e.numberOfOutputs}),xb=e=>{const{imag:t,real:n}=e;return t===void 0?n===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,()=>0),real:n}:n===void 0?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:n}},rf=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(r.code!==9)throw r;rf(e,t,n+1e-7)}},_b=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch(n){return!0}return!1},Sb=e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch(r){return!1}return!0},Mb=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch(n){return!1}return!0},Sc=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},of=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch(r){return!1}},Mc=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},Cb=e=>{e.start=(t=>(n=0,r=0,o)=>{const i=e.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,a,o)})(e.start)},af=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=>()=>{o.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),ti(e,n),e.stop=(o=>{let i=!1;return(a=0)=>{if(i)try{o.call(e,a)}catch(s){n.gain.setValueAtTime(0,a)}else o.call(e,a),i=!0}})(e.stop)},oa=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},Ab=b2(fo),Tb=C2(fo),Eb=Oy(vs),sf=new WeakMap,kb=Hy(sf),xr=ly(new Map,new WeakMap),Kn=mb(),lf=mv(xr,ho),cf=qy(ln),Tt=tb(ln,cf,po),Ob=k2(lf,Ye,Tt),Be=Gy(Ih),mo=Lv(Kn),Le=iv(mo),uf=new WeakMap,df=jy(oa),ia=bv(Kn),hf=tv(ia),ff=nv(Kn),Ib=rv(Kn),Cc=xv(Kn),ot=ty(w2(Th),M2(Ab,Tb,ws,Eb,xs,ln,kb,Qi,Ye,fo,wr,po,_s),xr,ev(hc,xs,ln,Ye,na,wr),ho,Ss,xn,Ay(ws,hc,ln,Ye,na,Be,wr,Le),Fy(uf,ln,Dr),df,Be,hf,ff,Ib,Le,Cc),Fb=E2(ot,Ob,ho,lf,Be,Le),pf=new WeakSet,mf=gv(Kn),gf=wy(new Uint32Array(1)),yf=gb(gf,ho),vf=yb(gf),Ac=I2(pf,xr,xn,mf,mo,lb(mf),yf,vf),Cs=A2(Pn),bf=nb(cf,ea,po),_r=my(bf),aa=vv(Cs,xr,_b,Sb,Mb,Sc,of,Mc,Cb,vb(ra),af),Sr=eb(Vy(ea),bf),Rb=P2(_r,aa,Ye,Sr,Tt),Jn=ny(x2(kh),uf,Oh,ry,f2,p2,m2,g2,y2,lc,_h,ia,rf),wf=R2(ot,Rb,Jn,Bt,aa,Be,Le,oa),Pb=q2(ot,H2,ho,Bt,wv(Pn,ra),Be,Le,Tt),Db=sy(_r,Qh,Ye,Sr,Tt),go=ob(sf),As=ay(ot,Jn,Db,Ss,Qh,Be,Le,go),ni=fv(fo,ff),Nb=bb(Bt,ni),ri=Sv(ia,Nb),Lb=dy(ri,Ye,Tt),jb=uy(ot,Lb,ri,Be,Le),Ub=py(_c,Ye,Tt),Bb=fy(ot,Ub,_c,Be,Le,wb),Wb=Av(Cs,aa,Pn,ni),Ts=Cv(Cs,xr,Wb,Sc,Mc),$b=by(_r,Ts,Ye,Sr,Tt),zb=vy(ot,Jn,$b,Ts,Be,Le,oa),xf=Tv(xn,ra),qb=Sy(xf,Ye,Tt),_f=_y(ot,qb,xf,Be,Le,go),Hb=ky(_r,Zh,Ye,Sr,Tt),Vb=Ey(ot,Jn,Hb,Zh,Be,Le,go),Sf=Ev(xn),Gb=Dy(_r,Sf,Ye,Sr,Tt),Yb=Py(ot,Jn,Gb,Sf,xn,Be,Le,go),Xb=zy(_r,Pn,Ye,Sr,Tt),Mf=$y(ot,Jn,Xb,Pn,Be,Le),Kb=Fv(Ss,Bt,Ms,xn),Cf=rb(xr,Pn,Ms,ub(Pn,mo)),Jb=Zy(aa,Ye,mo,Tt,Cf),Qb=kv(Kb),Af=Jy(ot,Qb,Jb,Be,Le,go),Zb=V2(Jn,ri,Ts,Ms,xn,tf,Le,ra),ew=new WeakMap,tw=hv(Pb,Zb,df,Le,ew,oa),Tf=jv(Cs,xr,Sc,of,Mc,af),nw=Yv(_r,Tf,Ye,Sr,Tt),rw=Gv(ot,Jn,Tf,nw,Be,Le,oa),Ef=gy(aa),ow=Hv(Ef,Bt,Pn,nf,ni),Es=qv(Ef,Bt,ow,nf,ni,ia,ra),iw=Bv(ws,Bt,ri,Pn,Ms,Es,xn,xs,tf,ni),kf=Uv(iw),aw=Jv(_r,ri,Ts,Pn,kf,Ye,mo,Sr,Tt,Cf),sw=Kv(ot,Jn,kf,aw,Be,Le,go),lw=Wv(ho),cw=Zv(lw,Be,new WeakSet,xb),uw=zv(ri,_c,Pn,Es,xn,ni),Of=$v(uw,xn),dw=sb(_r,Of,Ye,Sr,Tt),hw=ab(ot,Jn,Of,dw,Be,Le),fw=pb(Es,Ye,Tt),pw=fb(ot,Bt,Es,fw,Be,Le,go),mw=av(Kn),gw=Uy(Kn),yw=new WeakMap,vw=Yy(yw,mo),bw=mw?S2(xr,xn,Ly(Kn),gw,By(v2),Be,vw,Le,Cc,new WeakMap,new WeakMap,cb(Cc,mo),Kn):void 0,ww=ov(hf,Le),xw=Cy(pf,xr,My,Ny,new WeakSet,Be,ww,pc,bc,yf,vf),_w=oy(bw,Fb,Ac,wf,As,jb,Bb,zb,_f,xw,Vb,Yb,Mf,Af,tw,rw,sw,cw,hw,pw),Sw=sv(ot,Rv,Be,Le),Mw=cv(ot,Pv,Be,Le),Cw=uv(ot,Dv,Be,Le),Aw=Nv(Bt,Le),Tw=dv(ot,Aw,Be),Ew=z2(_w,Bt,xn,db,Sw,Mw,Cw,Tw,ia);class kw{constructor(t){if(this.endpoint=t,this.playAmount=0,this.playMovingAverage=[],this.playSampleLength=1,this.audioQueue=[],this.demodulation="USB",this.accumulator=[],this.decodeFT8=!1,this.farthestDistance=0,this.nb=!1,this.mute=!1,this.squelchMute=!1,this.squelch=!1,this.squelchThreshold=0,this.power=1,this.ctcss=!1,this.audioCtx&&this.audioCtx.state=="running")startaudio=document.getElementById("startaudio"),startaudio&&startaudio.remove();else{const n=()=>{this.audioCtx&&this.audioCtx.state!=="running"&&this.audioCtx.resume();const r=document.getElementById("startaudio");r&&r.remove(),document.documentElement.removeEventListener("mousedown",n)};document.documentElement.addEventListener("mousedown",n)}this.mode=0,this.d=10,this.v=10,this.n2=10,this.n1=10,this.var=10,this.highThres=1,this.initTimer()}async init(){return this.promise?this.promise:(this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.audioSocket=new WebSocket(this.endpoint),this.audioSocket.binaryType="arraybuffer",this.firstAudioMessage=!0,this.audioSocket.onmessage=this.socketMessageInitial.bind(this),this.promise)}stop(){this.audioSocket.close(),this.decoder.free()}initAudio(t){const n=this.audioOutputSps;try{this.audioCtx=new Ew({sampleRate:n})}catch(r){this.resolvePromise();return}this.audioStartTime=this.audioCtx.currentTime,this.playTime=this.audioCtx.currentTime+.1,this.playStartTime=this.audioCtx.currentTime,this.decoder=Qg(t.audio_compression,this.audioMaxSps,this.trueAudioSps,this.audioOutputSps),this.bassBoost=new As(this.audioCtx),this.bassBoost.type="lowshelf",this.bassBoost.frequency.value=200,this.bassBoost.Q.value=.5,this.bassBoost.gain.value=25,this.bandpass=new As(this.audioCtx),this.bandpass.type="peaking",this.bandpass.frequency.value=1500,this.bandpass.Q.value=1.5,this.bandpass.gain.value=6,this.highPass=new As(this.audioCtx),this.highPass.type="highpass",this.highPass.frequency.value=80,this.highPass.Q.value=.5,this.convolverNode=new _f(this.audioCtx),this.setLowpass(15e3),this.gainNode=new Mf(this.audioCtx),this.setGain(10),this.convolverNode.connect(this.highPass),this.highPass.connect(this.bandpass),this.bandpass.connect(this.bassBoost),this.bassBoost.connect(this.gainNode),this.gainNode.connect(this.audioCtx.destination),this.audioInputNode=this.convolverNode,this.updateFilters(),this.resolvePromise(t)}updateFilters(){switch(this.demodulation){case"USB":case"LSB":this.bassBoost.gain.value=15,this.bandpass.frequency.value=1800,this.bandpass.Q.value=1.2,this.bandpass.gain.value=8,this.highPass.frequency.value=80,this.setLowpass(3e3);break;case"CW-U":case"CW-L":this.bassBoost.gain.value=0,this.bandpass.frequency.value=700,this.bandpass.Q.value=5,this.bandpass.gain.value=10,this.highPass.frequency.value=500,this.setLowpass(1e3);break;case"AM":this.bassBoost.gain.value=20,this.bandpass.frequency.value=1500,this.bandpass.Q.value=1,this.bandpass.gain.value=6,this.highPass.frequency.value=50,this.setLowpass(4500);break;case"FM":this.bassBoost.gain.value=25,this.bandpass.frequency.value=1500,this.bandpass.Q.value=.5,this.bandpass.gain.value=4,this.ctcss?this.highPass.frequency.value=300:this.highPass.frequency.value=30,this.setLowpass(15e3);break}}setFIRFilter(t){const n=new Ac({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});n.copyToChannel(t,0,0),this.convolverNode.buffer=n}setLowpass(t){const n=this.audioOutputSps;if(t>=n/2){this.setFIRFilter(Float32Array.of(1));return}const r=Gd(t/n,1e3/n,.001);this.setFIRFilter(r)}setFT8Decoding(t){this.decodeFT8=t}setFmDeemph(t){if(t===0){this.audioInputNode=this.convolverNode;return}const n=1/t,r=this.audioOutputSps,o=-(2*r*Math.tan(n/(2*r)))/(2*r),i=-1,a=(1+o)/(1-o),s=-o/(1-o),c=[s*1,s*-i],l=[1,-a];this.fmDeemphNode=new Af(this.audioCtx,{feedforward:c,feedback:l}),this.fmDeemphNode.connect(this.convolverNode),this.audioInputNode=this.fmDeemphNode}socketMessageInitial(t){const n=JSON.parse(t.data);this.settings=n,this.fftSize=n.fft_size,this.audioMaxSize=n.fft_result_size,this.baseFreq=n.basefreq,this.totalBandwidth=n.total_bandwidth,this.sps=n.sps,this.audioOverlap=n.fft_overlap/2,this.audioMaxSps=n.audio_max_sps,this.grid_locator=n.grid_locator,this.smeter_offset=n.smeter_offset,this.audioL=n.defaults.l,this.audioM=n.defaults.m,this.audioR=n.defaults.r;const r=Math.ceil(this.audioMaxSps*this.audioMaxSize/this.sps/4)*4;this.trueAudioSps=r/this.audioMaxSize*this.sps,this.audioOutputSps=Math.min(this.audioMaxSps,96e3),this.audioSocket.onmessage=this.socketMessage.bind(this),this.initAudio(n),console.log("Audio Samplerate: ",this.trueAudioSps)}socketMessage(t){if(t.data instanceof ArrayBuffer){const n=sh(new Uint8Array(t.data)),r=n.pwr;this.power=.5*this.power+.5*r||1;const o=20*Math.log10(Math.sqrt(this.power)/2);this.dBPower=o,this.squelch&&o<this.squelchThreshold?this.squelchMute=!0:this.squelchMute=!1,this.decode(n.data)}}decode(t){if(!this.audioCtx)return;let n=this.decoder.decode(t);if(n.length!==0){if(this.intervals=this.intervals||yh(1e4,0),this.lens=this.lens||yh(1e4,0),this.lastReceived=this.lastReceived||0,this.lastReceived===0)this.lastReceived=performance.now();else{const r=performance.now(),o=r-this.lastReceived;this.intervals.push(o),this.lastReceived=r,this.lens.push(n.length);let i=!0;this.mode===0?Math.abs(o-this.n1)>Math.abs(this.v)*2+800&&(this.var=0,this.mode=1):(this.var=this.var/2+Math.abs((2*o-this.n1-this.n2)/8),this.var<=63&&(this.mode=0,i=!1)),i&&(this.mode===0?this.d=.125*o+.875*this.d:this.d=this.d+o-this.n1,this.v=.125*Math.abs(o-this.d)+.875*this.v),this.n2=this.n1,this.n1=o}this.pcmArray=n,this.signalDecoder&&this.signalDecoder.decode(n),this.playAudio(n)}}updateAudioParams(){this.audioSocket.send(JSON.stringify({cmd:"window",l:this.audioL,m:this.audioM,r:this.audioR}))}setAudioDemodulation(t){this.demodulation=t,this.updateFilters(),this.audioSocket.send(JSON.stringify({cmd:"demodulation",demodulation:t}))}setAudioRange(t,n,r){this.audioL=Math.floor(t),this.audioM=n,this.audioR=Math.ceil(r),this.actualL=t,this.actualR=r,this.updateAudioParams()}getAudioRange(){return[this.actualL,this.audioM,this.actualR]}setAudioOptions(t){this.audioOptions=t,this.audioSocket.send(JSON.stringify({cmd:"options",options:t}))}setGain(t){t/=4,this.gain=t,this.gainNode.gain.value=t}setMute(t){t!==this.mute&&(this.mute=t,this.audioSocket.send(JSON.stringify({cmd:"mute",mute:t})))}setCTCSSFilter(t){this.ctcss=t,this.updateFilters()}setSquelch(t){this.squelch=t}setSquelchThreshold(t){this.squelchThreshold=t}getPowerDb(){return this.dBPower}setUserID(t){this.audioSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSignalDecoder(t){this.signalDecoder=t}getSignalDecoder(){return this.signalDecoder}gridSquareToLatLong(t){const n=t.toUpperCase();let r=(n.charCodeAt(0)-65)*20-180,o=(n.charCodeAt(1)-65)*10-90;return n.length>=4&&(r+=(n.charCodeAt(2)-48)*2,o+=n.charCodeAt(3)-48),n.length==6?(r+=(n.charCodeAt(4)-65)*.08333333333333333,o+=(n.charCodeAt(5)-65)*.041666666666666664,r+=.041666666666666664,o+=.010416666666666666):n.length==4&&(r+=1,o+=.5),[o,r]}initTimer(){setInterval(()=>{this.updateCollectionStatus()},1e3)}extractGridLocators(t){const n=/[A-R]{2}[0-9]{2}([A-X]{2})?/gi,r=t.match(n);return r?Array.from(new Set(r)):[]}calculateDistance(t,n,r,o){function i(m){return m*Math.PI/180}var a=6371,s=i(r-t),c=i(o-n),l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(i(t))*Math.cos(i(r))*Math.sin(c/2)*Math.sin(c/2),h=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),d=a*h;return d}updateCollectionStatus(){const t=15-new Date().getSeconds()%15;t===15&&!this.isCollecting?(console.log("Start"),this.startCollection()):t===1&&this.isCollecting&&(console.log("Stop"),this.stopCollection())}startCollection(){this.isCollecting=!0,this.accumulator=[]}async stopCollection(){if(this.isCollecting=!1,this.decodeFT8){const t=new Float32Array(this.accumulator.flat());let n=await l2(t);const r=document.getElementById("ft8MessagesList");let o=this.gridSquareToLatLong(this.grid_locator);for(let i of n){let a=this.extractGridLocators(i.text);if(a.length>0){let s=this.gridSquareToLatLong(a[0]),c=this.calculateDistance(o[0],o[1],s[0],s[1]);c>this.farthestDistance&&(this.farthestDistance=c,document.getElementById("farthest-distance").textContent="Farthest Distance: ".concat(this.farthestDistance.toFixed(2)," km"));const l=document.createElement("div");l.classList.add("glass-message","p-2","rounded-lg","text-sm","flex","justify-between","items-center");const h=document.createElement("div");h.classList.add("flex-grow"),h.textContent=i.text,l.appendChild(h);const d=document.createElement("div");d.classList.add("flex","flex-col","items-end","ml-2","text-xs");const m=document.createElement("div");a.forEach((y,_)=>{const T=document.createElement("a");T.href="https://www.levinecentral.com/ham/grid_square.php?&Grid=".concat(y,"&Zoom=13&sm=y"),T.classList.add("text-yellow-300","hover:underline"),T.textContent=y,T.target="_blank",_>0&&m.appendChild(document.createTextNode(", ")),m.appendChild(T)}),d.appendChild(m);const g=document.createElement("div");g.textContent="".concat(c.toFixed(2)," km"),d.appendChild(g),l.appendChild(d),r.appendChild(l)}}setTimeout(()=>{r.scrollTop=r.scrollHeight},500)}}playAudio(t){if(this.mute||this.squelchMute&&this.squelch||this.audioCtx.state!=="running")return;this.isCollecting&&this.decodeFT8&&this.accumulator.push(...t);const n=this.playPCM(t,this.playTime,this.audioOutputSps,1);this.playTime-this.audioCtx.currentTime<=n?(this.playTime=this.audioCtx.currentTime+(this.d+4*this.v)/1e3,console.log("underrun")):this.playTime-this.audioCtx.currentTime>2&&(this.playTime=this.audioCtx.currentTime+(this.d+4*this.v)/1e3,console.log("overrun"))}playPCM(t,n,r,o){if(!this.audioInputNode)return;const i=new wf(this.audioCtx),a=new Ac({length:t.length,numberOfChannels:1,sampleRate:this.audioOutputSps});return a.copyToChannel(t,0,0),i.buffer=a,i.start(n),this.playTime+=a.duration,i.connect(this.audioInputNode),a.duration}}var Ow={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]};function Iw(e,t,n){return e*(1-n)+t*n}var Fw=Iw,If=Ow,ks=Fw,Rw=Pw;function Pw(e){var t,n,r,o,i,a,s,c,m,l,h;if(e||(e={}),c=(e.nshades||72)-1,s=e.format||"hex",a=e.colormap,a||(a="jet"),typeof a=="string"){if(a=a.toLowerCase(),!If[a])throw Error(a+" not a supported colorscale");i=If[a]}else if(Array.isArray(a))i=a.slice();else throw Error("unsupported colormap option",a);if(i.length>c+1)throw new Error(a+" map requires nshades to be at least size "+i.length);Array.isArray(e.alpha)?e.alpha.length!==2?l=[1,1]:l=e.alpha.slice():typeof e.alpha=="number"?l=[e.alpha,e.alpha]:l=[1,1],t=i.map(function(_){return Math.round(_.index*c)}),l[0]=Math.min(Math.max(l[0],0),1),l[1]=Math.min(Math.max(l[1],0),1);var d=i.map(function(_,T){var O=i[T].index,C=i[T].rgb.slice();return C.length===4&&C[3]>=0&&C[3]<=1||(C[3]=l[0]+(l[1]-l[0])*O),C}),m=[];for(h=0;h<t.length-1;++h){o=t[h+1]-t[h],n=d[h],r=d[h+1];for(var g=0;g<o;g++){var y=g/o;m.push([Math.round(ks(n[0],r[0],y)),Math.round(ks(n[1],r[1],y)),Math.round(ks(n[2],r[2],y)),ks(n[3],r[3],y)])}}return m.push(i[i.length-1].rgb.concat(l[1])),s==="hex"?m=m.map(Nw):s==="rgbaString"?m=m.map(Lw):s==="float"&&(m=m.map(Dw)),m}function Dw(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function Nw(e){for(var t,n="#",r=0;r<3;++r)t=e[r],t=t.toString(16),n+=("00"+t).substr(t.length);return n}function Lw(e){return"rgba("+e.join(",")+")"}const jw=so(Rw),Uw=[[.18995,.07176,.23217],[.19483,.08339,.26149],[.19956,.09498,.29024],[.20415,.10652,.31844],[.2086,.11802,.34607],[.21291,.12947,.37314],[.21708,.14087,.39964],[.22111,.15223,.42558],[.225,.16354,.45096],[.22875,.17481,.47578],[.23236,.18603,.50004],[.23582,.1972,.52373],[.23915,.20833,.54686],[.24234,.21941,.56942],[.24539,.23044,.59142],[.2483,.24143,.61286],[.25107,.25237,.63374],[.25369,.26327,.65406],[.25618,.27412,.67381],[.25853,.28492,.693],[.26074,.29568,.71162],[.2628,.30639,.72968],[.26473,.31706,.74718],[.26652,.32768,.76412],[.26816,.33825,.7805],[.26967,.34878,.79631],[.27103,.35926,.81156],[.27226,.3697,.82624],[.27334,.38008,.84037],[.27429,.39043,.85393],[.27509,.40072,.86692],[.27576,.41097,.87936],[.27628,.42118,.89123],[.27667,.43134,.90254],[.27691,.44145,.91328],[.27701,.45152,.92347],[.27698,.46153,.93309],[.2768,.47151,.94214],[.27648,.48144,.95064],[.27603,.49132,.95857],[.27543,.50115,.96594],[.27469,.51094,.97275],[.27381,.52069,.97899],[.27273,.5304,.98461],[.27106,.54015,.9893],[.26878,.54995,.99303],[.26592,.55979,.99583],[.26252,.56967,.99773],[.25862,.57958,.99876],[.25425,.5895,.99896],[.24946,.59943,.99835],[.24427,.60937,.99697],[.23874,.61931,.99485],[.23288,.62923,.99202],[.22676,.63913,.98851],[.22039,.64901,.98436],[.21382,.65886,.97959],[.20708,.66866,.97423],[.20021,.67842,.96833],[.19326,.68812,.9619],[.18625,.69775,.95498],[.17923,.70732,.94761],[.17223,.7168,.93981],[.16529,.7262,.93161],[.15844,.73551,.92305],[.15173,.74472,.91416],[.14519,.75381,.90496],[.13886,.76279,.8955],[.13278,.77165,.8858],[.12698,.78037,.8759],[.12151,.78896,.86581],[.11639,.7974,.85559],[.11167,.80569,.84525],[.10738,.81381,.83484],[.10357,.82177,.82437],[.10026,.82955,.81389],[.0975,.83714,.80342],[.09532,.84455,.79299],[.09377,.85175,.78264],[.09287,.85875,.7724],[.09267,.86554,.7623],[.0932,.87211,.75237],[.09451,.87844,.74265],[.09662,.88454,.73316],[.09958,.8904,.72393],[.10342,.896,.715],[.10815,.90142,.70599],[.11374,.90673,.69651],[.12014,.91193,.6866],[.12733,.91701,.67627],[.13526,.92197,.66556],[.14391,.9268,.65448],[.15323,.93151,.64308],[.16319,.93609,.63137],[.17377,.94053,.61938],[.18491,.94484,.60713],[.19659,.94901,.59466],[.20877,.95304,.58199],[.22142,.95692,.56914],[.23449,.96065,.55614],[.24797,.96423,.54303],[.2618,.96765,.52981],[.27597,.97092,.51653],[.29042,.97403,.50321],[.30513,.97697,.48987],[.32006,.97974,.47654],[.33517,.98234,.46325],[.35043,.98477,.45002],[.36581,.98702,.43688],[.38127,.98909,.42386],[.39678,.99098,.41098],[.41229,.99268,.39826],[.42778,.99419,.38575],[.44321,.99551,.37345],[.45854,.99663,.3614],[.47375,.99755,.34963],[.48879,.99828,.33816],[.50362,.99879,.32701],[.51822,.9991,.31622],[.53255,.99919,.30581],[.54658,.99907,.29581],[.56026,.99873,.28623],[.57357,.99817,.27712],[.58646,.99739,.26849],[.59891,.99638,.26038],[.61088,.99514,.2528],[.62233,.99366,.24579],[.63323,.99195,.23937],[.64362,.98999,.23356],[.65394,.98775,.22835],[.66428,.98524,.2237],[.67462,.98246,.2196],[.68494,.97941,.21602],[.69525,.9761,.21294],[.70553,.97255,.21032],[.71577,.96875,.20815],[.72596,.9647,.2064],[.7361,.96043,.20504],[.74617,.95593,.20406],[.75617,.95121,.20343],[.76608,.94627,.20311],[.77591,.94113,.2031],[.78563,.93579,.20336],[.79524,.93025,.20386],[.80473,.92452,.20459],[.8141,.91861,.20552],[.82333,.91253,.20663],[.83241,.90627,.20788],[.84133,.89986,.20926],[.8501,.89328,.21074],[.85868,.88655,.2123],[.86709,.87968,.21391],[.8753,.87267,.21555],[.88331,.86553,.21719],[.89112,.85826,.2188],[.8987,.85087,.22038],[.90605,.84337,.22188],[.91317,.83576,.22328],[.92004,.82806,.22456],[.92666,.82025,.2257],[.93301,.81236,.22667],[.93909,.80439,.22744],[.94489,.79634,.228],[.95039,.78823,.22831],[.9556,.78005,.22836],[.96049,.77181,.22811],[.96507,.76352,.22754],[.96931,.75519,.22663],[.97323,.74682,.22536],[.97679,.73842,.22369],[.98,.73,.22161],[.98289,.7214,.21918],[.98549,.7125,.2165],[.98781,.7033,.21358],[.98986,.69382,.21043],[.99163,.68408,.20706],[.99314,.67408,.20348],[.99438,.66386,.19971],[.99535,.65341,.19577],[.99607,.64277,.19165],[.99654,.63193,.18738],[.99675,.62093,.18297],[.99672,.60977,.17842],[.99644,.59846,.17376],[.99593,.58703,.16899],[.99517,.57549,.16412],[.99419,.56386,.15918],[.99297,.55214,.15417],[.99153,.54036,.1491],[.98987,.52854,.14398],[.98799,.51667,.13883],[.9859,.50479,.13367],[.9836,.49291,.12849],[.98108,.48104,.12332],[.97837,.4692,.11817],[.97545,.4574,.11305],[.97234,.44565,.10797],[.96904,.43399,.10294],[.96555,.42241,.09798],[.96187,.41093,.0931],[.95801,.39958,.08831],[.95398,.38836,.08362],[.94977,.37729,.07905],[.94538,.36638,.07461],[.94084,.35566,.07031],[.93612,.34513,.06616],[.93125,.33482,.06218],[.92623,.32473,.05837],[.92105,.31489,.05475],[.91572,.3053,.05134],[.91024,.29599,.04814],[.90463,.28696,.04516],[.89888,.27824,.04243],[.89298,.26981,.03993],[.88691,.26152,.03753],[.88066,.25334,.03521],[.87422,.24526,.03297],[.8676,.2373,.03082],[.86079,.22945,.02875],[.8538,.2217,.02677],[.84662,.21407,.02487],[.83926,.20654,.02305],[.83172,.19912,.02131],[.82399,.19182,.01966],[.81608,.18462,.01809],[.80799,.17753,.0166],[.79971,.17055,.0152],[.79125,.16368,.01387],[.7826,.15693,.01264],[.77377,.15028,.01148],[.76476,.14374,.01041],[.75556,.13731,.00942],[.74617,.13098,.00851],[.73661,.12477,.00769],[.72686,.11867,.00695],[.71692,.11268,.00629],[.7068,.1068,.00571],[.6965,.10102,.00522],[.68602,.09536,.00481],[.67535,.0898,.00449],[.66449,.08436,.00424],[.65345,.07902,.00408],[.64223,.0738,.00401],[.63082,.06868,.00401],[.61923,.06367,.0041],[.60746,.05878,.00427],[.5955,.05399,.00453],[.58336,.04931,.00486],[.57103,.04474,.00529],[.55852,.04028,.00579],[.54583,.03593,.00638],[.53295,.03169,.00705],[.51989,.02756,.0078],[.50664,.02354,.00863],[.49321,.01963,.00955],[.4796,.01583,.01055]],Bw=[[0,0,0],[0,0,.007843],[0,0,.015686],[0,0,.023529],[0,0,.031373],[0,0,.039216],[0,0,.047059],[0,0,.054902],[0,0,.062745],[0,0,.070588],[0,0,.078431],[0,0,.086275],[0,0,.094118],[0,0,.101961],[0,0,.109804],[0,0,.117647],[0,0,.12549],[0,0,.133333],[0,0,.141176],[0,0,.14902],[0,0,.156863],[0,0,.164706],[0,0,.172549],[0,0,.180392],[0,0,.188235],[0,0,.196078],[0,0,.203922],[0,0,.211765],[0,0,.219608],[0,0,.227451],[0,0,.235294],[0,0,.243137],[0,0,.25098],[0,0,.258824],[0,0,.266667],[0,0,.27451],[0,0,.282353],[0,0,.290196],[0,0,.298039],[0,0,.305882],[0,0,.313725],[0,0,.321569],[0,0,.329412],[0,0,.337255],[0,0,.345098],[0,0,.352941],[0,0,.360784],[0,0,.368627],[0,0,.376471],[0,0,.384314],[0,0,.392157],[0,0,.4],[0,0,.407843],[0,0,.415686],[0,0,.423529],[0,0,.431373],[0,0,.439216],[0,0,.447059],[0,0,.454902],[0,0,.462745],[0,0,.470588],[0,0,.478431],[0,0,.486275],[0,0,.494118],[0,0,.501961],[.011765,0,.509804],[.023529,0,.517647],[.035294,0,.52549],[.047059,0,.533333],[.058824,0,.541176],[.070588,0,.54902],[.082353,0,.556863],[.094118,0,.564706],[.105882,0,.572549],[.117647,0,.580392],[.129412,0,.588235],[.141176,0,.596078],[.152941,0,.603922],[.164706,0,.611765],[.176471,0,.619608],[.188235,0,.627451],[.2,0,.635294],[.211765,0,.643137],[.223529,0,.65098],[.235294,0,.658824],[.247059,0,.666667],[.258824,0,.67451],[.270588,0,.682353],[.282353,0,.690196],[.294118,0,.698039],[.305882,0,.705882],[.317647,0,.713725],[.329412,0,.721569],[.341176,0,.729412],[.352941,0,.737255],[.364706,0,.745098],[.376471,0,.752941],[.388235,0,.760784],[.4,0,.768627],[.411765,0,.776471],[.423529,0,.784314],[.435294,0,.792157],[.447059,0,.8],[.458824,0,.807843],[.470588,0,.815686],[.482353,0,.823529],[.494118,0,.831373],[.505882,0,.839216],[.517647,0,.847059],[.529412,0,.854902],[.541176,0,.862745],[.552941,0,.870588],[.564706,0,.878431],[.576471,0,.886275],[.588235,0,.894118],[.6,0,.901961],[.611765,0,.909804],[.623529,0,.917647],[.635294,0,.92549],[.647059,0,.933333],[.658824,0,.941176],[.670588,0,.94902],[.682353,0,.956863],[.694118,0,.964706],[.705882,0,.972549],[.717647,0,.980392],[.729412,0,.988235],[.741176,0,.996078],[.752941,0,1],[.756863,.12549,.992157],[.760784,.176471,.984314],[.764706,.215686,.976471],[.768627,.25098,.968627],[.772549,.278431,.960784],[.776471,.305882,.952941],[.780392,.329412,.945098],[.784314,.352941,.937255],[.788235,.376471,.929412],[.792157,.396078,.921569],[.796078,.415686,.913725],[.8,.431373,.905882],[.803922,.45098,.898039],[.807843,.466667,.890196],[.811765,.482353,.882353],[.815686,.501961,.87451],[.819608,.513725,.866667],[.823529,.529412,.858824],[.827451,.545098,.85098],[.831373,.560784,.843137],[.835294,.572549,.835294],[.839216,.588235,.827451],[.843137,.6,.819608],[.847059,.611765,.811765],[.85098,.627451,.803922],[.854902,.639216,.796078],[.858824,.65098,.788235],[.862745,.662745,.780392],[.866667,.67451,.772549],[.870588,.686275,.764706],[.87451,.698039,.756863],[.878431,.709804,.74902],[.882353,.717647,.741176],[.886275,.729412,.733333],[.890196,.741176,.72549],[.894118,.752941,.717647],[.898039,.760784,.709804],[.901961,.772549,.701961],[.905882,.780392,.694118],[.909804,.792157,.686275],[.913725,.8,.678431],[.917647,.811765,.670588],[.921569,.819608,.662745],[.92549,.831373,.654902],[.929412,.839216,.647059],[.933333,.85098,.639216],[.937255,.858824,.631373],[.941176,.866667,.623529],[.945098,.878431,.615686],[.94902,.886275,.607843],[.952941,.894118,.6],[.956863,.901961,.592157],[.960784,.909804,.584314],[.964706,.921569,.576471],[.968627,.929412,.568627],[.972549,.937255,.560784],[.976471,.945098,.552941],[.980392,.952941,.545098],[.984314,.960784,.537255],[.988235,.968627,.529412],[.992157,.976471,.521569],[.996078,.984314,.513725],[1,.992157,.505882],[1,1,.501961],[1,1,.509804],[1,1,.517647],[1,1,.52549],[1,1,.533333],[1,1,.541176],[1,1,.54902],[1,1,.556863],[1,1,.564706],[1,1,.572549],[1,1,.580392],[1,1,.588235],[1,1,.596078],[1,1,.603922],[1,1,.611765],[1,1,.619608],[1,1,.627451],[1,1,.635294],[1,1,.643137],[1,1,.65098],[1,1,.658824],[1,1,.666667],[1,1,.67451],[1,1,.682353],[1,1,.690196],[1,1,.698039],[1,1,.705882],[1,1,.713725],[1,1,.721569],[1,1,.729412],[1,1,.737255],[1,1,.745098],[1,1,.752941],[1,1,.760784],[1,1,.768627],[1,1,.776471],[1,1,.784314],[1,1,.792157],[1,1,.8],[1,1,.807843],[1,1,.815686],[1,1,.823529],[1,1,.831373],[1,1,.839216],[1,1,.847059],[1,1,.854902],[1,1,.862745],[1,1,.870588],[1,1,.878431],[1,1,.886275],[1,1,.894118],[1,1,.901961],[1,1,.909804],[1,1,.917647],[1,1,.92549],[1,1,.933333],[1,1,.941176],[1,1,.94902],[1,1,.956863],[1,1,.964706],[1,1,.972549],[1,1,.980392],[1,1,.988235],[1,1,.996078]],Ww=[[0,.00392,.12157],[0,.00392,.12411],[0,.00392,.12664],[0,.00392,.12918],[0,.00392,.13172],[0,.00392,.13426],[0,.00392,.13679],[0,.00392,.13933],[0,.00392,.14187],[0,.00392,.14441],[0,.00392,.14694],[0,.00392,.14948],[0,.00392,.15202],[0,.00392,.15456],[0,.00392,.15709],[0,.00392,.15963],[0,.00392,.16217],[0,.00392,.16471],[0,.00392,.16724],[0,.00392,.16978],[0,.00392,.17232],[0,.00392,.17486],[0,.00392,.17739],[0,.00392,.17993],[14e-5,.00406,.18108],[31e-5,.00423,.18193],[48e-5,.0044,.18278],[65e-5,.00457,.18362],[82e-5,.00474,.18447],[98e-5,.00491,.18531],[.00115,.00507,.18616],[.00132,.00524,.187],[.00149,.00541,.18785],[.00166,.00558,.1887],[.00183,.00575,.18954],[.002,.00592,.19039],[.00217,.00609,.19123],[.00234,.00626,.19208],[.00251,.00643,.19293],[.00268,.0066,.19377],[.00285,.00677,.19462],[.00301,.00694,.19546],[.00318,.0071,.19631],[.00335,.00727,.19715],[.00352,.00744,.198],[.00369,.00761,.19885],[.00386,.00778,.19969],[.00392,.00784,.20161],[.00392,.00784,.20415],[.00392,.00784,.20669],[.00392,.00784,.20923],[.00392,.00784,.21176],[.00392,.00784,.2143],[.00392,.00784,.21684],[.00392,.00784,.21938],[.00392,.00784,.22191],[.00392,.00784,.22445],[.00392,.00784,.22699],[.00392,.00784,.22953],[.00392,.00784,.23206],[.00392,.00784,.2346],[.00392,.00784,.23714],[.00392,.00784,.23968],[.00392,.00784,.24221],[.00392,.00784,.24475],[.00392,.00784,.24729],[.00392,.00784,.24983],[.00392,.00784,.25236],[.00392,.00784,.2549],[.00392,.00784,.25744],[.00384,.00784,.25982],[.00368,.00784,.26202],[.00351,.00784,.26422],[.00334,.00784,.26642],[.00317,.00784,.26862],[.003,.00784,.27082],[.00283,.00784,.27302],[.00266,.00784,.27522],[.00249,.00784,.27742],[.00232,.00784,.27962],[.00215,.00784,.28181],[.00198,.00784,.28401],[.00181,.00784,.28621],[.00165,.00784,.28841],[.00148,.00784,.29061],[.00131,.00784,.29281],[.00114,.00784,.29501],[97e-5,.00784,.29721],[8e-4,.00784,.29941],[63e-5,.00784,.30161],[46e-5,.00784,.30381],[29e-5,.00784,.30601],[12e-5,.00784,.3082],[14e-5,.00798,.31003],[65e-5,.00849,.31088],[.00115,.009,.31173],[.00166,.0095,.31257],[.00217,.01001,.31342],[.00268,.01052,.31426],[.00318,.01103,.31511],[.00369,.01153,.31596],[.0042,.01204,.3168],[.00471,.01255,.31765],[.00521,.01306,.31849],[.00572,.01356,.31934],[.00623,.01407,.32018],[.00674,.01458,.32103],[.00724,.01509,.32188],[.00775,.01559,.32272],[.00826,.0161,.32357],[.00877,.01661,.32441],[.00927,.01712,.32526],[.00978,.01762,.32611],[.01029,.01813,.32695],[.0108,.01864,.3278],[.0113,.01915,.32864],[.01173,.01958,.32964],[.0114,.01924,.33218],[.01106,.0189,.33472],[.01072,.01856,.33725],[.01038,.01822,.33979],[.01004,.01789,.34233],[.0097,.01755,.34487],[.00937,.01721,.3474],[.00903,.01687,.34994],[.00869,.01653,.35248],[.00835,.01619,.35502],[.00801,.01586,.35755],[.00767,.01552,.36009],[.00734,.01518,.36263],[.007,.01484,.36517],[.00666,.0145,.3677],[.00632,.01416,.37024],[.00598,.01383,.37278],[.00564,.01349,.37532],[.00531,.01315,.37785],[.00497,.01281,.38039],[.00463,.01247,.38293],[.00429,.01213,.38547],[.00395,.0118,.388],[.00423,.03499,.41223],[.00457,.06053,.43862],[.00491,.08607,.46501],[.00524,.11162,.4914],[.00558,.13716,.51779],[.00592,.16271,.54418],[.00626,.18825,.57057],[.0066,.21379,.59696],[.00694,.23934,.62334],[.00727,.26488,.64973],[.00761,.29043,.67612],[.00795,.31597,.70251],[.00829,.34151,.7289],[.00863,.36706,.75529],[.00897,.3926,.78168],[.0093,.41815,.80807],[.00964,.44369,.83446],[.00998,.46923,.86085],[.01032,.49478,.88724],[.01066,.52032,.91363],[.011,.54587,.94002],[.01133,.57141,.96641],[.01167,.59696,.9928],[.01915,.60417,.99717],[.0293,.60451,.99328],[.03945,.60484,.98939],[.0496,.60518,.9855],[.05975,.60552,.98161],[.0699,.60586,.97772],[.08005,.6062,.97383],[.0902,.60654,.96993],[.10035,.60687,.96604],[.1105,.60721,.96215],[.12065,.60755,.95826],[.1308,.60789,.95437],[.14095,.60823,.95048],[.1511,.60857,.94659],[.16125,.6089,.9427],[.1714,.60924,.93881],[.18155,.60958,.93492],[.1917,.60992,.93103],[.20185,.61026,.92714],[.212,.6106,.92324],[.22215,.61093,.91935],[.2323,.61127,.91546],[.24245,.61161,.91157],[.26321,.62016,.8943],[.29281,.63556,.86588],[.32241,.65095,.83746],[.35202,.66634,.80904],[.38162,.68174,.78062],[.41123,.69713,.7522],[.44083,.71253,.72378],[.47043,.72792,.69536],[.50004,.74331,.66694],[.52964,.75871,.63852],[.55925,.7741,.6101],[.58885,.7895,.58168],[.61845,.80489,.55326],[.64806,.82028,.52484],[.67766,.83568,.49642],[.70727,.85107,.468],[.73687,.86647,.43958],[.76647,.88186,.41116],[.79608,.89725,.38275],[.82568,.91265,.35433],[.85529,.92804,.32591],[.88489,.94344,.29749],[.91449,.95883,.26907],[.9337,.96894,.25276],[.93472,.96978,.25767],[.93573,.97063,.26258],[.93675,.97147,.26748],[.93776,.97232,.27239],[.93878,.97316,.27729],[.93979,.97401,.2822],[.94081,.97486,.2871],[.94182,.9757,.29201],[.94284,.97655,.29692],[.94385,.97739,.30182],[.94487,.97824,.30673],[.94588,.97908,.31163],[.9469,.97993,.31654],[.94791,.98078,.32145],[.94893,.98162,.32635],[.94994,.98247,.33126],[.95096,.98331,.33616],[.95197,.98416,.34107],[.95299,.98501,.34597],[.954,.98585,.35088],[.95502,.9867,.35579],[.95603,.98754,.36069],[.95699,.98833,.3656],[.95766,.98884,.3705],[.95834,.98934,.37541],[.95902,.98985,.38032],[.95969,.99036,.38522],[.96037,.99087,.39013],[.96105,.99137,.39503],[.96172,.99188,.39994],[.9624,.99239,.40484],[.96308,.9929,.40975],[.96375,.9934,.41466],[.96443,.99391,.41956],[.96511,.99442,.42447],[.96578,.99493,.42937],[.96646,.99543,.43428],[.96714,.99594,.43918],[.96781,.99645,.44409],[.96849,.99696,.449],[.96917,.99746,.4539],[.96984,.99797,.45881],[.97052,.99848,.46371],[.9712,.99899,.46862],[.97187,.99949,.47353],[.97255,1,.47843]],Mr=[];for(let e=0;e<256;e++)e<20?Mr.push([0,0,0]):e>=20&&e<70?Mr.push([0,0,140*(e-20)/50]):e>=70&&e<100?Mr.push([60*(e-70)/30,125*(e-70)/30,115*(e-70)/30+140]):e>=100&&e<150?Mr.push([195*(e-100)/50+60,130*(e-100)/50+125,255-255*(e-100)/50]):e>=150&&e<250?Mr.push([255,255-255*(e-150)/100,0]):e>=250&&Mr.push([255,255*(e-250)/5,255*(e-250)/5]),Mr[e]=Mr[e].map(t=>t/255);const oi=[];for(let e=0;e<256;e++){if(e<105){const t=13*e/105,n=0,r=134*e/105;oi.push([t,n,r])}else if(e<192){const t=98+157*(e-96)/63,n=0+254*(e-96)/63,r=176+19*(e-96)/63;oi.push([t,n,r])}else oi.push([255,254,195]);oi[e]=oi[e].map(t=>t/255)}const Ff={turbo:Uw,gqrx:Mr,twente:oi,twentev2:Bw,PhantomPlus:Ww},$w=["turbo","gqrx","twente","twentev2","PhantomPlus"];function Rf(e){return e.map(t=>{const n=new Uint8ClampedArray(4);return t.length<4&&(t=[...t,255]),n.set(t.map(r=>Math.round(r*255))),n})}function Pf(e){let t;return e in Ff?t=Ff[e]:t=jw({colormap:e,nshades:256,format:"float",alpha:1}),t}var sa=function(e){return e&&e.Math===Math&&e},_t=sa(typeof globalThis=="object"&&globalThis)||sa(typeof window=="object"&&window)||sa(typeof self=="object"&&self)||sa(typeof qo=="object"&&qo)||sa(typeof qo=="object"&&qo)||function(){return this}()||Function("return this")(),Tc={},Cr=function(e){try{return!!e()}catch(t){return!0}},zw=Cr,yo=!zw(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),qw=Cr,Os=!qw(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Hw=Os,Is=Function.prototype.call,Ec=Hw?Is.bind(Is):function(){return Is.apply(Is,arguments)},Df={},Nf={}.propertyIsEnumerable,Lf=Object.getOwnPropertyDescriptor,Vw=Lf&&!Nf.call({1:2},1);Df.f=Vw?function(e){var t=Lf(this,e);return!!t&&t.enumerable}:Nf;var jf=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},Uf=Os,Bf=Function.prototype,kc=Bf.call,Gw=Uf&&Bf.bind.bind(kc,kc),Dn=Uf?Gw:function(e){return function(){return kc.apply(e,arguments)}},Wf=Dn,Yw=Wf({}.toString),Xw=Wf("".slice),Oc=function(e){return Xw(Yw(e),8,-1)},Kw=Dn,Jw=Cr,Qw=Oc,Ic=Object,Zw=Kw("".split),e5=Jw(function(){return!Ic("z").propertyIsEnumerable(0)})?function(e){return Qw(e)==="String"?Zw(e,""):Ic(e)}:Ic,$f=function(e){return e==null},t5=$f,n5=TypeError,zf=function(e){if(t5(e))throw new n5("Can't call method on "+e);return e},r5=e5,o5=zf,Fc=function(e){return r5(o5(e))},Rc=typeof document=="object"&&document.all,_n=typeof Rc>"u"&&Rc!==void 0?function(e){return typeof e=="function"||e===Rc}:function(e){return typeof e=="function"},i5=_n,la=function(e){return typeof e=="object"?e!==null:i5(e)},Pc=_t,a5=_n,s5=function(e){return a5(e)?e:void 0},Dc=function(e,t){return arguments.length<2?s5(Pc[e]):Pc[e]&&Pc[e][t]},l5=Dn,c5=l5({}.isPrototypeOf),u5=_t,qf=u5.navigator,Hf=qf&&qf.userAgent,Fs=Hf?String(Hf):"",Vf=_t,Nc=Fs,Gf=Vf.process,Yf=Vf.Deno,Xf=Gf&&Gf.versions||Yf&&Yf.version,Kf=Xf&&Xf.v8,Nn,Rs;Kf&&(Nn=Kf.split("."),Rs=Nn[0]>0&&Nn[0]<4?1:+(Nn[0]+Nn[1])),!Rs&&Nc&&(Nn=Nc.match(/Edge\/(\d+)/),(!Nn||Nn[1]>=74)&&(Nn=Nc.match(/Chrome\/(\d+)/),Nn&&(Rs=+Nn[1])));var d5=Rs,Jf=d5,h5=Cr,f5=_t,p5=f5.String,Qf=!!Object.getOwnPropertySymbols&&!h5(function(){var e=Symbol("symbol detection");return!p5(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Jf&&Jf<41}),m5=Qf,Zf=m5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",g5=Dc,y5=_n,v5=c5,b5=Zf,w5=Object,e0=b5?function(e){return typeof e=="symbol"}:function(e){var t=g5("Symbol");return y5(t)&&v5(t.prototype,w5(e))},x5=String,_5=function(e){try{return x5(e)}catch(t){return"Object"}},S5=_n,M5=_5,C5=TypeError,t0=function(e){if(S5(e))return e;throw new C5(M5(e)+" is not a function")},A5=t0,T5=$f,E5=function(e,t){var n=e[t];return T5(n)?void 0:A5(n)},Lc=Ec,jc=_n,Uc=la,k5=TypeError,O5=function(e,t){var n,r;if(t==="string"&&jc(n=e.toString)&&!Uc(r=Lc(n,e))||jc(n=e.valueOf)&&!Uc(r=Lc(n,e))||t!=="string"&&jc(n=e.toString)&&!Uc(r=Lc(n,e)))return r;throw new k5("Can't convert object to primitive value")},n0={exports:{}},r0=_t,I5=Object.defineProperty,Bc=function(e,t){try{I5(r0,e,{value:t,configurable:!0,writable:!0})}catch(n){r0[e]=t}return t},F5=_t,R5=Bc,o0="__core-js_shared__",i0=n0.exports=F5[o0]||R5(o0,{});(i0.versions||(i0.versions=[])).push({version:"3.38.0",mode:"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Wc=n0.exports,a0=Wc,s0=function(e,t){return a0[e]||(a0[e]=t||{})},P5=zf,D5=Object,N5=function(e){return D5(P5(e))},L5=Dn,j5=N5,U5=L5({}.hasOwnProperty),Nr=Object.hasOwn||function(e,t){return U5(j5(e),t)},B5=Dn,W5=0,$5=Math.random(),z5=B5(1 .toString),l0=function(e){return"Symbol("+(e===void 0?"":e)+")_"+z5(++W5+$5,36)},q5=_t,H5=s0,c0=Nr,V5=l0,G5=Qf,Y5=Zf,ii=q5.Symbol,$c=H5("wks"),X5=Y5?ii.for||ii:ii&&ii.withoutSetter||V5,K5=function(e){return c0($c,e)||($c[e]=G5&&c0(ii,e)?ii[e]:X5("Symbol."+e)),$c[e]},J5=Ec,u0=la,d0=e0,Q5=E5,Z5=O5,e3=K5,t3=TypeError,n3=e3("toPrimitive"),r3=function(e,t){if(!u0(e)||d0(e))return e;var n=Q5(e,n3),r;if(n){if(t===void 0&&(t="default"),r=J5(n,e,t),!u0(r)||d0(r))return r;throw new t3("Can't convert object to primitive value")}return t===void 0&&(t="number"),Z5(e,t)},o3=r3,i3=e0,h0=function(e){var t=o3(e,"string");return i3(t)?t:t+""},a3=_t,f0=la,zc=a3.document,s3=f0(zc)&&f0(zc.createElement),p0=function(e){return s3?zc.createElement(e):{}},l3=yo,c3=Cr,u3=p0,m0=!l3&&!c3(function(){return Object.defineProperty(u3("div"),"a",{get:function(){return 7}}).a!==7}),d3=yo,h3=Ec,f3=Df,p3=jf,g3=Fc,y3=h0,v3=Nr,b3=m0,g0=Object.getOwnPropertyDescriptor;Tc.f=d3?g0:function(e,t){if(e=g3(e),t=y3(t),b3)try{return g0(e,t)}catch(n){}if(v3(e,t))return p3(!h3(f3.f,e,t),e[t])};var Ps={},w3=yo,x3=Cr,_3=w3&&x3(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),S3=la,M3=String,C3=TypeError,y0=function(e){if(S3(e))return e;throw new C3(M3(e)+" is not an object")},A3=yo,T3=m0,E3=_3,Ds=y0,v0=h0,k3=TypeError,qc=Object.defineProperty,O3=Object.getOwnPropertyDescriptor,Hc="enumerable",Vc="configurable",Gc="writable";Ps.f=A3?E3?function(e,t,n){if(Ds(e),t=v0(t),Ds(n),typeof e=="function"&&t==="prototype"&&"value"in n&&Gc in n&&!n[Gc]){var r=O3(e,t);r&&r[Gc]&&(e[t]=n.value,n={configurable:Vc in n?n[Vc]:r[Vc],enumerable:Hc in n?n[Hc]:r[Hc],writable:!1})}return qc(e,t,n)}:qc:function(e,t,n){if(Ds(e),t=v0(t),Ds(n),T3)try{return qc(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new k3("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var I3=yo,F3=Ps,R3=jf,b0=I3?function(e,t,n){return F3.f(e,t,R3(1,n))}:function(e,t,n){return e[t]=n,e},w0={exports:{}},Yc=yo,P3=Nr,x0=Function.prototype,D3=Yc&&Object.getOwnPropertyDescriptor,Xc=P3(x0,"name"),N3=Xc&&(function(){}).name==="something",L3=Xc&&(!Yc||Yc&&D3(x0,"name").configurable),j3={EXISTS:Xc,PROPER:N3,CONFIGURABLE:L3},U3=Dn,B3=_n,Kc=Wc,W3=U3(Function.toString);B3(Kc.inspectSource)||(Kc.inspectSource=function(e){return W3(e)});var $3=Kc.inspectSource,z3=_t,q3=_n,_0=z3.WeakMap,H3=q3(_0)&&/native code/.test(String(_0)),V3=s0,G3=l0,S0=V3("keys"),Y3=function(e){return S0[e]||(S0[e]=G3(e))},M0={},X3=H3,C0=_t,K3=la,J3=b0,Jc=Nr,Qc=Wc,Q3=Y3,Z3=M0,A0="Object already initialized",Zc=C0.TypeError,e4=C0.WeakMap,Ns,ca,Ls,t4=function(e){return Ls(e)?ca(e):Ns(e,{})},n4=function(e){return function(t){var n;if(!K3(t)||(n=ca(t)).type!==e)throw new Zc("Incompatible receiver, "+e+" required");return n}};if(X3||Qc.state){var Qn=Qc.state||(Qc.state=new e4);Qn.get=Qn.get,Qn.has=Qn.has,Qn.set=Qn.set,Ns=function(e,t){if(Qn.has(e))throw new Zc(A0);return t.facade=e,Qn.set(e,t),t},ca=function(e){return Qn.get(e)||{}},Ls=function(e){return Qn.has(e)}}else{var ai=Q3("state");Z3[ai]=!0,Ns=function(e,t){if(Jc(e,ai))throw new Zc(A0);return t.facade=e,J3(e,ai,t),t},ca=function(e){return Jc(e,ai)?e[ai]:{}},Ls=function(e){return Jc(e,ai)}}var r4={set:Ns,get:ca,has:Ls,enforce:t4,getterFor:n4},eu=Dn,o4=Cr,i4=_n,js=Nr,tu=yo,a4=j3.CONFIGURABLE,s4=$3,T0=r4,l4=T0.enforce,c4=T0.get,E0=String,Us=Object.defineProperty,u4=eu("".slice),d4=eu("".replace),h4=eu([].join),f4=tu&&!o4(function(){return Us(function(){},"length",{value:8}).length!==8}),p4=String(String).split("String"),g4=w0.exports=function(e,t,n){u4(E0(t),0,7)==="Symbol("&&(t="["+d4(E0(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!js(e,"name")||a4&&e.name!==t)&&(tu?Us(e,"name",{value:t,configurable:!0}):e.name=t),f4&&n&&js(n,"arity")&&e.length!==n.arity&&Us(e,"length",{value:n.arity});try{n&&js(n,"constructor")&&n.constructor?tu&&Us(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=l4(e);return js(r,"source")||(r.source=h4(p4,typeof t=="string"?t:"")),e};Function.prototype.toString=g4(function(){return i4(this)&&c4(this).source||s4(this)},"toString");var y4=w0.exports,v4=_n,b4=Ps,w4=y4,x4=Bc,_4=function(e,t,n,r){r||(r={});var o=r.enumerable,i=r.name!==void 0?r.name:t;if(v4(n)&&w4(n,i,r),r.global)o?e[t]=n:x4(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(a){}o?e[t]=n:b4.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},k0={},S4=Math.ceil,M4=Math.floor,C4=Math.trunc||function(e){var t=+e;return(t>0?M4:S4)(t)},A4=C4,O0=function(e){var t=+e;return t!==t||t===0?0:A4(t)},T4=O0,E4=Math.max,k4=Math.min,O4=function(e,t){var n=T4(e);return n<0?E4(n+t,0):k4(n,t)},I4=O0,F4=Math.min,R4=function(e){var t=I4(e);return t>0?F4(t,9007199254740991):0},P4=R4,D4=function(e){return P4(e.length)},N4=Fc,L4=O4,j4=D4,I0=function(e){return function(t,n,r){var o=N4(t),i=j4(o);if(i===0)return!e&&-1;var a=L4(r,i),s;if(e&&n!==n){for(;i>a;)if(s=o[a++],s!==s)return!0}else for(;i>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},U4={includes:I0(!0),indexOf:I0(!1)},B4=Dn,nu=Nr,W4=Fc,$4=U4.indexOf,z4=M0,F0=B4([].push),q4=function(e,t){var n=W4(e),r=0,o=[],i;for(i in n)!nu(z4,i)&&nu(n,i)&&F0(o,i);for(;t.length>r;)nu(n,i=t[r++])&&(~$4(o,i)||F0(o,i));return o},H4=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],V4=q4,G4=H4,Y4=G4.concat("length","prototype");k0.f=Object.getOwnPropertyNames||function(e){return V4(e,Y4)};var R0={};R0.f=Object.getOwnPropertySymbols;var X4=Dc,K4=Dn,J4=k0,Q4=R0,Z4=y0,e6=K4([].concat),t6=X4("Reflect","ownKeys")||function(e){var t=J4.f(Z4(e)),n=Q4.f;return n?e6(t,n(e)):t},P0=Nr,n6=t6,r6=Tc,o6=Ps,i6=function(e,t,n){for(var r=n6(t),o=o6.f,i=r6.f,a=0;a<r.length;a++){var s=r[a];!P0(e,s)&&!(n&&P0(n,s))&&o(e,s,i(t,s))}},a6=Cr,s6=_n,l6=/#|\.prototype\./,ua=function(e,t){var n=u6[c6(e)];return n===h6?!0:n===d6?!1:s6(t)?a6(t):!!t},c6=ua.normalize=function(e){return String(e).replace(l6,".").toLowerCase()},u6=ua.data={},d6=ua.NATIVE="N",h6=ua.POLYFILL="P",f6=ua,Bs=_t,p6=Tc.f,m6=b0,g6=_4,y6=Bc,v6=i6,b6=f6,D0=function(e,t){var n=e.target,r=e.global,o=e.stat,i,a,s,c,l,h;if(r?a=Bs:o?a=Bs[n]||y6(n,{}):a=Bs[n]&&Bs[n].prototype,a)for(s in t){if(l=t[s],e.dontCallGetSet?(h=p6(a,s),c=h&&h.value):c=a[s],i=b6(r?s:n+(o?".":"#")+s,e.forced),!i&&c!==void 0){if(typeof l==typeof c)continue;v6(l,c)}(e.sham||c&&c.sham)&&m6(l,"sham",!0),g6(a,s,l,e)}},w6=Os,N0=Function.prototype,L0=N0.apply,j0=N0.call,U0=typeof Reflect=="object"&&Reflect.apply||(w6?j0.bind(L0):function(){return j0.apply(L0,arguments)}),x6=Oc,_6=Dn,S6=function(e){if(x6(e)==="Function")return _6(e)},B0=S6,M6=t0,C6=Os,A6=B0(B0.bind),T6=function(e,t){return M6(e),t===void 0?e:C6?A6(e,t):function(){return e.apply(t,arguments)}},E6=Dc,k6=E6("document","documentElement"),O6=Dn,W0=O6([].slice),I6=TypeError,$0=function(e,t){if(e<t)throw new I6("Not enough arguments");return e},F6=Fs,R6=/(?:ipad|iphone|ipod).*applewebkit/i.test(F6),da=_t,P6=Fs,D6=Oc,Ws=function(e){return P6.slice(0,e.length)===e},z0=function(){return Ws("Bun/")?"BUN":Ws("Cloudflare-Workers")?"CLOUDFLARE":Ws("Deno/")?"DENO":Ws("Node.js/")?"NODE":da.Bun&&typeof Bun.version=="string"?"BUN":da.Deno&&typeof Deno.version=="object"?"DENO":D6(da.process)==="process"?"NODE":da.window&&da.document?"BROWSER":"REST"}(),N6=z0,L6=N6==="NODE",cn=_t,j6=U0,U6=T6,q0=_n,B6=Nr,H0=Cr,V0=k6,W6=W0,G0=p0,$6=$0,z6=R6,q6=L6,ru=cn.setImmediate,ou=cn.clearImmediate,H6=cn.process,iu=cn.Dispatch,V6=cn.Function,Y0=cn.MessageChannel,G6=cn.String,au=0,ha={},X0="onreadystatechange",fa,vo,su,lu;H0(function(){fa=cn.location});var cu=function(e){if(B6(ha,e)){var t=ha[e];delete ha[e],t()}},uu=function(e){return function(){cu(e)}},K0=function(e){cu(e.data)},J0=function(e){cn.postMessage(G6(e),fa.protocol+"//"+fa.host)};(!ru||!ou)&&(ru=function(e){$6(arguments.length,1);var t=q0(e)?e:V6(e),n=W6(arguments,1);return ha[++au]=function(){j6(t,void 0,n)},vo(au),au},ou=function(e){delete ha[e]},q6?vo=function(e){H6.nextTick(uu(e))}:iu&&iu.now?vo=function(e){iu.now(uu(e))}:Y0&&!z6?(su=new Y0,lu=su.port2,su.port1.onmessage=K0,vo=U6(lu.postMessage,lu)):cn.addEventListener&&q0(cn.postMessage)&&!cn.importScripts&&fa&&fa.protocol!=="file:"&&!H0(J0)?(vo=J0,cn.addEventListener("message",K0,!1)):X0 in G0("script")?vo=function(e){V0.appendChild(G0("script"))[X0]=function(){V0.removeChild(this),cu(e)}}:vo=function(e){setTimeout(uu(e),0)});var Q0={set:ru,clear:ou},Y6=D0,X6=_t,Z0=Q0.clear;Y6({global:!0,bind:!0,enumerable:!0,forced:X6.clearImmediate!==Z0},{clearImmediate:Z0});var ep=_t,K6=U0,J6=_n,Q6=z0,Z6=Fs,e8=W0,t8=$0,n8=ep.Function,r8=/MSIE .\./.test(Z6)||Q6==="BUN"&&function(){var e=ep.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}(),o8=function(e,t){var n=t?2:1;return r8?function(r,o){var i=t8(arguments.length,1)>n,a=J6(r)?r:n8(r),s=i?e8(arguments,n):[],c=i?function(){K6(a,this,s)}:a;return t?e(c,o):e(c)}:e},i8=D0,tp=_t,np=Q0.set,a8=o8,rp=tp.setImmediate?a8(np,!1):np;i8({global:!0,bind:!0,enumerable:!0,forced:tp.setImmediate!==rp},{setImmediate:rp});var s8=_t,op=s8,l8=op;l8.setImmediate;var c8=op;c8.clearImmediate;class u8{constructor(t,n){this.endpoint=t,this.autoAdjust=!1,this.adjustmentBuffer=[],this.bufferSize=50,this.dampeningFactor=.1,this.spectrum=!0,this.waterfall=!1,this.waterfallQueue=new sc(10),this.drawnWaterfallQueue=new sc(4096),this.lagTime=0,this.spectrumAlpha=.5,this.spectrumFiltered=[[-1,-1],[0]],this.waterfallColourShift=130,this.minWaterfall=-30,this.maxWaterfall=110,this.colormap=[],this.setColormap("gqrx"),this.clients={},this.clientColormap=Rf(Pf("rainbow")),this.updateTimeout=setTimeout(()=>{},0),this.lineResets=0,this.wfheight=200*window.devicePixelRatio,this.bands=[{name:"2200M HAM",startFreq:135700,endFreq:137800,color:"rgba(50, 168, 72, 0.3)"},{name:"630M HAM",startFreq:472e3,endFreq:479e3,color:"rgba(50, 168, 72, 0.3)"},{name:"600M HAM",startFreq:501e3,endFreq:504e3,color:"rgba(50, 168, 72, 0.3)"},{name:"160M HAM",startFreq:181e4,endFreq:2e6,color:"rgba(50, 168, 72, 0.3)"},{name:"80M HAM",startFreq:35e5,endFreq:39e5,color:"rgba(50, 168, 72, 0.3)"},{name:"60M HAM",startFreq:5351500,endFreq:5366500,color:"rgba(50, 168, 72, 0.3)"},{name:"49M AM",startFreq:59e5,endFreq:62e5,color:"rgba(199, 12, 193, 0.3)"},{name:"40M HAM",startFreq:7e6,endFreq:72e5,color:"rgba(50, 78, 168, 0.3)"},{name:"41M AM",startFreq:72e5,endFreq:745e4,color:"rgba(199, 12, 193, 0.3)"},{name:"31M AM",startFreq:94e5,endFreq:99e5,color:"rgba(199, 12, 193, 0.3)"},{name:"30M HAM",startFreq:101e5,endFreq:1015e4,color:"rgba(199, 49, 12, 0.3)"},{name:"25M AM",startFreq:116e5,endFreq:121e5,color:"rgba(199, 12, 193, 0.3)"},{name:"22M AM",startFreq:1357e4,endFreq:1387e4,color:"rgba(199, 12, 193, 0.3)"},{name:"20M HAM",startFreq:14e6,endFreq:1435e4,color:"rgba(255, 0, 0, 0.3)"},{name:"19M AM",startFreq:151e5,endFreq:158e5,color:"rgba(199, 12, 193, 0.3)"},{name:"16M AM",startFreq:1748e4,endFreq:179e5,color:"rgba(199, 12, 193, 0.3)"},{name:"17M AM",startFreq:18068e3,endFreq:18168e3,color:"rgba(199, 12, 193, 0.3)"},{name:"15M AM",startFreq:189e5,endFreq:1902e4,color:"rgba(199, 12, 193, 0.3)"},{name:"15M HAM",startFreq:21e6,endFreq:2145e4,color:"rgba(6, 204, 214, 0.3)"},{name:"13M AM",startFreq:2145e4,endFreq:2185e4,color:"rgba(199, 12, 193, 0.3)"},{name:"12M HAM",startFreq:2489e4,endFreq:2499e4,color:"rgba(2, 155, 250, 0.3)"},{name:"11M AM",startFreq:2567e4,endFreq:261e5,color:"rgba(199, 12, 193, 0.3)"},{name:"CB",startFreq:26965e3,endFreq:27405e3,color:"rgba(3, 227, 252, 0.3)"},{name:"10M HAM",startFreq:28e6,endFreq:297e5,color:"rgba(151, 2, 250, 0.3)"},{name:"6M HAM",startFreq:5e7,endFreq:54e6,color:"rgba(50, 168, 72, 0.3)"},{name:"4M HAM",startFreq:6995e4,endFreq:6995e4,color:"rgba(50, 168, 72, 0.3)"},{name:"4M HAM",startFreq:70112500,endFreq:70412500,color:"rgba(50, 168, 72, 0.3)"},{name:"2M HAM",startFreq:144e6,endFreq:148e6,color:"rgba(50, 168, 72, 0.3)"},{name:"70CM HAM",startFreq:43e7,endFreq:44e7,color:"rgba(50, 168, 72, 0.3)"}]}initCanvas(t){this.canvasElem=t.canvasElem,this.ctx=this.canvasElem.getContext("2d"),this.ctx.imagesmoothingEnabled=!0,this.canvasWidth=this.canvasElem.width,this.canvasHeight=this.canvasElem.height,this.backgroundColor=window.getComputedStyle(document.body,null).getPropertyValue("background-color"),this.curLine=this.canvasHeight/2,this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height),this.graduationCanvasElem=t.graduationCanvasElem,this.graduationCtx=this.graduationCanvasElem.getContext("2d"),this.spectrumCanvasElem=t.spectrumCanvasElem,this.spectrumCtx=this.spectrumCanvasElem.getContext("2d"),this.spectrumCanvasElem.addEventListener("mousemove",this.spectrumMouseMove.bind(this)),this.spectrumCanvasElem.addEventListener("mouseleave",this.spectrumMouseLeave.bind(this)),this.tempCanvasElem=t.tempCanvasElem,this.tempCtx=this.tempCanvasElem.getContext("2d"),this.tempCanvasElem.height=this.wfheight,this.waterfall=!0;let n;this.resizeCallback=()=>{this.setCanvasWidth();let r=document.createElement("canvas");r.width=this.canvasElem.width,r.height=this.canvasElem.height;let o=r.getContext("2d");o.imagesmoothingEnabled=!0,o.drawImage(this.canvasElem,0,0),this.curLine=Math.ceil(this.curLine*this.canvasElem.height/r.height),this.ctx.imagesmoothingEnabled=!0,this.ctx.drawImage(r,0,0,r.width,r.height,0,0,this.canvasElem.width,this.canvasElem.height),this.updateGraduation(),n=void 0},window.addEventListener("resize",()=>{n&&clearTimeout(n),this.resizeCallback(),n=setTimeout(this.resizeCallback,250)})}async init(){return this.promise?this.promise:(this.waterfallSocket=new WebSocket(this.endpoint),this.waterfallSocket.binaryType="arraybuffer",this.firstWaterfallMessage=!0,this.waterfallSocket.onmessage=this.socketMessageInitial.bind(this),this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n}),this.promise)}stop(){this.waterfallSocket.close()}setCanvasWidth(){const t=window.devicePixelRatio;let n=this.canvasElem.parentElement.clientWidth*window.devicePixelRatio;this.canvasElem.width=n,this.canvasScale=n/1024,this.spectrumCanvasElem.width=n,this.spectrumCanvasElem.height=n/1024*128,this.graduationCanvasElem.width=n,this.graduationCanvasElem.height=n/1024*20,this.canvasElem.width=window.outerWidth*t,this.canvasElem.height=this.wfheight*t,this.canvasWidth=this.canvasElem.width,this.canvasHeight=this.canvasElem.height}socketMessageInitial(t){if(!(t.data instanceof ArrayBuffer)){const n=JSON.parse(t.data);if(!n.fft_size)return;this.waterfallMaxSize=n.fft_result_size,this.fftSize=n.fft_size,this.baseFreq=n.basefreq,this.sps=n.sps,this.totalBandwidth=n.total_bandwidth,this.overlap=n.overlap,this.setCanvasWidth(),this.tempCanvasElem.width=n.waterfall_size,this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.canvasElem.width,this.canvasElem.height);const r=Math.max(1,Math.floor(this.sps/this.fftSize/10)*2),o=this.sps/this.fftSize/(r/2);console.log("Waterfall FPS: "+o),requestAnimationFrame(this.drawSpectrogram.bind(this)),this.waterfallL=0,this.waterfallR=this.waterfallMaxSize,this.waterfallSocket.onmessage=this.socketMessage.bind(this),this.firstWaterfallMessage=!1,this.waterfallDecoder=e2(n.waterfall_compression),this.updateGraduation(),this.resolvePromise(n)}}socketMessage(t){t.data instanceof ArrayBuffer&&this.enqueueSpectrogram(t.data)}getMouseX(t,n){const r=t.getBoundingClientRect(),o=t.width/r.width;return(n.clientX-r.left)*o}enqueueSpectrogram(t){if(this.waterfallDecoder.decode(t).forEach(n=>{this.waterfallQueue.unshift(n)}),!this.waterfall&&!this.spectrum){this.waterfallQueue.clear();return}for(;this.waterfallQueue.length>2;)this.waterfallQueue.pop()}accumulateAdjustmentData(t){this.adjustmentBuffer.push(...t),this.adjustmentBuffer.length>=this.bufferSize&&(this.adjustWaterfallLimits(this.adjustmentBuffer),this.adjustmentBuffer=[])}adjustWaterfallLimits(t){const n=Math.min(...t),r=Math.max(...t)-40;this.minWaterfall+=(n-this.minWaterfall)*this.dampeningFactor,this.maxWaterfall+=(r-this.maxWaterfall)*this.dampeningFactor}transformValue(t){let n=(Math.max(this.minWaterfall,Math.min(this.maxWaterfall,t))-this.minWaterfall)/(this.maxWaterfall-this.minWaterfall),r=Math.floor(n*255);return Math.max(0,Math.min(255,r))}idxToFreq(t){return t/this.waterfallMaxSize*this.totalBandwidth+this.baseFreq}idxToCanvasX(t){return(t-this.waterfallL)/(this.waterfallR-this.waterfallL)*this.canvasWidth}canvasXtoFreq(t){const n=t/this.canvasWidth*(this.waterfallR-this.waterfallL)+this.waterfallL;return this.idxToFreq(n)}freqToIdx(t){return(t-this.baseFreq)/this.totalBandwidth*this.waterfallMaxSize}calculateOffsets(t,n,r){const o=this.canvasWidth/(this.waterfallR-this.waterfallL),i=(n-this.waterfallL)*o,a=(r-this.waterfallL)*o,s=new Uint8Array(t.length);for(let c=0;c<s.length;c++)s[c]=this.transformValue(t[c]);return[s,i,a]}drawSpectrogram(){if(this.waterfallQueue.length===0){requestAnimationFrame(this.drawSpectrogram.bind(this));return}const{data:t,l:n,r}=this.waterfallQueue.pop(),[o,i,a]=this.calculateOffsets(t,n,r);this.autoAdjust&&this.accumulateAdjustmentData(o);const s=document.createElement("canvas");s.width=this.canvasWidth,s.height=this.canvasHeight;const c=s.getContext("2d");this.waterfall&&this.drawWaterfall(o,i,a,n,r,c),this.spectrum&&this.drawSpectrum(o,i,a,n,r,c),this.ctx.drawImage(s,0,0),requestAnimationFrame(this.drawSpectrogram.bind(this))}async redrawWaterfall(){const t=this.drawnWaterfallQueue.toArray(),n=this.lineResets,r=this.curLine,o=i=>{const a=r+1+i+(this.lineResets-n)*this.canvasHeight/2,[s,c,l]=t[i],[h,d,m]=this.calculateOffsets(s,c,l);this.drawWaterfallLine(h,d,m,a),i+1<t.length&&(this.updateImmediate=setImmediate(()=>o(i+1)))};clearImmediate(this.updateImmediate),t.length&&o(0)}drawWaterfallLine(t,n,r,o){n=Math.floor(n),r=Math.ceil(r),o=Math.floor(o);const i=r-n,a=this.ctx.createImageData(i,1);for(let s=0;s<i;s++){const c=Math.floor(s*t.length/i),l=t[c],h=s*4;a.data.set(this.colormap[l],h)}this.ctx.putImageData(a,n,o)}drawWaterfall(t,n,r,o,i){n=Math.floor(n),r=Math.ceil(r);const a=this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight-1);this.ctx.putImageData(a,0,1),this.drawWaterfallLine(t,n,r,0)}drawSpectrum(t,n,r,o,i){(o!==this.spectrumFiltered[0][0]||i!==this.spectrumFiltered[0][1])&&(this.spectrumFiltered[1]=t,this.spectrumFiltered[0]=[o,i]);for(let m=0;m<t.length;m++)this.spectrumFiltered[1][m]=this.spectrumAlpha*t[m]+(1-this.spectrumAlpha)*this.spectrumFiltered[1][m];t=this.spectrumFiltered[1];const a=(r-n)/t.length;this.canvasScale;const s=this.spectrumCanvasElem.height,c=t.map(m=>s-m/255*s);this.spectrumCtx.clearRect(0,0,this.spectrumCanvasElem.width,s);const l=this.spectrumCtx.createLinearGradient(0,0,0,s);l.addColorStop(0,"rgba(3, 157, 252, 0.8)"),l.addColorStop(1,"rgba(3, 157, 252, 0.2)"),this.spectrumCtx.lineWidth=2,this.spectrumCtx.strokeStyle="rgba(3, 157, 252, 0.8)",this.spectrumCtx.fillStyle=l,this.spectrumCtx.shadowColor="rgba(3, 157, 252, 0.5)",this.spectrumCtx.shadowBlur=10,this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(n,s);let h=n,d=c[0];this.spectrumCtx.lineTo(h,d);for(let m=1;m<c.length;m++){const g=n+m*a,y=c[m],_=(h+g)/2;this.spectrumCtx.quadraticCurveTo(h,d,_,(d+y)/2),h=g,d=y}this.spectrumCtx.lineTo(r,d),this.spectrumCtx.lineTo(r,s),this.spectrumCtx.closePath(),this.spectrumCtx.fill(),this.spectrumCtx.stroke(),this.spectrumCtx.shadowBlur=0,this.spectrumFreq&&(this.spectrumCtx.font="14px Arial",this.spectrumCtx.fillStyle="rgba(255, 255, 255, 0.9)",this.spectrumCtx.shadowColor="rgba(255, 255, 255, 0.5)",this.spectrumCtx.shadowBlur=5,this.spectrumCtx.fillText("".concat((this.spectrumFreq/1e6).toFixed(6)," MHz"),10,20),this.spectrumCtx.strokeStyle="rgba(255, 255, 255, 0.5)",this.spectrumCtx.lineWidth=1,this.spectrumCtx.setLineDash([5,3]),this.spectrumCtx.beginPath(),this.spectrumCtx.moveTo(this.spectrumX,0),this.spectrumCtx.lineTo(this.spectrumX,s),this.spectrumCtx.stroke(),this.spectrumCtx.setLineDash([]))}updateGraduation(){const t=this.idxToFreq(this.waterfallL),n=this.idxToFreq(this.waterfallR),r=this.canvasScale;let o=1;for(;(n-t)/o>8;)o*=10;o/=10,this.graduationCtx.fillStyle="white",this.graduationCtx.strokeStyle="white",this.graduationCtx.clearRect(0,0,this.graduationCanvasElem.width,this.graduationCanvasElem.height);let i=t;t%o!==0&&(i=t+(o-t%o));let a=5;for(let c=i;c<=n;c+=o)if(c!=0){const l=c.toString().match(/0*$/g)[0].length;a=Math.min(a,l)}for(this.graduationCtx.font="".concat(10*r,"px Arial");i<=n;i+=o){const c=(i-t)/(n-t)*this.canvasWidth;let l=5,h=!1;i%(o*10)===0?(l=10,h=!0):i%(o*5)===0&&(l=7,h=!0),h&&(this.graduationCtx.textAlign="center",this.graduationCtx.fillText((i/1e6).toFixed(6-a)+" MHz",c,7.5*r)),this.graduationCtx.lineWidth=1*r,this.graduationCtx.beginPath(),this.graduationCtx.moveTo(c,(10+(10-l))*r),this.graduationCtx.lineTo(c,20*r),this.graduationCtx.stroke()}const s=12;this.bands.forEach(c=>{const l=this.freqToIdx(c.startFreq),h=this.freqToIdx(c.endFreq),d=this.idxToCanvasX(l),m=this.idxToCanvasX(h),g=m-d;this.graduationCtx.fillStyle=c.color,this.graduationCtx.fillRect(d,this.graduationCanvasElem.height-s,g,s);let y=Math.max(Math.min(g/c.name.length,10),4);if(this.graduationCtx.fillStyle="white",this.graduationCtx.font="".concat(y,"px Arial"),this.graduationCtx.textAlign="center",this.graduationCtx.measureText(c.name).width<g)this.graduationCtx.fillText(c.name,(d+m)/2,this.graduationCanvasElem.height-s/2+y/3);else{for(;this.graduationCtx.measureText(c.name).width>=g&&y>6;)y--,this.graduationCtx.font="".concat(y,"px Arial");y>4&&this.graduationCtx.fillText(c.name,(d+m)/2,this.graduationCanvasElem.height-s/2+y/3)}}),this.drawClients()}setClients(t){this.clients=t}drawClients(){Object.entries(this.clients).filter(([t,n])=>n[1]<this.waterfallR&&n[1]>=this.waterfallL).forEach(([t,n])=>{const r=this.idxToCanvasX(n[1]),[o,i,a,s]=this.clientColormap[parseInt(t.substring(0,2),16)];this.graduationCtx.fillStyle="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(s,")"),this.graduationCtx.strokeStyle="rgba(".concat(o,", ").concat(i,", ").concat(a,", ").concat(s,")"),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r+2,5),this.graduationCtx.stroke(),this.graduationCtx.beginPath(),this.graduationCtx.moveTo(r,0),this.graduationCtx.lineTo(r-2,5),this.graduationCtx.stroke()})}applyBlur(t,n,r,o){const i=t.data,a=new Uint8ClampedArray(i);for(let s=0;s<r;s++)for(let c=0;c<n;c++){let l=0,h=0,d=0,m=0,g=0;for(let _=-o;_<=o;_++)for(let T=-o;T<=o;T++){const O=c+T,C=s+_;if(O>=0&&O<n&&C>=0&&C<r){const E=(C*n+O)*4;l+=a[E],h+=a[E+1],d+=a[E+2],m+=a[E+3],g++}}const y=(s*n+c)*4;i[y]=l/g,i[y+1]=h/g,i[y+2]=d/g,i[y+3]=m/g}return t}setWaterfallRange(t,n){if(t>=n)return;const r=n-t;t<0&&n>this.waterfallMaxSize?(t=0,n=this.waterfallMaxSize):t<0?(t=0,n=r):n>this.waterfallMaxSize&&(n=this.waterfallMaxSize,t=n-r);const o=this.waterfallL,i=this.waterfallR;this.waterfallL=t,this.waterfallR=n,this.waterfallSocket.send(JSON.stringify({cmd:"window",l:this.waterfallL,r:this.waterfallR}));const a=document.createElement("canvas");a.width=this.canvasWidth,a.height=this.canvasHeight,a.getContext("2d").drawImage(this.canvasElem,0,0);const s=this.idxToCanvasX(o),c=this.idxToCanvasX(i),l=c-s;this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.drawImage(a,0,0,this.canvasWidth,this.canvasHeight,s,0,l,this.canvasHeight),i-o<=n-t+1&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,s,this.canvasHeight),this.ctx.fillRect(c,0,this.canvasWidth-c,this.canvasHeight)),this.updateGraduation(),this.drawSpectrogram()}getWaterfallRange(){return[this.waterfallL,this.waterfallR]}setWaterfallLagTime(t){this.lagTime=Math.max(0,t)}setOffset(t){this.waterfallColourShift=t}setMinOffset(t){this.minWaterfall=t}setMaxOffset(t){this.maxWaterfall=t}setAlpha(t){this.spectrumAlpha=t}setColormapArray(t){this.colormap=Rf(t)}setColormap(t){this.setColormapArray(Pf(t))}setUserID(t){this.waterfallSocket.send(JSON.stringify({cmd:"userid",userid:t}))}setSpectrum(t){this.spectrum=t,t==!0?(this.wfheight=600*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfallBig(t){t==!0?(this.wfheight=400*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback()):t==!1&&(this.wfheight=200*window.devicePixelRatio,typeof this.resizeCallback=="function"&&this.resizeCallback())}setWaterfall(t){this.waterfall=t}resetRedrawTimeout(t){}canvasWheel(t){if(window.getComputedStyle(t.target).cursor=="resize")return;const n=(t.coords||{x:this.getMouseX(this.spectrumCanvasElem,t)}).x;t.preventDefault();const r=t.deltaY||t.scale,o=this.waterfallL,i=this.waterfallR,a=t.scaleAmount||.85;if(i-o<=128&&r<0)return!1;const s=(i-o)*n/this.canvasWidth+o;let c=s-o,l=i-s;r<0?(c*=a,l*=a):r>0&&(c*=1/a,l*=1/a);const h=Math.round(s-c),d=Math.round(s+l);return this.setWaterfallRange(h,d),!1}mouseMove(t){const n=t.movementX,r=Math.round(n/this.canvasElem.getBoundingClientRect().width*(this.waterfallR-this.waterfallL)),o=this.waterfallL-r,i=this.waterfallR-r;this.setWaterfallRange(o,i)}spectrumMouseMove(t){const n=this.getMouseX(this.spectrumCanvasElem,t),r=this.canvasXtoFreq(n);this.spectrumFreq=r,this.spectrumX=n}spectrumMouseLeave(t){this.spectrumFreq=void 0,this.spectrumX=void 0}}class d8{constructor(t){this.endpoint=t,this.signalClients={},this.lastModified=performance.now()}init(){return this.promise?this.promise:(this.eventSocket=new WebSocket(this.endpoint),this.eventSocket.binaryType="arraybuffer",this.eventSocket.onmessage=this.socketMessage.bind(this),this.promise=new Promise((t,n)=>{this.eventSocket.onopen=t,this.resolvePromise=t,this.rejectPromise=n}),this.promise)}socketMessage(t){const n=JSON.parse(t.data);if(this.data=n,"signal_list"in n&&(this.signalClients=n.signal_list),"signal_changes"in n){const r=n.signal_changes;for(const[o,i]of Object.entries(r))i[0]===-1&&i[1]===-1?delete this.signalClients[o]:this.signalClients[o]=i}"audio_kbits"in n&&(document.getElementById("total_audio_stream").textContent=parseInt(n.audio_kbits)+" kbit/s"),"waterfall_kbits"in n&&(document.getElementById("total_water_stream").textContent=parseInt(n.waterfall_kbits)+" kbit/s"),"waterfall_clients"in n&&(n.signal_clients>1?document.getElementById("total_user_count").textContent=n.signal_clients+" Users":document.getElementById("total_user_count").textContent=n.signal_clients+" User"),this.lastModified=performance.now()}setUserID(t){this.eventSocket.send(JSON.stringify({cmd:"userid",userid:t}))}getSignalClients(){let t={};return Object.assign(t,this.signalClients),t}getLastModified(){return this.lastModified}}const h8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let f8=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=h8[n[e]&63];return t},un;const ip=window.location,du="".concat(ip.protocol.replace("http","ws"),"//").concat(ip.host),Ee=new u8(du+"/waterfall"),ve=new kw(du+"/audio"),pa=new d8(du+"/events");async function p8(){await t2(),await Promise.all([Ee.init(),ve.init(),pa.init()]),un=ve.settings;const e=f8();[Ee,ve,pa].forEach(t=>{t.setUserID(e)})}function ap(e){const[t,n]=Ee.getWaterfallRange();return(e-Lr(t))/((n-t)/un.fft_result_size*un.total_bandwidth)}function m8(e){const[t,n]=Ee.getWaterfallRange();return e*((n-t)/un.fft_result_size)*un.total_bandwidth+Lr(t)}function $s(e){return(e-un.basefreq)/un.total_bandwidth*un.fft_result_size}function Lr(e){return e/un.fft_result_size*un.total_bandwidth+un.basefreq}function g8(e){const[t,n]=Ee.getWaterfallRange();return e/un.total_bandwidth*un.fft_result_size/(n-t)}function ma(){return ve.trueAudioSps}function y8(){return Ee.getWaterfallRange().map(Lr)}function Ln(){return Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}function Sn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function zs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var hu;typeof Object.assign!="function"?hu=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:hu=Object.assign;var bo=hu,sp=["","webkit","Moz","MS","ms","o"],v8=typeof document>"u"?{style:{}}:document.createElement("div"),b8="function",si=Math.round,wo=Math.abs,fu=Date.now;function qs(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<sp.length;){if(n=sp[i],r=n?n+o:t,r in e)return r;i++}}var Ar;typeof window>"u"?Ar={}:Ar=window;var lp=qs(v8.style,"touchAction"),cp=lp!==void 0;function w8(){if(!cp)return!1;var e={},t=Ar.CSS&&Ar.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=t?Ar.CSS.supports("touch-action",n):!0}),e}var up="compute",dp="auto",pu="manipulation",xo="none",ga="pan-x",ya="pan-y",Hs=w8(),x8=/mobile|tablet|ip(ad|hone|od)|android/i,hp="ontouchstart"in Ar,_8=qs(Ar,"PointerEvent")!==void 0,S8=hp&&x8.test(navigator.userAgent),va="touch",M8="pen",mu="mouse",C8="kinect",A8=25,Wt=1,_o=2,it=4,Yt=8,Vs=1,ba=2,wa=4,xa=8,li=16,Zn=ba|wa,So=xa|li,fp=Zn|So,pp=["x","y"],Gs=["clientX","clientY"];function Tr(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==void 0)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function Ys(e,t){return typeof e===b8?e.apply(t&&t[0]||void 0,t):e}function Mo(e,t){return e.indexOf(t)>-1}function T8(e){if(Mo(e,xo))return xo;var t=Mo(e,ga),n=Mo(e,ya);return t&&n?xo:t||n?t?ga:ya:Mo(e,pu)?pu:dp}var mp=function(){function e(n,r){this.manager=n,this.set(r)}var t=e.prototype;return t.set=function(n){n===up&&(n=this.compute()),cp&&this.manager.element.style&&Hs[n]&&(this.manager.element.style[lp]=n),this.actions=n.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var n=[];return Tr(this.manager.recognizers,function(r){Ys(r.options.enable,[r])&&(n=n.concat(r.getTouchAction()))}),T8(n.join(" "))},t.preventDefaults=function(n){var r=n.srcEvent,o=n.offsetDirection;if(this.manager.session.prevented){r.preventDefault();return}var i=this.actions,a=Mo(i,xo)&&!Hs[xo],s=Mo(i,ya)&&!Hs[ya],c=Mo(i,ga)&&!Hs[ga];if(a){var l=n.pointers.length===1,h=n.distance<2,d=n.deltaTime<250;if(l&&h&&d)return}if(!(c&&s)&&(a||s&&o&Zn||c&&o&So))return this.preventSrc(r)},t.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},e}();function gu(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function gp(e){var t=e.length;if(t===1)return{x:si(e[0].clientX),y:si(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:si(n/t),y:si(r/t)}}function yp(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:si(e.pointers[n].clientX),clientY:si(e.pointers[n].clientY)},n++;return{timeStamp:fu(),pointers:t,center:gp(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Xs(e,t,n){n||(n=pp);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function yu(e,t,n){n||(n=pp);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.atan2(o,r)*180/Math.PI}function vp(e,t){return e===t?Vs:wo(e)>=wo(t)?e<0?ba:wa:t<0?xa:li}function E8(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};(t.eventType===Wt||i.eventType===it)&&(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}function bp(e,t,n){return{x:t/e||0,y:n/e||0}}function k8(e,t){return Xs(t[0],t[1],Gs)/Xs(e[0],e[1],Gs)}function O8(e,t){return yu(t[1],t[0],Gs)+yu(e[1],e[0],Gs)}function I8(e,t){var n=e.lastInterval||t,r=t.timeStamp-n.timeStamp,o,i,a,s;if(t.eventType!==Yt&&(r>A8||n.velocity===void 0)){var c=t.deltaX-n.deltaX,l=t.deltaY-n.deltaY,h=bp(r,c,l);i=h.x,a=h.y,o=wo(h.x)>wo(h.y)?h.x:h.y,s=vp(c,l),e.lastInterval=t}else o=n.velocity,i=n.velocityX,a=n.velocityY,s=n.direction;t.velocity=o,t.velocityX=i,t.velocityY=a,t.direction=s}function F8(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=yp(t)),o>1&&!n.firstMultiple?n.firstMultiple=yp(t):o===1&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,c=t.center=gp(r);t.timeStamp=fu(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=yu(s,c),t.distance=Xs(s,c),E8(n,t),t.offsetDirection=vp(t.deltaX,t.deltaY);var l=bp(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=wo(l.x)>wo(l.y)?l.x:l.y,t.scale=a?k8(a.pointers,r):1,t.rotation=a?O8(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,I8(n,t);var h=e.element,d=t.srcEvent,m;d.composedPath?m=d.composedPath()[0]:d.path?m=d.path[0]:m=d.target,gu(m,h)&&(h=m),t.target=h}function R8(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&Wt&&r-o===0,a=t&(it|Yt)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,F8(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function _a(e){return e.trim().split(/\s+/g)}function Sa(e,t,n){Tr(_a(t),function(r){e.addEventListener(r,n,!1)})}function Ma(e,t,n){Tr(_a(t),function(r){e.removeEventListener(r,n,!1)})}function wp(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var ci=function(){function e(n,r){var o=this;this.manager=n,this.callback=r,this.element=n.element,this.target=n.options.inputTarget,this.domHandler=function(i){Ys(n.options.enable,[n])&&o.handler(i)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Sa(this.element,this.evEl,this.domHandler),this.evTarget&&Sa(this.target,this.evTarget,this.domHandler),this.evWin&&Sa(wp(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Ma(this.element,this.evEl,this.domHandler),this.evTarget&&Ma(this.target,this.evTarget,this.domHandler),this.evWin&&Ma(wp(this.element),this.evWin,this.domHandler)},e}();function Co(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var P8={pointerdown:Wt,pointermove:_o,pointerup:it,pointercancel:Yt,pointerout:Yt},D8={2:va,3:M8,4:mu,5:C8},xp="pointerdown",_p="pointermove pointerup pointercancel";Ar.MSPointerEvent&&!Ar.PointerEvent&&(xp="MSPointerDown",_p="MSPointerMove MSPointerUp MSPointerCancel");var Sp=function(e){Sn(t,e);function t(){var r,o=t.prototype;return o.evEl=xp,o.evWin=_p,r=e.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var n=t.prototype;return n.handler=function(r){var o=this.store,i=!1,a=r.type.toLowerCase().replace("ms",""),s=P8[a],c=D8[r.pointerType]||r.pointerType,l=c===va,h=Co(o,r.pointerId,"pointerId");s&Wt&&(r.button===0||l)?h<0&&(o.push(r),h=o.length-1):s&(it|Yt)&&(i=!0),!(h<0)&&(o[h]=r,this.callback(this.manager,s,{pointers:o,changedPointers:[r],pointerType:c,srcEvent:r}),i&&o.splice(h,1))},t}(ci);function Ca(e){return Array.prototype.slice.call(e,0)}function vu(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];Co(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(t?r=r.sort(function(s,c){return s[t]>c[t]}):r=r.sort()),r}var N8={touchstart:Wt,touchmove:_o,touchend:it,touchcancel:Yt},L8="touchstart touchmove touchend touchcancel",bu=function(e){Sn(t,e);function t(){var r;return t.prototype.evTarget=L8,r=e.apply(this,arguments)||this,r.targetIds={},r}var n=t.prototype;return n.handler=function(r){var o=N8[r.type],i=j8.call(this,r,o);i&&this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:va,srcEvent:r})},t}(ci);function j8(e,t){var n=Ca(e.touches),r=this.targetIds;if(t&(Wt|_o)&&n.length===1)return r[n[0].identifier]=!0,[n,n];var o,i,a=Ca(e.changedTouches),s=[],c=this.target;if(i=n.filter(function(l){return gu(l.target,c)}),t===Wt)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),t&(it|Yt)&&delete r[a[o].identifier],o++;if(s.length)return[vu(i.concat(s),"identifier",!0),s]}var U8={mousedown:Wt,mousemove:_o,mouseup:it},B8="mousedown",W8="mousemove mouseup",wu=function(e){Sn(t,e);function t(){var r,o=t.prototype;return o.evEl=B8,o.evWin=W8,r=e.apply(this,arguments)||this,r.pressed=!1,r}var n=t.prototype;return n.handler=function(r){var o=U8[r.type];o&Wt&&r.button===0&&(this.pressed=!0),o&_o&&r.which!==1&&(o=it),this.pressed&&(o&it&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[r],changedPointers:[r],pointerType:mu,srcEvent:r}))},t}(ci),$8=2500,Mp=25;function Cp(e){var t=e.changedPointers,n=t[0];if(n.identifier===this.primaryTouch){var r={x:n.clientX,y:n.clientY},o=this.lastTouches;this.lastTouches.push(r);var i=function(){var a=o.indexOf(r);a>-1&&o.splice(a,1)};setTimeout(i,$8)}}function z8(e,t){e&Wt?(this.primaryTouch=t.changedPointers[0].identifier,Cp.call(this,t)):e&(it|Yt)&&Cp.call(this,t)}function q8(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=Mp&&a<=Mp)return!0}return!1}var Ap=function(){var e=function(t){Sn(n,t);function n(o,i){var a;return a=t.call(this,o,i)||this,a.handler=function(s,c,l){var h=l.pointerType===va,d=l.pointerType===mu;if(!(d&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(h)z8.call(zs(zs(a)),c,l);else if(d&&q8.call(zs(zs(a)),l))return;a.callback(s,c,l)}},a.touch=new bu(a.manager,a.handler),a.mouse=new wu(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var r=n.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},n}(ci);return e}();function H8(e){var t,n=e.options.inputClass;return n?t=n:_8?t=Sp:S8?t=bu:hp?t=Ap:t=wu,new t(e,R8)}function ui(e,t,n){return Array.isArray(e)?(Tr(e,n[t],n),!0):!1}var Ks=1,Mn=2,di=4,jr=8,Er=jr,Aa=16,er=32,V8=1;function G8(){return V8++}function Js(e,t){var n=t.manager;return n?n.get(e):e}function Tp(e){return e&Aa?"cancel":e&jr?"end":e&di?"move":e&Mn?"start":""}var Ta=function(){function e(n){n===void 0&&(n={}),this.options=Ln({enable:!0},n),this.id=G8(),this.manager=null,this.state=Ks,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(n){return bo(this.options,n),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(n){if(ui(n,"recognizeWith",this))return this;var r=this.simultaneous;return n=Js(n,this),r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this},t.dropRecognizeWith=function(n){return ui(n,"dropRecognizeWith",this)?this:(n=Js(n,this),delete this.simultaneous[n.id],this)},t.requireFailure=function(n){if(ui(n,"requireFailure",this))return this;var r=this.requireFail;return n=Js(n,this),Co(r,n)===-1&&(r.push(n),n.requireFailure(this)),this},t.dropRequireFailure=function(n){if(ui(n,"dropRequireFailure",this))return this;n=Js(n,this);var r=Co(this.requireFail,n);return r>-1&&this.requireFail.splice(r,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},t.emit=function(n){var r=this,o=this.state;function i(a){r.manager.emit(a,n)}o<jr&&i(r.options.event+Tp(o)),i(r.options.event),n.additionalEvent&&i(n.additionalEvent),o>=jr&&i(r.options.event+Tp(o))},t.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=er},t.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(er|Ks)))return!1;n++}return!0},t.recognize=function(n){var r=bo({},n);if(!Ys(this.options.enable,[this,r])){this.reset(),this.state=er;return}this.state&(Er|Aa|er)&&(this.state=Ks),this.state=this.process(r),this.state&(Mn|di|jr|Aa)&&this.tryEmit(r)},t.process=function(n){},t.getTouchAction=function(){},t.reset=function(){},e}(),xu=function(e){Sn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,Ln({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,o.pTime=!1,o.pCenter=!1,o._timer=null,o._input=null,o.count=0,o}var n=t.prototype;return n.getTouchAction=function(){return[pu]},n.process=function(r){var o=this,i=this.options,a=r.pointers.length===i.pointers,s=r.distance<i.threshold,c=r.deltaTime<i.time;if(this.reset(),r.eventType&Wt&&this.count===0)return this.failTimeout();if(s&&c&&a){if(r.eventType!==it)return this.failTimeout();var l=this.pTime?r.timeStamp-this.pTime<i.interval:!0,h=!this.pCenter||Xs(this.pCenter,r.center)<i.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!h||!l?this.count=1:this.count+=1,this._input=r;var d=this.count%i.taps;if(d===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Er,o.tryEmit()},i.interval),Mn):Er}return er},n.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=er},this.options.interval),er},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===Er&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Ta),hi=function(e){Sn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Ln({pointers:1},r))||this}var n=t.prototype;return n.attrTest=function(r){var o=this.options.pointers;return o===0||r.pointers.length===o},n.process=function(r){var o=this.state,i=r.eventType,a=o&(Mn|di),s=this.attrTest(r);return a&&(i&Yt||!s)?o|Aa:a||s?i&it?o|jr:o&Mn?o|di:Mn:er},t}(Ta);function Ep(e){return e===li?"down":e===xa?"up":e===ba?"left":e===wa?"right":""}var _u=function(e){Sn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,Ln({event:"pan",threshold:10,pointers:1,direction:fp},r))||this,o.pX=null,o.pY=null,o}var n=t.prototype;return n.getTouchAction=function(){var r=this.options.direction,o=[];return r&Zn&&o.push(ya),r&So&&o.push(ga),o},n.directionTest=function(r){var o=this.options,i=!0,a=r.distance,s=r.direction,c=r.deltaX,l=r.deltaY;return s&o.direction||(o.direction&Zn?(s=c===0?Vs:c<0?ba:wa,i=c!==this.pX,a=Math.abs(r.deltaX)):(s=l===0?Vs:l<0?xa:li,i=l!==this.pY,a=Math.abs(r.deltaY))),r.direction=s,i&&a>o.threshold&&s&o.direction},n.attrTest=function(r){return hi.prototype.attrTest.call(this,r)&&(this.state&Mn||!(this.state&Mn)&&this.directionTest(r))},n.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var o=Ep(r.direction);o&&(r.additionalEvent=this.options.event+o),e.prototype.emit.call(this,r)},t}(hi),kp=function(e){Sn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Ln({event:"swipe",threshold:10,velocity:.3,direction:Zn|So,pointers:1},r))||this}var n=t.prototype;return n.getTouchAction=function(){return _u.prototype.getTouchAction.call(this)},n.attrTest=function(r){var o=this.options.direction,i;return o&(Zn|So)?i=r.overallVelocity:o&Zn?i=r.overallVelocityX:o&So&&(i=r.overallVelocityY),e.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&wo(i)>this.options.velocity&&r.eventType&it},n.emit=function(r){var o=Ep(r.offsetDirection);o&&this.manager.emit(this.options.event+o,r),this.manager.emit(this.options.event,r)},t}(hi),Op=function(e){Sn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Ln({event:"pinch",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[xo]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&Mn)},n.emit=function(r){if(r.scale!==1){var o=r.scale<1?"in":"out";r.additionalEvent=this.options.event+o}e.prototype.emit.call(this,r)},t}(hi),Ip=function(e){Sn(t,e);function t(r){return r===void 0&&(r={}),e.call(this,Ln({event:"rotate",threshold:0,pointers:2},r))||this}var n=t.prototype;return n.getTouchAction=function(){return[xo]},n.attrTest=function(r){return e.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&Mn)},t}(hi),Fp=function(e){Sn(t,e);function t(r){var o;return r===void 0&&(r={}),o=e.call(this,Ln({event:"press",pointers:1,time:251,threshold:9},r))||this,o._timer=null,o._input=null,o}var n=t.prototype;return n.getTouchAction=function(){return[dp]},n.process=function(r){var o=this,i=this.options,a=r.pointers.length===i.pointers,s=r.distance<i.threshold,c=r.deltaTime>i.time;if(this._input=r,!s||!a||r.eventType&(it|Yt)&&!c)this.reset();else if(r.eventType&Wt)this.reset(),this._timer=setTimeout(function(){o.state=Er,o.tryEmit()},i.time);else if(r.eventType&it)return Er;return er},n.reset=function(){clearTimeout(this._timer)},n.emit=function(r){this.state===Er&&(r&&r.eventType&it?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=fu(),this.manager.emit(this.options.event,this._input)))},t}(Ta),Rp={domEvents:!1,touchAction:up,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Pp=[[Ip,{enable:!1}],[Op,{enable:!1},["rotate"]],[kp,{direction:Zn}],[_u,{direction:Zn},["swipe"]],[xu],[xu,{event:"doubletap",taps:2},["tap"]],[Fp]],Y8=1,Dp=2;function Np(e,t){var n=e.element;if(n.style){var r;Tr(e.options.cssProps,function(o,i){r=qs(n.style,i),t?(e.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=e.oldCssProps[r]||""}),t||(e.oldCssProps={})}}function X8(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var Lp=function(){function e(n,r){var o=this;this.options=bo({},Rp,r||{}),this.options.inputTarget=this.options.inputTarget||n,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=n,this.input=H8(this),this.touchAction=new mp(this,this.options.touchAction),Np(this,!0),Tr(this.options.recognizers,function(i){var a=o.add(new i[0](i[1]));i[2]&&a.recognizeWith(i[2]),i[3]&&a.requireFailure(i[3])},this)}var t=e.prototype;return t.set=function(n){return bo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},t.stop=function(n){this.session.stopped=n?Dp:Y8},t.recognize=function(n){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(n);var o,i=this.recognizers,a=r.curRecognizer;(!a||a&&a.state&Er)&&(r.curRecognizer=null,a=null);for(var s=0;s<i.length;)o=i[s],r.stopped!==Dp&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(n):o.reset(),!a&&o.state&(Mn|di|jr)&&(r.curRecognizer=o,a=o),s++}},t.get=function(n){if(n instanceof Ta)return n;for(var r=this.recognizers,o=0;o<r.length;o++)if(r[o].options.event===n)return r[o];return null},t.add=function(n){if(ui(n,"add",this))return this;var r=this.get(n.options.event);return r&&this.remove(r),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},t.remove=function(n){if(ui(n,"remove",this))return this;var r=this.get(n);if(n){var o=this.recognizers,i=Co(o,r);i!==-1&&(o.splice(i,1),this.touchAction.update())}return this},t.on=function(n,r){if(n===void 0||r===void 0)return this;var o=this.handlers;return Tr(_a(n),function(i){o[i]=o[i]||[],o[i].push(r)}),this},t.off=function(n,r){if(n===void 0)return this;var o=this.handlers;return Tr(_a(n),function(i){r?o[i]&&o[i].splice(Co(o[i],r),1):delete o[i]}),this},t.emit=function(n,r){this.options.domEvents&&X8(n,r);var o=this.handlers[n]&&this.handlers[n].slice();if(!(!o||!o.length)){r.type=n,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var i=0;i<o.length;)o[i](r),i++}},t.destroy=function(){this.element&&Np(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),K8={touchstart:Wt,touchmove:_o,touchend:it,touchcancel:Yt},J8="touchstart",Q8="touchstart touchmove touchend touchcancel",Z8=function(e){Sn(t,e);function t(){var r,o=t.prototype;return o.evTarget=J8,o.evWin=Q8,r=e.apply(this,arguments)||this,r.started=!1,r}var n=t.prototype;return n.handler=function(r){var o=K8[r.type];if(o===Wt&&(this.started=!0),!!this.started){var i=ex.call(this,r,o);o&(it|Yt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:i[0],changedPointers:i[1],pointerType:va,srcEvent:r})}},t}(ci);function ex(e,t){var n=Ca(e.touches),r=Ca(e.changedTouches);return t&(it|Yt)&&(n=vu(n.concat(r),"identifier",!0)),[n,r]}function jp(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var o=new Error("get-stack-trace"),i=o&&o.stack?o.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,r,i),e.apply(this,arguments)}}var Up=jp(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===void 0)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),tx=jp(function(e,t){return Up(e,t,!0)},"merge","Use `assign`.");function nx(e,t,n){var r=t.prototype,o;o=e.prototype=Object.create(r),o.constructor=e,o._super=r,n&&bo(o,n)}function Bp(e,t){return function(){return e.apply(t,arguments)}}var Qs=function(){var e=function(t,n){return n===void 0&&(n={}),new Lp(t,Ln({recognizers:Pp.concat()},n))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=fp,e.DIRECTION_DOWN=li,e.DIRECTION_LEFT=ba,e.DIRECTION_RIGHT=wa,e.DIRECTION_UP=xa,e.DIRECTION_HORIZONTAL=Zn,e.DIRECTION_VERTICAL=So,e.DIRECTION_NONE=Vs,e.DIRECTION_DOWN=li,e.INPUT_START=Wt,e.INPUT_MOVE=_o,e.INPUT_END=it,e.INPUT_CANCEL=Yt,e.STATE_POSSIBLE=Ks,e.STATE_BEGAN=Mn,e.STATE_CHANGED=di,e.STATE_ENDED=jr,e.STATE_RECOGNIZED=Er,e.STATE_CANCELLED=Aa,e.STATE_FAILED=er,e.Manager=Lp,e.Input=ci,e.TouchAction=mp,e.TouchInput=bu,e.MouseInput=wu,e.PointerEventInput=Sp,e.TouchMouseInput=Ap,e.SingleTouchInput=Z8,e.Recognizer=Ta,e.AttrRecognizer=hi,e.Tap=xu,e.Pan=_u,e.Swipe=kp,e.Pinch=Op,e.Rotate=Ip,e.Press=Fp,e.on=Sa,e.off=Ma,e.each=Tr,e.merge=tx,e.extend=Up,e.bindFn=Bp,e.assign=bo,e.inherit=nx,e.bindFn=Bp,e.prefixed=qs,e.toArray=Ca,e.inArray=Co,e.uniqueArray=vu,e.splitStr=_a,e.boolOrFn=Ys,e.hasParent=gu,e.addEventListeners=Sa,e.removeEventListeners=Ma,e.defaults=bo({},Rp,{preset:Pp}),e}();function rx(e){const t=new Qs.Manager(e),n=new Qs.Pinch;return t.add(n),t.on("pinchmove",function(r){e.dispatchEvent(new CustomEvent("pinchmove",{detail:r}))}),t.on("pinchstart",function(r){e.dispatchEvent(new CustomEvent("pinchstart",{detail:r}))}),{destroy(){}}}function Ea(e){const t=new Qs.Manager(e),n=new Qs.Pan;return t.add(n),t.on("panstart",function(r){e.dispatchEvent(new CustomEvent("panstart",{detail:r}))}),t.on("panmove",function(r){e.dispatchEvent(new CustomEvent("panmove",{detail:r}))}),t.on("panend",function(r){e.dispatchEvent(new CustomEvent("panend",{detail:r}))}),{destroy(){}}}function ox(e){let t,n,r,o,i,a,s,c,l,h,d,m,g,y,_,T,O;return{c(){t=$("div"),n=$("div"),r=$("div"),o=Gn("svg"),i=Gn("line"),a=Gn("line"),s=ne(),c=$("div"),l=ne(),h=Gn("svg"),d=Gn("line"),m=Gn("line"),g=ne(),y=$("div"),y.innerHTML="",w(i,"x1","100%"),w(i,"y1","20%"),w(i,"x2","20%"),w(i,"y2","100%"),w(i,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),w(a,"x1","0%"),w(a,"y1","100%"),w(a,"x2","20%"),w(a,"y2","100%"),w(a,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),w(o,"class","h-5 w-2 inline absolute group cursor-w-resize z-0"),Ke(o,"right","100%"),w(o,"role","slider"),w(o,"aria-valuenow",e[1]),w(o,"tabindex","-1"),w(c,"class","w-full h-full border-t border-yellow-500 align-middle absolute z-10"),Ke(c,"top","20%"),w(c,"role","slider"),w(c,"tabindex","-1"),w(d,"x1","0%"),w(d,"y1","20%"),w(d,"x2","80%"),w(d,"y2","100%"),w(d,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),w(m,"x1","80%"),w(m,"y1","100%"),w(m,"x2","100%"),w(m,"y2","100%"),w(m,"class","stroke-current text-yellow-500 stroke-1 group-hover:stroke-2"),w(h,"class","h-5 w-2 inline absolute group cursor-e-resize z-0"),Ke(h,"left","100%"),w(h,"role","slider"),w(h,"aria-valuenow",e[2]),w(h,"tabindex","-1"),w(r,"class","h-full absolute cursor-ew-resize z-10"),w(r,"style",e[5]),w(y,"class","h-full w-1 bg-transparent mx-auto cursor-ew-resize z-10"),w(y,"role","slider"),w(y,"tabindex","-1"),w(n,"class","h-full w-px bg-yellow-500"),w(n,"style",e[4]),w(t,"class","w-full h-5 bg-black"),Fn(()=>e[24].call(t))},m(C,E){Re(C,t,E),x(t,n),x(n,r),x(r,o),x(o,i),x(o,a),x(r,s),x(r,c),x(r,l),x(r,h),x(h,d),x(h,m),x(n,g),x(n,y),e[23](t),_=Ym(t,e[24].bind(t)),T||(O=[re(window,"mouseup",e[9]),re(window,"mousemove",e[8]),re(o,"mousedown",e[16]),jo(Ea.call(null,o)),re(o,"panstart",e[17]),re(o,"panmove",e[8]),re(o,"panend",e[9]),re(c,"mousedown",e[18]),jo(Ea.call(null,c)),re(c,"panstart",e[19]),re(c,"panmove",e[8]),re(c,"panend",e[9]),re(h,"mousedown",e[20]),jo(Ea.call(null,h)),re(h,"panstart",e[21]),re(h,"panmove",e[8]),re(h,"panend",e[9]),re(y,"mousedown",Il(e[22])),re(t,"wheel",e[6])],T=!0)},p(C,E){E[0]&2&&w(o,"aria-valuenow",C[1]),E[0]&4&&w(h,"aria-valuenow",C[2]),E[0]&32&&w(r,"style",C[5]),E[0]&16&&w(n,"style",C[4])},i:je,o:je,d(C){C&&Ce(t),e[23](null),_(),T=!1,Nt(O)}}}const Su=0,ka=1,Zs=2,el=3,Wp=4;function $p(e){if(e.clientX)return e.clientX;if(e.detail.center.x)return e.detail.center.x}function ix(e,t,n){const r=Rl();let o=Su,i,a,s,c,l=-1e3,h,d,m,g,y,_;function T(){return(d-h)*1e6/s}function O(j){j.preventDefault();const H=j.deltaY<0?1:-1,Z=.1,le=Math.min(Math.abs(j.deltaY)/100,10),he=Z*le,ee=T(),ae=he*ee,ce=l+H*(ae/s);n(14,l=Math.min(Math.max(-h,ce),1-d)),A()}function C(j,H){const Z=$p(j);o=H,a=0,o===ka?i=Z-l*s:o===Zs?i=Z-(l+h)*s:o===el&&(i=Z-(l+d)*s),b()}function E(j){const H=$p(j);if(o===Wp)a+=j.detail.srcEvent.movementX;else if(o!==Su){const Z=c.getBoundingClientRect().x,le=H-Z-i;o===ka?n(14,l=Math.min(Math.max(-h*s,le),s-d*s)/s):o===Zs?n(1,h=Math.min(Math.max(-g,le-l*s),d*s)/s):o===el&&n(2,d=Math.min(Math.max(h*s,le-l*s),g)/s),A()}}function W(j){o===Wp&&a<5&&P(j),o=Su,n(14,l)}function P(j){const H=c.getBoundingClientRect().x,Z=j.clientX-H;n(14,l=Z/s),A()}function U(j){const H=c.getBoundingClientRect().x;return(j.clientX-H)/s}let k=0;function A(){const j=[l+h,l,l+d],H=Date.now();H-k>50&&(r("change",j),k=H)}function M(j){const[H,Z,le]=j;n(14,l=Z),n(1,h=H-Z),n(2,d=le-Z)}function b(){n(15,m=g8(ma()))}Fl(()=>{});const p=j=>C(j,Zs),v=j=>C(j,Zs),S=j=>C(j,ka),I=j=>C(j,ka),D=j=>C(j,el),N=j=>C(j,el),Q=j=>C(j,ka);function G(j){At[j?"unshift":"push"](()=>{c=j,n(3,c)})}function B(){s=this.clientWidth,n(0,s)}return e.$$.update=()=>{e.$$.dirty[0]&32769&&(g=m*s/2),e.$$.dirty[0]&16385&&n(4,y="transform: translate3d(".concat(l*s-.5,"px, 0, 0)")),e.$$.dirty[0]&7&&n(5,_="transform: translate3d(".concat(h*s+.5,"px, 0, 0); width: ").concat((d-h)*s,"px"))},[s,h,d,c,y,_,O,C,E,W,P,U,M,b,l,m,p,v,S,I,D,N,Q,G,B]}class ax extends qi{constructor(t){super(),zi(this,t,ix,ox,ao,{handlePassbandClick:10,getOffsetFromEvent:11,changePassband:12,updatePassbandLimits:13},null,[-1,-1])}get handlePassbandClick(){return this.$$.ctx[10]}get getOffsetFromEvent(){return this.$$.ctx[11]}get changePassband(){return this.$$.ctx[12]}get updatePassbandLimits(){return this.$$.ctx[13]}}var sx=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};const zp=so(sx);function qp(e,t,n){const r=e.slice();return r[39]=t[n].element,r[40]=t[n].multiplier,r[41]=t[n].separator,r[42]=t[n].value,r[43]=t,r[44]=n,r}function Hp(e){let t;return{c(){t=$("span"),t.textContent=".",w(t,"class","text-white text-xl p-0 m-0")},m(n,r){Re(n,t,r)},d(n){n&&Ce(t)}}}function Vp(e){let t,n,r,o=e[43],i=e[44],a,s,c,l;const h=()=>e[19](t,o,i),d=()=>e[19](null,o,i);function m(...E){return e[20](e[40],...E)}function g(...E){return e[21](e[40],...E)}function y(...E){return e[22](e[40],...E)}function _(...E){return e[23](e[40],...E)}function T(...E){return e[24](e[40],...E)}function O(...E){return e[25](e[40],...E)}let C=e[41]&&Hp();return{c(){t=$("input"),a=ne(),C&&C.c(),s=Md(),w(t,"type","number"),w(t,"class","text-white text-3xl text-center whitespace-pre px-1 m-0 outline-none bg-transparent caret-transparent cursor-crosshair focus:bg-gray-800 svelte-1n8n5wk"),Ke(t,"width","1em"),w(t,"tabindex","-1"),w(t,"data-multiplier",n=e[40]),t.value=r=e[42],w(t,"max","9"),w(t,"min","0")},m(E,W){Re(E,t,W),h(),Re(E,a,W),C&&C.m(E,W),Re(E,s,W),c||(l=[re(t,"wheel",m),re(t,"keydown",g),re(t,"keyup",y),re(t,"mousemove",ux),jo(Ea.call(null,t)),re(t,"panstart",_),re(t,"panmove",T),re(t,"panend",O)],c=!0)},p(E,W){e=E,W[0]&16&&n!==(n=e[40])&&w(t,"data-multiplier",n),W[0]&16&&r!==(r=e[42])&&t.value!==r&&(t.value=r),(o!==e[43]||i!==e[44])&&(d(),o=e[43],i=e[44],h()),e[41]?C||(C=Hp(),C.c(),C.m(s.parentNode,s)):C&&(C.d(1),C=null)},d(E){E&&(Ce(t),Ce(a),Ce(s)),d(),C&&C.d(E),c=!1,Nt(l)}}}function Gp(e){let t,n,r=Math.abs(e[0])+"",o,i;return{c(){t=$("span"),n=me("BFO: "),o=me(r),i=me("Hz"),w(t,"class","absolute transform -translate-y-full font-mono m-0 p-1 text-white text-sm left-3/4")},m(a,s){Re(a,t,s),x(t,n),x(t,o),x(t,i)},p(a,s){s[0]&1&&r!==(r=Math.abs(a[0])+"")&&qe(o,r)},d(a){a&&Ce(t)}}}function lx(e){let t,n,r,o,i,a,s,c,l,h,d,m,g,y=Lt(e[4]),_=[];for(let O=0;O<y.length;O+=1)_[O]=Vp(qp(e,y,O));let T=e[0]&&Gp(e);return{c(){t=$("div"),n=$("div"),r=$("input"),o=ne(),i=$("span"),i.textContent="".concat(Yp),a=ne(),s=$("div");for(let O=0;O<_.length;O+=1)_[O].c();c=ne(),l=$("span"),l.textContent="Hz",h=ne(),d=$("div"),T&&T.c(),w(r,"type","number"),w(r,"class","text-3xl font-mono text-white outline-none bg-transparent text-center appearance-none p-0 m-0 inline-block svelte-1n8n5wk"),w(i,"class","text-white font-mono p-1 m-1 text-3xl"),w(n,"class","m-0 p-0"),n.hidden=!0,w(l,"class","text-white text-3xl px-1 mx-1"),w(s,"class","font-mono m-0 p-0"),Ke(s,"font-size","0"),w(d,"class","transform -translate-y-full m-0 p-0"),w(t,"class","w-full md-2 items-center bg-black pt-1")},m(O,C){Re(O,t,C),x(t,n),x(n,r),xt(r,e[1]),x(n,o),x(n,i),e[18](n),x(t,a),x(t,s);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(s,null);x(s,c),x(s,l),e[26](s),x(t,h),x(t,d),T&&T.m(d,null),m||(g=[re(r,"input",e[17]),re(r,"change",e[5])],m=!0)},p(O,C){if(C[0]&2&&Bo(r.value)!==O[1]&&xt(r,O[1]),C[0]&2e3){y=Lt(O[4]);let E;for(E=0;E<y.length;E+=1){const W=qp(O,y,E);_[E]?_[E].p(W,C):(_[E]=Vp(W),_[E].c(),_[E].m(s,c))}for(;E<_.length;E+=1)_[E].d(1);_.length=y.length}O[0]?T?T.p(O,C):(T=Gp(O),T.c(),T.m(d,null)):T&&(T.d(1),T=null)},i:je,o:je,d(O){O&&Ce(t),e[18](null),Ni(_,O),e[26](null),T&&T.d(),m=!1,Nt(g)}}}const Yp="MHz";function cx(e,t){e.target.classList.remove("bg-gray-800")}const ux=e=>e.target.focus();function dx(e,t,n){const r=Rl();let o=0,i=0,a,s,c,l,h=0;const d={Hz:0,kHz:3,MHz:6,GHz:9},m={3:"k",6:"M",9:"G"};let g=[];function y(ee){n(16,o=ee),r("change",ee+i)}function _(ee){if(!zp(s)){A();return}let ae=parseFloat(s);ae*=Math.pow(10,a),M(ae)&&y(ae),A()}function T(ee,ae){ee.preventDefault();let ce=ee.deltaY>0?-1:1,te=o+ce*ae;ae===1e3&&(te-=te%1e3),M(te)&&y(te)}function O(ee,ae,ce){let te=o,ge=Math.floor(o/ce)%10;te+=(ae-ge)*ce;let be=g.findIndex(Pe=>Pe.multiplier===ce)+1;return be<g.length?g[be].element.focus():ee.target.blur(),ce===1e3&&(te-=te%1e3),te}function C(ee,ae){ee.preventDefault();let ce=ee.key,te=o;if(ce==="ArrowUp")te=o+ae;else if(ce==="ArrowDown")te=o-ae;else if(ce>="0"&&ce<="9"){let ge=parseInt(ce);te=O(ee,ge,ae)}M(te)&&y(te)}function E(ee,ae){if(ee.target.value.length==1)return;let ce=Math.floor(o/ae)%10,te=parseInt(ee.target.value.replace(ce,"")),ge=O(ee,te,ae);M(ge)&&y(ge)}let W=0,P=0;function U(ee,ae){ee.target.classList.add("bg-gray-800"),W=0,P=ee.detail.deltaY}function k(ee,ae){const ce=ee.target.getBoundingClientRect().height,te=ee.detail.deltaY-P;if(P=ee.detail.deltaY,W-=te,W>ce){let ge=o+ae;M(ge)&&y(ge),W-=ce}else if(-W>ce){let ge=o-ae;M(ge)&&y(ge),W+=ce}}function A(ee){n(1,s=(o/Math.pow(10,a)).toFixed(a));let ae=!0;for(let ce=0;ce<g.length;ce++){let te=Math.floor(o/g[ce].multiplier)%10;te!==0&&(ae=!1),ae&&te==0?n(4,g[ce].value=" ",g):n(4,g[ce].value=Math.round(te),g)}n(4,g)}function M(ee){const ae=ve.baseFreq,ce=ae+ve.totalBandwidth;return ee>=ae&&ee<ce}function b(ee){M(ee)&&n(16,o=ee)}function p(){return o}function v(ee){n(0,i=ee)}function S(){return i}function I(ee,ae){h=ae;let ce=Math.ceil(Math.log10(h+1));for(let te=0;te<ce;te++){let ge=ce-te-1;g.push({element:null,multiplier:Math.pow(10,ce-te-1),separator:ge%3===0?m[ge]:null,value:0})}n(4,g)}A();function D(){s=Bo(this.value),n(1,s)}function N(ee){At[ee?"unshift":"push"](()=>{c=ee,n(2,c)})}function Q(ee,ae,ce){At[ee?"unshift":"push"](()=>{ae[ce].element=ee,n(4,g)})}const G=(ee,ae)=>T(ae,ee),B=(ee,ae)=>C(ae,ee),j=(ee,ae)=>E(ae,ee),H=(ee,ae)=>U(ae),Z=(ee,ae)=>k(ae,ee),le=(ee,ae)=>cx(ae);function he(ee){At[ee?"unshift":"push"](()=>{l=ee,n(3,l)})}return e.$$.update=()=>{e.$$.dirty[0]&65536&&A()},a=d[Yp],[i,s,c,l,g,_,T,C,E,U,k,b,p,v,S,I,o,D,N,Q,G,B,j,H,Z,le,he]}class hx extends qi{constructor(t){super(),zi(this,t,dx,lx,ao,{setFrequency:11,getFrequency:12,setBFO:13,getBFO:14,updateFrequencyLimits:15},null,[-1,-1])}get setFrequency(){return this.$$.ctx[11]}get getFrequency(){return this.$$.ctx[12]}get setBFO(){return this.$$.ctx[13]}get getBFO(){return this.$$.ctx[14]}get updateFrequencyLimits(){return this.$$.ctx[15]}}function fx(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],c=n!==void 0?n(s,t):s-t;c>=0?(i=a,o=a-1):r=a+1}return i}function px(e,t,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,s=e[a],c=n!==void 0?n(s,t):s-t;c>0?(i=a,o=a-1):r=a+1}return i}function mx(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],c=n!==void 0?n(s,t):s-t;c<0?(i=a,r=a+1):o=a-1}return i}function gx(e,t,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,s=e[a],c=n!==void 0?n(s,t):s-t;c<=0?(i=a,r=a+1):o=a-1}return i}function yx(e,t,n,r,o){for(;r<=o;){var i=r+o>>>1,a=e[i],s=n!==void 0?n(a,t):a-t;if(s===0)return i;s<=0?r=i+1:o=i-1}return-1}function Oa(e,t,n,r,o,i){return typeof n=="function"?i(e,t,n,r===void 0?0:r|0,o===void 0?e.length-1:o|0):i(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}var vx={ge:function(e,t,n,r,o){return Oa(e,t,n,r,o,fx)},gt:function(e,t,n,r,o){return Oa(e,t,n,r,o,px)},lt:function(e,t,n,r,o){return Oa(e,t,n,r,o,mx)},le:function(e,t,n,r,o){return Oa(e,t,n,r,o,gx)},eq:function(e,t,n,r,o){return Oa(e,t,n,r,o,yx)}};const Xp=so(vx);function Kp(e,t,n){const r=e.slice();return r[15]=t[n],r}function Jp(e,t){let n,r,o,i,a=t[15].description+"",s,c,l,h;function d(){return t[6](t[15])}return{key:e,first:null,c(){n=$("div"),r=$("div"),r.innerHTML="",o=ne(),i=$("div"),s=me(a),c=ne(),w(r,"class","top-0 w-px h-8 z-0 peer bg-yellow-600 absolute"),w(i,"class","outline-1 outline-black outline-offset-0 outline p-px bg-yellow-400 absolute bottom-0 z-10 group-hover:z-20 hover:z-20 peer-hover:z-20 text-left whitespace-pre whitespace-nowrap text-black text-xs align-middle border border-yellow-600 transform origin-bottom-left overflow-hidden h-auto max-h-full hover:max-h-screen peer-hover:max-h-screen transition-all ease-linear duration-1000"),w(n,"class","h-4 absolute p-0 group"),Ke(n,"left",t[15].left*100+"%"),this.first=n},m(m,g){Re(m,n,g),x(n,r),x(n,o),x(n,i),x(i,s),x(n,c),l||(h=re(n,"click",d),l=!0)},p(m,g){t=m,g&2&&a!==(a=t[15].description+"")&&qe(s,a),g&2&&Ke(n,"left",t[15].left*100+"%")},d(m){m&&Ce(n),l=!1,h()}}}function bx(e){let t,n=[],r=new Map,o,i,a=Lt(e[1]);const s=c=>c[15].frequency;for(let c=0;c<a.length;c+=1){let l=Kp(e,a,c),h=s(l);r.set(h,n[c]=Jp(h,l))}return{c(){t=$("div");for(let c=0;c<n.length;c+=1)n[c].c();w(t,"class","w-full h-4 bg-black relative"),w(t,"role","button")},m(c,l){Re(c,t,l);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(t,null);e[7](t),o||(i=[re(t,"click",Il(e[4])),re(t,"wheel",Il(e[5]))],o=!0)},p(c,[l]){l&6&&(a=Lt(c[1]),n=Wl(n,l,s,1,c,a,r,t,Bl,Jp,null,Kp))},i:je,o:je,d(c){c&&Ce(t);for(let l=0;l<n.length;l+=1)n[l].d();e[7](null),o=!1,Nt(i)}}}function Mu(e,t){return e[0]-t[0]}function wx(e,t,n){const r=Rl();let o;const i=[];function a(){i.sort(Mu),i.length===0&&n(0,o.style.display="none",o)}function s(O,C){return[Xp.ge(i,[O],Mu),Xp.ge(i,[C],Mu)]}function c(O,C){return i.slice(O,C).map(E=>({frequency:E[0],description:E[1],modulation:E[2],left:0}))}let l=[],h=-1,d=-1;function m(){const[O,C]=y8(),[E,W]=s(O,C);C-O<=2e5?(E!==h||W!==d)&&(h=E,d=W,n(1,l=c(h,d))):n(1,l=[]);for(let P=0;P<l.length;P++)n(1,l[P].left=ap(l[P].frequency),l)}Fl(()=>{a()});function g(O){kd.call(this,e,O)}function y(O){kd.call(this,e,O)}const _=O=>r("markerclick",O);function T(O){At[O?"unshift":"push"](()=>{o=O,n(0,o)})}return[o,l,r,m,g,y,_,T]}class xx extends qi{constructor(t){super(),zi(this,t,wx,bx,ao,{updateFrequencyMarkerPositions:3})}get updateFrequencyMarkerPositions(){return this.$$.ctx[3]}}function Qp(e,t,n){const r=e.slice();return r[6]=t[n],r}function Zp(e){let t,n=e[6]+"",r;return{c(){t=$("div"),r=me(n),w(t,"class","text-xs text-left font-mono border border-b-1 border-t-0 border-l-0 border-r-0")},m(o,i){Re(o,t,i),x(t,r)},p(o,i){i&1&&n!==(n=o[6]+"")&&qe(r,n)},d(o){o&&Ce(t)}}}function _x(e){let t,n=Lt(e[0].toArray()),r=[];for(let o=0;o<n.length;o+=1)r[o]=Zp(Qp(e,n,o));return{c(){t=$("div");for(let o=0;o<r.length;o+=1)r[o].c();w(t,"class","fixed w-full sm:w-1/2 md:w-2/3 lg:w-3/4 h-1/4 bg-white bottom-0 p-1 overflow-y-scroll")},m(o,i){Re(o,t,i);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null);e[4](t)},p(o,[i]){if(i&1){n=Lt(o[0].toArray());let a;for(a=0;a<n.length;a+=1){const s=Qp(o,n,a);r[a]?r[a].p(s,i):(r[a]=Zp(s),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:je,o:je,d(o){o&&Ce(t),Ni(r,o),e[4](null)}}}function Sx(e,t,n){let{capacity:r=1e3}=t,o=new sc(r);function i(l){o.push(l),o.length>r&&o.unshift(),n(0,o)}let a,s;Zm(()=>{s=a&&a.offsetHeight+a.scrollTop>a.scrollHeight-20}),eg(()=>{s&&a.scrollTo(0,a.scrollHeight)});function c(l){At[l?"unshift":"push"](()=>{a=l,n(1,a)})}return e.$$set=l=>{"capacity"in l&&n(2,r=l.capacity)},[o,a,r,i,c]}class Mx extends qi{constructor(t){super(),zi(this,t,Sx,_x,ao,{capacity:2,addLine:3})}get addLine(){return this.$$.ctx[3]}}var Cx=Error,Ax=EvalError,Tx=RangeError,Ex=ReferenceError,e1=SyntaxError,Ia=TypeError,kx=URIError,Ox=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0},t1=typeof Symbol<"u"&&Symbol,Ix=Ox,Fx=function(){return typeof t1!="function"||typeof Symbol!="function"||typeof t1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ix()},Cu={__proto__:null,foo:{}},Rx=Object,Px=function(){return{__proto__:Cu}.foo===Cu.foo&&!(Cu instanceof Rx)},Dx="Function.prototype.bind called on incompatible ",Nx=Object.prototype.toString,Lx=Math.max,jx="[object Function]",n1=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},Ux=function(e,t){for(var n=[],r=t,o=0;r<e.length;r+=1,o+=1)n[o]=e[r];return n},Bx=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},Wx=function(e){var t=this;if(typeof t!="function"||Nx.apply(t)!==jx)throw new TypeError(Dx+t);for(var n=Ux(arguments,1),r,o=function(){if(this instanceof r){var l=t.apply(this,n1(n,arguments));return Object(l)===l?l:this}return t.apply(e,n1(n,arguments))},i=Lx(0,t.length-n.length),a=[],s=0;s<i;s++)a[s]="$"+s;if(r=Function("binder","return function ("+Bx(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var c=function(){};c.prototype=t.prototype,r.prototype=new c,c.prototype=null}return r},$x=Wx,Au=Function.prototype.bind||$x,zx=Function.prototype.call,qx=Object.prototype.hasOwnProperty,Hx=Au,Vx=Hx.call(zx,qx),Me,Gx=Cx,Yx=Ax,Xx=Tx,Kx=Ex,fi=e1,pi=Ia,Jx=kx,r1=Function,Tu=function(e){try{return r1('"use strict"; return ('+e+").constructor;")()}catch(t){}},Ao=Object.getOwnPropertyDescriptor;if(Ao)try{Ao({},"")}catch(e){Ao=null}var Eu=function(){throw new pi},Qx=Ao?function(){try{return arguments.callee,Eu}catch(e){try{return Ao(arguments,"callee").get}catch(t){return Eu}}}():Eu,mi=Fx(),Zx=Px(),pt=Object.getPrototypeOf||(Zx?function(e){return e.__proto__}:null),gi={},e9=typeof Uint8Array>"u"||!pt?Me:pt(Uint8Array),To={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Me:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Me:ArrayBuffer,"%ArrayIteratorPrototype%":mi&&pt?pt([][Symbol.iterator]()):Me,"%AsyncFromSyncIteratorPrototype%":Me,"%AsyncFunction%":gi,"%AsyncGenerator%":gi,"%AsyncGeneratorFunction%":gi,"%AsyncIteratorPrototype%":gi,"%Atomics%":typeof Atomics>"u"?Me:Atomics,"%BigInt%":typeof BigInt>"u"?Me:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Me:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Me:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Me:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Gx,"%eval%":eval,"%EvalError%":Yx,"%Float32Array%":typeof Float32Array>"u"?Me:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Me:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Me:FinalizationRegistry,"%Function%":r1,"%GeneratorFunction%":gi,"%Int8Array%":typeof Int8Array>"u"?Me:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Me:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Me:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":mi&&pt?pt(pt([][Symbol.iterator]())):Me,"%JSON%":typeof JSON=="object"?JSON:Me,"%Map%":typeof Map>"u"?Me:Map,"%MapIteratorPrototype%":typeof Map>"u"||!mi||!pt?Me:pt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Me:Promise,"%Proxy%":typeof Proxy>"u"?Me:Proxy,"%RangeError%":Xx,"%ReferenceError%":Kx,"%Reflect%":typeof Reflect>"u"?Me:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Me:Set,"%SetIteratorPrototype%":typeof Set>"u"||!mi||!pt?Me:pt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Me:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":mi&&pt?pt(""[Symbol.iterator]()):Me,"%Symbol%":mi?Symbol:Me,"%SyntaxError%":fi,"%ThrowTypeError%":Qx,"%TypedArray%":e9,"%TypeError%":pi,"%Uint8Array%":typeof Uint8Array>"u"?Me:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Me:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Me:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Me:Uint32Array,"%URIError%":Jx,"%WeakMap%":typeof WeakMap>"u"?Me:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Me:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Me:WeakSet};if(pt)try{null.error}catch(e){var t9=pt(pt(e));To["%Error.prototype%"]=t9}var n9=function e(t){var n;if(t==="%AsyncFunction%")n=Tu("async function () {}");else if(t==="%GeneratorFunction%")n=Tu("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Tu("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&pt&&(n=pt(o.prototype))}return To[t]=n,n},o1={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Fa=Au,tl=Vx,r9=Fa.call(Function.call,Array.prototype.concat),o9=Fa.call(Function.apply,Array.prototype.splice),i1=Fa.call(Function.call,String.prototype.replace),nl=Fa.call(Function.call,String.prototype.slice),i9=Fa.call(Function.call,RegExp.prototype.exec),a9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,s9=/\\(\\)?/g,l9=function(e){var t=nl(e,0,1),n=nl(e,-1);if(t==="%"&&n!=="%")throw new fi("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new fi("invalid intrinsic syntax, expected opening `%`");var r=[];return i1(e,a9,function(o,i,a,s){r[r.length]=a?i1(s,s9,"$1"):i||o}),r},c9=function(e,t){var n=e,r;if(tl(o1,n)&&(r=o1[n],n="%"+r[0]+"%"),tl(To,n)){var o=To[n];if(o===gi&&(o=n9(n)),typeof o>"u"&&!t)throw new pi("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new fi("intrinsic "+e+" does not exist!")},yi=function(e,t){if(typeof e!="string"||e.length===0)throw new pi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new pi('"allowMissing" argument must be a boolean');if(i9(/^%?[^%]*%?$/,e)===null)throw new fi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=l9(e),r=n.length>0?n[0]:"",o=c9("%"+r+"%",t),i=o.name,a=o.value,s=!1,c=o.alias;c&&(r=c[0],o9(n,r9([0,1],c)));for(var l=1,h=!0;l<n.length;l+=1){var d=n[l],m=nl(d,0,1),g=nl(d,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new fi("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(s=!0),r+="."+d,i="%"+r+"%",tl(To,i))a=To[i];else if(a!=null){if(!(d in a)){if(!t)throw new pi("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ao&&l+1>=n.length){var y=Ao(a,d);h=!!y,h&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[d]}else h=tl(a,d),a=a[d];h&&!s&&(To[i]=a)}}return a},a1={exports:{}},ku,s1;function Ou(){if(s1)return ku;s1=1;var e=yi,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}return ku=t,ku}var u9=yi,rl=u9("%Object.getOwnPropertyDescriptor%",!0);if(rl)try{rl([],"length")}catch(e){rl=null}var l1=rl,c1=Ou(),d9=e1,vi=Ia,u1=l1,h9=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new vi("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new vi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new vi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new vi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new vi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new vi("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,s=!!u1&&u1(e,t);if(c1)c1(e,t,{configurable:i===null&&s?s.configurable:!i,enumerable:r===null&&s?s.enumerable:!r,value:n,writable:o===null&&s?s.writable:!o});else if(a||!r&&!o&&!i)e[t]=n;else throw new d9("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Iu=Ou(),d1=function(){return!!Iu};d1.hasArrayLengthDefineBug=function(){if(!Iu)return null;try{return Iu([],"length",{value:1}).length!==1}catch(e){return!0}};var f9=d1,p9=yi,h1=h9,m9=f9(),f1=l1,p1=Ia,g9=p9("%Math.floor%"),y9=function(e,t){if(typeof e!="function")throw new p1("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||g9(t)!==t)throw new p1("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,o=!0;if("length"in e&&f1){var i=f1(e,"length");i&&!i.configurable&&(r=!1),i&&!i.writable&&(o=!1)}return(r||o||!n)&&(m9?h1(e,"length",t,!0,!0):h1(e,"length",t)),e};(function(e){var t=Au,n=yi,r=y9,o=Ia,i=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||t.call(a,i),c=Ou(),l=n("%Math.max%");e.exports=function(d){if(typeof d!="function")throw new o("a function is required");var m=s(t,a,arguments);return r(m,1+l(0,d.length-(arguments.length-1)),!0)};var h=function(){return s(t,i,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h})(a1);var v9=a1.exports,m1=yi,g1=v9,b9=g1(m1("String.prototype.indexOf")),w9=function(e,t){var n=m1(e,!!t);return typeof n=="function"&&b9(e,".prototype.")>-1?g1(n):n};const x9={},Fu=Object.freeze(Object.defineProperty({__proto__:null,default:x9},Symbol.toStringTag,{value:"Module"})),_9=lg(Fu);var Ru=typeof Map=="function"&&Map.prototype,Pu=Object.getOwnPropertyDescriptor&&Ru?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ol=Ru&&Pu&&typeof Pu.get=="function"?Pu.get:null,y1=Ru&&Map.prototype.forEach,Du=typeof Set=="function"&&Set.prototype,Nu=Object.getOwnPropertyDescriptor&&Du?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,il=Du&&Nu&&typeof Nu.get=="function"?Nu.get:null,v1=Du&&Set.prototype.forEach,S9=typeof WeakMap=="function"&&WeakMap.prototype,Ra=S9?WeakMap.prototype.has:null,M9=typeof WeakSet=="function"&&WeakSet.prototype,Pa=M9?WeakSet.prototype.has:null,C9=typeof WeakRef=="function"&&WeakRef.prototype,b1=C9?WeakRef.prototype.deref:null,A9=Boolean.prototype.valueOf,T9=Object.prototype.toString,E9=Function.prototype.toString,k9=String.prototype.match,Lu=String.prototype.slice,Ur=String.prototype.replace,O9=String.prototype.toUpperCase,w1=String.prototype.toLowerCase,x1=RegExp.prototype.test,_1=Array.prototype.concat,tr=Array.prototype.join,I9=Array.prototype.slice,S1=Math.floor,ju=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Uu=Object.getOwnPropertySymbols,Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,bi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Et=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===bi||!0)?Symbol.toStringTag:null,M1=Object.prototype.propertyIsEnumerable,C1=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function A1(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||x1.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-S1(-e):S1(e);if(r!==e){var o=String(r),i=Lu.call(t,o.length+1);return Ur.call(o,n,"$&_")+"."+Ur.call(Ur.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ur.call(t,n,"$&_")}var Wu=_9,T1=Wu.custom,E1=I1(T1)?T1:null,F9=function e(t,n,r,o){var i=n||{};if(Br(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Br(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Br(i,"customInspect")?i.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Br(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Br(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return R1(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return s?A1(t,c):c}if(typeof t=="bigint"){var l=String(t)+"n";return s?A1(t,l):l}var h=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=h&&h>0&&typeof t=="object")return $u(t)?"[Array]":"[Object]";var d=K9(i,r);if(typeof o>"u")o=[];else if(F1(o,t)>=0)return"[Circular]";function m(S,I,D){if(I&&(o=I9.call(o),o.push(I)),D){var N={depth:i.depth};return Br(i,"quoteStyle")&&(N.quoteStyle=i.quoteStyle),e(S,N,r+1,o)}return e(S,i,r+1,o)}if(typeof t=="function"&&!O1(t)){var g=W9(t),y=al(t,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+tr.call(y,", ")+" }":"")}if(I1(t)){var _=bi?Ur.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Bu.call(t);return typeof t=="object"&&!bi?Da(_):_}if(G9(t)){for(var T="<"+w1.call(String(t.nodeName)),O=t.attributes||[],C=0;C<O.length;C++)T+=" "+O[C].name+"="+k1(R9(O[C].value),"double",i);return T+=">",t.childNodes&&t.childNodes.length&&(T+="..."),T+="</"+w1.call(String(t.nodeName))+">",T}if($u(t)){if(t.length===0)return"[]";var E=al(t,m);return d&&!X9(E)?"["+qu(E,d)+"]":"[ "+tr.call(E,", ")+" ]"}if(D9(t)){var W=al(t,m);return!("cause"in Error.prototype)&&"cause"in t&&!M1.call(t,"cause")?"{ ["+String(t)+"] "+tr.call(_1.call("[cause]: "+m(t.cause),W),", ")+" }":W.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+tr.call(W,", ")+" }"}if(typeof t=="object"&&a){if(E1&&typeof t[E1]=="function"&&Wu)return Wu(t,{depth:h-r});if(a!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if($9(t)){var P=[];return y1&&y1.call(t,function(S,I){P.push(m(I,t,!0)+" => "+m(S,t))}),P1("Map",ol.call(t),P,d)}if(H9(t)){var U=[];return v1&&v1.call(t,function(S){U.push(m(S,t))}),P1("Set",il.call(t),U,d)}if(z9(t))return zu("WeakMap");if(V9(t))return zu("WeakSet");if(q9(t))return zu("WeakRef");if(L9(t))return Da(m(Number(t)));if(U9(t))return Da(m(ju.call(t)));if(j9(t))return Da(A9.call(t));if(N9(t))return Da(m(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof qo<"u"&&t===qo)return"{ [object globalThis] }";if(!P9(t)&&!O1(t)){var k=al(t,m),A=C1?C1(t)===Object.prototype:t instanceof Object||t.constructor===Object,M=t instanceof Object?"":"null prototype",b=!A&&Et&&Object(t)===t&&Et in t?Lu.call(Wr(t),8,-1):M?"Object":"",p=A||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",v=p+(b||M?"["+tr.call(_1.call([],b||[],M||[]),": ")+"] ":"");return k.length===0?v+"{}":d?v+"{"+qu(k,d)+"}":v+"{ "+tr.call(k,", ")+" }"}return String(t)};function k1(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function R9(e){return Ur.call(String(e),/"/g,"&quot;")}function $u(e){return Wr(e)==="[object Array]"&&(!Et||!(typeof e=="object"&&Et in e))}function P9(e){return Wr(e)==="[object Date]"&&(!Et||!(typeof e=="object"&&Et in e))}function O1(e){return Wr(e)==="[object RegExp]"&&(!Et||!(typeof e=="object"&&Et in e))}function D9(e){return Wr(e)==="[object Error]"&&(!Et||!(typeof e=="object"&&Et in e))}function N9(e){return Wr(e)==="[object String]"&&(!Et||!(typeof e=="object"&&Et in e))}function L9(e){return Wr(e)==="[object Number]"&&(!Et||!(typeof e=="object"&&Et in e))}function j9(e){return Wr(e)==="[object Boolean]"&&(!Et||!(typeof e=="object"&&Et in e))}function I1(e){if(bi)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Bu)return!1;try{return Bu.call(e),!0}catch(t){}return!1}function U9(e){if(!e||typeof e!="object"||!ju)return!1;try{return ju.call(e),!0}catch(t){}return!1}var B9=Object.prototype.hasOwnProperty||function(e){return e in this};function Br(e,t){return B9.call(e,t)}function Wr(e){return T9.call(e)}function W9(e){if(e.name)return e.name;var t=k9.call(E9.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function F1(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $9(e){if(!ol||!e||typeof e!="object")return!1;try{ol.call(e);try{il.call(e)}catch(t){return!0}return e instanceof Map}catch(t){}return!1}function z9(e){if(!Ra||!e||typeof e!="object")return!1;try{Ra.call(e,Ra);try{Pa.call(e,Pa)}catch(t){return!0}return e instanceof WeakMap}catch(t){}return!1}function q9(e){if(!b1||!e||typeof e!="object")return!1;try{return b1.call(e),!0}catch(t){}return!1}function H9(e){if(!il||!e||typeof e!="object")return!1;try{il.call(e);try{ol.call(e)}catch(t){return!0}return e instanceof Set}catch(t){}return!1}function V9(e){if(!Pa||!e||typeof e!="object")return!1;try{Pa.call(e,Pa);try{Ra.call(e,Ra)}catch(t){return!0}return e instanceof WeakSet}catch(t){}return!1}function G9(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function R1(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return R1(Lu.call(e,0,t.maxStringLength),t)+r}var o=Ur.call(Ur.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y9);return k1(o,"single",t)}function Y9(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+O9.call(t.toString(16))}function Da(e){return"Object("+e+")"}function zu(e){return e+" { ? }"}function P1(e,t,n,r){var o=r?qu(n,r):tr.call(n,", ");return e+" ("+t+") {"+o+"}"}function X9(e){for(var t=0;t<e.length;t++)if(F1(e[t],"\n")>=0)return!1;return!0}function K9(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=tr.call(Array(e.indent+1)," ");else return null;return{base:n,prev:tr.call(Array(t+1),n)}}function qu(e,t){if(e.length===0)return"";var n="\n"+t.prev+t.base;return n+tr.call(e,","+n)+"\n"+t.prev}function al(e,t){var n=$u(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Br(e,o)?t(e[o],e):""}var i=typeof Uu=="function"?Uu(e):[],a;if(bi){a={};for(var s=0;s<i.length;s++)a["$"+i[s]]=i[s]}for(var c in e)Br(e,c)&&(n&&String(Number(c))===c&&c<e.length||bi&&a["$"+c]instanceof Symbol||(x1.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof Uu=="function")for(var l=0;l<i.length;l++)M1.call(e,i[l])&&r.push("["+t(i[l])+"]: "+t(e[i[l]],e));return r}var D1=yi,wi=w9,J9=F9,Q9=Ia,sl=D1("%WeakMap%",!0),ll=D1("%Map%",!0),Z9=wi("WeakMap.prototype.get",!0),e_=wi("WeakMap.prototype.set",!0),t_=wi("WeakMap.prototype.has",!0),n_=wi("Map.prototype.get",!0),r_=wi("Map.prototype.set",!0),o_=wi("Map.prototype.has",!0),Hu=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},i_=function(e,t){var n=Hu(e,t);return n&&n.value},a_=function(e,t,n){var r=Hu(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},s_=function(e,t){return!!Hu(e,t)},l_=function(){var e,t,n,r={assert:function(o){if(!r.has(o))throw new Q9("Side channel does not contain "+J9(o))},get:function(o){if(sl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Z9(e,o)}else if(ll){if(t)return n_(t,o)}else if(n)return i_(n,o)},has:function(o){if(sl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return t_(e,o)}else if(ll){if(t)return o_(t,o)}else if(n)return s_(n,o);return!1},set:function(o,i){sl&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new sl),e_(e,o,i)):ll?(t||(t=new ll),r_(t,o,i)):(n||(n={key:{},next:null}),a_(n,o,i))}};return r},c_=String.prototype.replace,u_=/%20/g,Vu={RFC1738:"RFC1738",RFC3986:"RFC3986"},Gu={default:Vu.RFC3986,formatters:{RFC1738:function(e){return c_.call(e,u_,"+")},RFC3986:function(e){return String(e)}},RFC1738:Vu.RFC1738,RFC3986:Vu.RFC3986},d_=Gu,Yu=Object.prototype.hasOwnProperty,Eo=Array.isArray,nr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),h_=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Eo(n)){for(var r=[],o=0;o<n.length;++o)typeof n[o]<"u"&&r.push(n[o]);t.obj[t.prop]=r}}},N1=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(n[r]=e[r]);return n},f_=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(Eo(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Yu.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return Eo(t)&&!Eo(n)&&(o=N1(t,r)),Eo(t)&&Eo(n)?(n.forEach(function(i,a){if(Yu.call(t,a)){var s=t[a];s&&typeof s=="object"&&i&&typeof i=="object"?t[a]=e(s,i,r):t.push(i)}else t[a]=i}),t):Object.keys(n).reduce(function(i,a){var s=n[a];return Yu.call(i,a)?i[a]=e(i[a],s,r):i[a]=s,i},o)},p_=function(e,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},e)},m_=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},Xu=1024,g_=function(e,t,n,r,o){if(e.length===0)return e;var i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var a="",s=0;s<i.length;s+=Xu){for(var c=i.length>=Xu?i.slice(s,s+Xu):i,l=[],h=0;h<c.length;++h){var d=c.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===d_.RFC1738&&(d===40||d===41)){l[l.length]=c.charAt(h);continue}if(d<128){l[l.length]=nr[d];continue}if(d<2048){l[l.length]=nr[192|d>>6]+nr[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=nr[224|d>>12]+nr[128|d>>6&63]+nr[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|c.charCodeAt(h)&1023),l[l.length]=nr[240|d>>18]+nr[128|d>>12&63]+nr[128|d>>6&63]+nr[128|d&63]}a+=l.join("")}return a},y_=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],i=o.obj[o.prop],a=Object.keys(i),s=0;s<a.length;++s){var c=a[s],l=i[c];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(t.push({obj:i,prop:c}),n.push(l))}return h_(t),e},v_=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},b_=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},w_=function(e,t){return[].concat(e,t)},x_=function(e,t){if(Eo(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},L1={arrayToObject:N1,assign:p_,combine:w_,compact:y_,decode:m_,encode:g_,isBuffer:b_,isRegExp:v_,maybeMap:x_,merge:f_},j1=l_,cl=L1,Na=Gu,__=Object.prototype.hasOwnProperty,U1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},rr=Array.isArray,S_=Array.prototype.push,B1=function(e,t){S_.apply(e,rr(t)?t:[t])},M_=Date.prototype.toISOString,W1=Na.default,dt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:cl.encode,encodeValuesOnly:!1,format:W1,formatter:Na.formatters[W1],indices:!1,serializeDate:function(e){return M_.call(e)},skipNulls:!1,strictNullHandling:!1},C_=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ku={},A_=function e(t,n,r,o,i,a,s,c,l,h,d,m,g,y,_,T,O,C){for(var E=t,W=C,P=0,U=!1;(W=W.get(Ku))!==void 0&&!U;){var k=W.get(t);if(P+=1,typeof k<"u"){if(k===P)throw new RangeError("Cyclic object value");U=!0}typeof W.get(Ku)>"u"&&(P=0)}if(typeof h=="function"?E=h(n,E):E instanceof Date?E=g(E):r==="comma"&&rr(E)&&(E=cl.maybeMap(E,function(j){return j instanceof Date?g(j):j})),E===null){if(a)return l&&!T?l(n,dt.encoder,O,"key",y):n;E=""}if(C_(E)||cl.isBuffer(E)){if(l){var A=T?n:l(n,dt.encoder,O,"key",y);return[_(A)+"="+_(l(E,dt.encoder,O,"value",y))]}return[_(n)+"="+_(String(E))]}var M=[];if(typeof E>"u")return M;var b;if(r==="comma"&&rr(E))T&&l&&(E=cl.maybeMap(E,l)),b=[{value:E.length>0?E.join(",")||null:void 0}];else if(rr(h))b=h;else{var p=Object.keys(E);b=d?p.sort(d):p}var v=c?n.replace(/\./g,"%2E"):n,S=o&&rr(E)&&E.length===1?v+"[]":v;if(i&&rr(E)&&E.length===0)return S+"[]";for(var I=0;I<b.length;++I){var D=b[I],N=typeof D=="object"&&typeof D.value<"u"?D.value:E[D];if(!(s&&N===null)){var Q=m&&c?D.replace(/\./g,"%2E"):D,G=rr(E)?typeof r=="function"?r(S,Q):S:S+(m?"."+Q:"["+Q+"]");C.set(t,P);var B=j1();B.set(Ku,C),B1(M,e(N,G,r,o,i,a,s,c,r==="comma"&&T&&rr(E)?null:l,h,d,m,g,y,_,T,O,B))}}return M},T_=function(e){if(!e)return dt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||dt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Na.default;if(typeof e.format<"u"){if(!__.call(Na.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Na.formatters[n],o=dt.filter;(typeof e.filter=="function"||rr(e.filter))&&(o=e.filter);var i;if(e.arrayFormat in U1?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=dt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:dt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:dt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:dt.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:dt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?dt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:dt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:dt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:dt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:dt.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:dt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:dt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:dt.strictNullHandling}},E_=function(e,t){var n=e,r=T_(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):rr(r.filter)&&(i=r.filter,o=i);var a=[];if(typeof n!="object"||n===null)return"";var s=U1[r.arrayFormat],c=s==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var l=j1(),h=0;h<o.length;++h){var d=o[h];r.skipNulls&&n[d]===null||B1(a,A_(n[d],d,s,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var m=a.join(r.delimiter),g=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),m.length>0?g+m:""},xi=L1,Ju=Object.prototype.hasOwnProperty,k_=Array.isArray,Ze={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:xi.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},O_=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},$1=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},I_="utf8=%26%2310003%3B",F_="utf8=%E2%9C%93",R_=function(e,t){var n={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o=t.parameterLimit===1/0?void 0:t.parameterLimit,i=r.split(t.delimiter,o),a=-1,s,c=t.charset;if(t.charsetSentinel)for(s=0;s<i.length;++s)i[s].indexOf("utf8=")===0&&(i[s]===F_?c="utf-8":i[s]===I_&&(c="iso-8859-1"),a=s,s=i.length);for(s=0;s<i.length;++s)if(s!==a){var l=i[s],h=l.indexOf("]="),d=h===-1?l.indexOf("="):h+1,m,g;d===-1?(m=t.decoder(l,Ze.decoder,c,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(l.slice(0,d),Ze.decoder,c,"key"),g=xi.maybeMap($1(l.slice(d+1),t),function(_){return t.decoder(_,Ze.decoder,c,"value")})),g&&t.interpretNumericEntities&&c==="iso-8859-1"&&(g=O_(g)),l.indexOf("[]=")>-1&&(g=k_(g)?[g]:g);var y=Ju.call(n,m);y&&t.duplicates==="combine"?n[m]=xi.combine(n[m],g):(!y||t.duplicates==="last")&&(n[m]=g)}return n},P_=function(e,t,n,r){for(var o=r?t:$1(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if(s==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&(o===""||n.strictNullHandling&&o===null)?[]:[].concat(o);else{a=n.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,l=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,h=parseInt(l,10);!n.parseArrays&&l===""?a={0:o}:!isNaN(h)&&s!==l&&String(h)===l&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(a=[],a[h]=o):l!=="__proto__"&&(a[l]=o)}o=a}return o},D_=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=n.depth>0&&i.exec(o),c=s?o.slice(0,s.index):o,l=[];if(c){if(!n.plainObjects&&Ju.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var h=0;n.depth>0&&(s=a.exec(o))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&Ju.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}if(s){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");l.push("["+o.slice(s.index)+"]")}return P_(l,t,n,r)}},N_=function(e){if(!e)return Ze;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Ze.charset:e.charset,n=typeof e.duplicates>"u"?Ze.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ze.allowDots:!!e.allowDots;return{allowDots:r,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ze.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ze.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ze.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ze.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ze.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ze.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ze.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ze.decoder,delimiter:typeof e.delimiter=="string"||xi.isRegExp(e.delimiter)?e.delimiter:Ze.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ze.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ze.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ze.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ze.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ze.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ze.strictNullHandling}},L_=function(e,t){var n=N_(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?R_(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),a=0;a<i.length;++a){var s=i[a],c=D_(s,r[s],n,typeof e=="string");o=xi.merge(o,c,n)}return n.allowSparse===!0?o:xi.compact(o)},j_=E_,U_=L_,B_=Gu,W_={formats:B_,parse:U_,stringify:j_};const z1=so(W_);function $_(e){return z1.stringify(e)}function z_(e){const t=z1.parse(e);return H_(t)}function q_(e){Object.entries(e).forEach(([t,n])=>{localStorage.setItem(t,n)})}function H_(e){const t={};return"frequency"in e&&zp(e.frequency)&&(t.frequency=parseFloat(e.frequency)),"modulation"in e&&(t.modulation=e.modulation.toUpperCase()),t}const{document:V_,window:q1}=$m;function H1(e,t,n){const r=e.slice();r[144]=t[n].id,r[145]=t[n].text;const o=r7(r[145]);return r[146]=o,r}function V1(e,t,n){const r=e.slice();return r[149]=t[n],r[151]=n,r}function G_(e,t,n){const r=e.slice();return r[152]=t[n],r}function G1(e,t,n){const r=e.slice();return r[155]=t[n],r}function Y1(e,t,n){const r=e.slice();return r[158]=t[n],r}function X1(e){let t,n=e[31],r,o,i,a=e[69][e[31]].content+"",s,c,l,h,d,m,g=e[31]<e[69].length-1?"Next":"Finish",y,_,T,O,C,E,W=J1(e);return{c(){t=$("div"),W.c(),r=ne(),o=$("div"),i=$("p"),s=me(a),c=ne(),l=$("div"),h=$("button"),h.textContent="Skip Tutorial",d=ne(),m=$("button"),y=me(g),w(i,"class","mb-4 text-lg"),w(h,"class","px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50"),w(m,"class","px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"),w(l,"class","flex justify-between"),w(o,"class","fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white p-6 rounded-lg shadow-lg max-w-md text-center backdrop-filter backdrop-blur-lg bg-opacity-80 border border-gray-700"),w(t,"class","fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center")},m(P,U){Re(P,t,U),W.m(t,null),x(t,r),x(t,o),x(o,i),x(i,s),x(o,c),x(o,l),x(l,h),x(l,d),x(l,m),x(m,y),O=!0,C||(E=[re(h,"click",Cd(e[71])),re(m,"click",Cd(e[70])),re(t,"click",e[70])],C=!0)},p(P,U){U[1]&1&&ao(n,n=P[31])?(W.d(1),W=J1(P),W.c(),W.m(t,r)):W.p(P,U),(!O||U[1]&1)&&a!==(a=P[69][P[31]].content+"")&&qe(s,a),(!O||U[1]&1)&&g!==(g=P[31]<P[69].length-1?"Next":"Finish")&&qe(y,g)},i(P){O||(P&&Fn(()=>{O&&(_||(_=Ir(o,Ld,{y:50,duration:300},!0)),_.run(1))}),P&&Fn(()=>{O&&(T||(T=Ir(t,Nd,{duration:300},!0)),T.run(1))}),O=!0)},o(P){P&&(_||(_=Ir(o,Ld,{y:50,duration:300},!1)),_.run(0)),P&&(T||(T=Ir(t,Nd,{duration:300},!1)),T.run(0)),O=!1},d(P){P&&Ce(t),W.d(P),P&&_&&_.end(),P&&T&&T.end(),C=!1,Nt(E)}}}function K1(e){let t,n,r;return{c(){t=$("div"),w(t,"class","absolute bg-blue-500 bg-opacity-20 border-2 border-blue-500 transition-all duration-300 ease-in-out pointer-events-none"),Ke(t,"top",e[33].offsetTop+"px"),Ke(t,"left",e[33].offsetLeft+"px"),Ke(t,"width",e[33].offsetWidth+"px"),Ke(t,"height",e[33].offsetHeight+"px")},m(o,i){Re(o,t,i),r=!0},p(o,i){(!r||i[1]&4)&&Ke(t,"top",o[33].offsetTop+"px"),(!r||i[1]&4)&&Ke(t,"left",o[33].offsetLeft+"px"),(!r||i[1]&4)&&Ke(t,"width",o[33].offsetWidth+"px"),(!r||i[1]&4)&&Ke(t,"height",o[33].offsetHeight+"px")},i(o){r||(o&&Fn(()=>{r&&(n||(n=Ir(t,scale,{duration:300,start:.95},!0)),n.run(1))}),r=!0)},o(o){o&&(n||(n=Ir(t,scale,{duration:300,start:.95},!1)),n.run(0)),r=!1},d(o){o&&Ce(t),o&&n&&n.end()}}}function J1(e){let t,n=e[33]&&K1(e);return{c(){n&&n.c(),t=Md()},m(r,o){n&&n.m(r,o),Re(r,t,o)},p(r,o){r[33]?n?(n.p(r,o),o[1]&4&&Ht(n,1)):(n=K1(r),n.c(),Ht(n,1),n.m(t.parentNode,t)):n&&(jl(),gr(n,1,1,()=>{n=null}),Ul())},d(r){r&&Ce(t),n&&n.d(r)}}}function Q1(e){let t,n=e[158]+"",r,o;return{c(){t=$("option"),r=me(n),t.__value=o=e[158],xt(t,t.__value)},m(i,a){Re(i,t,a),x(t,r)},p(i,a){a[0]&65536&&n!==(n=i[158]+"")&&qe(r,n),a[0]&65536&&o!==(o=i[158])&&(t.__value=o,xt(t,t.__value))},d(i){i&&Ce(t)}}}function Z1(e,t){let n,r=t[155]+"",o,i,a,s,c;function l(...h){return t[96](t[155],...h)}return{key:e,first:null,c(){n=$("button"),o=me(r),i=ne(),w(n,"class","glass-button text-gray-300 font-medium py-1 px-3 rounded-lg transition duration-300 ease-in-out text-sm"),w(n,"title",a=t[155]+" kHz"),this.first=n},m(h,d){Re(h,n,d),x(n,o),x(n,i),s||(c=re(n,"click",l),s=!0)},p(h,d){t=h,d[0]&4194304&&r!==(r=t[155]+"")&&qe(o,r),d[0]&4194304&&a!==(a=t[155]+" kHz")&&w(n,"title",a)},d(h){h&&Ce(n),s=!1,c()}}}function Y_(e){let t;return{c(){t=$("option"),t.textContent="".concat(e[152]),t.__value=e[152],xt(t,t.__value)},m(n,r){Re(n,t,r)},p:je,d(n){n&&Ce(t)}}}function em(e){let t,n,r,o,i,a,s,c,l,h,d,m,g,y,_,T,O,C,E,W,P,U,k,A,M;return{c(){t=$("div"),n=$("label"),n.textContent="Brightness",r=ne(),o=$("div"),i=$("div"),a=$("span"),a.textContent="Min:",s=ne(),c=$("div"),l=$("input"),h=ne(),d=$("span"),m=me(e[14]),g=ne(),y=$("div"),_=$("span"),_.textContent="Max:",T=ne(),O=$("div"),C=$("input"),E=ne(),W=$("span"),P=me(e[15]),w(n,"class","block text-sm font-medium text-gray-300 mb-2"),w(a,"class","text-gray-300 text-sm w-10"),w(l,"type","range"),w(l,"min","-100"),w(l,"max","255"),w(l,"step","1"),w(l,"class","glass-slider w-full"),w(c,"class","slider-container w-32 mx-4"),w(d,"class","value-display text-gray-300 w-10 text-right"),w(i,"class","flex items-center justify-between"),w(_,"class","text-gray-300 text-sm w-10"),w(C,"id","brightness-controls"),w(C,"type","range"),w(C,"min","0"),w(C,"max","255"),w(C,"step","1"),w(C,"class","glass-slider w-full"),w(O,"class","slider-container w-32 mx-4"),w(W,"class","value-display text-gray-300 w-10 text-right"),w(y,"class","flex items-center justify-between"),w(o,"class","space-y-4"),w(t,"id","brightness-controls"),w(t,"class","mt-6")},m(b,p){Re(b,t,p),x(t,n),x(t,r),x(t,o),x(o,i),x(i,a),x(i,s),x(i,c),x(c,l),xt(l,e[14]),x(i,h),x(i,d),x(d,m),x(o,g),x(o,y),x(y,_),x(y,T),x(y,O),x(O,C),xt(C,e[15]),x(y,E),x(y,W),x(W,P),k=!0,A||(M=[re(l,"change",e[103]),re(l,"input",e[103]),re(l,"input",e[44]),re(C,"change",e[104]),re(C,"input",e[104]),re(C,"input",e[45])],A=!0)},p(b,p){p[0]&16384&&xt(l,b[14]),(!k||p[0]&16384)&&qe(m,b[14]),p[0]&32768&&xt(C,b[15]),(!k||p[0]&32768)&&qe(P,b[15])},i(b){k||(b&&Fn(()=>{k&&(U||(U=Ir(t,jd,{duration:300,easing:Dd},!0)),U.run(1))}),k=!0)},o(b){b&&(U||(U=Ir(t,jd,{duration:300,easing:Dd},!1)),U.run(0)),k=!1},d(b){b&&Ce(t),b&&U&&U.end(),A=!1,Nt(M)}}}function tm(e){let t,n,r=e[149].name+"",o,i,a,s,c,l,h,d,m,g,y;function _(){return e[106](e[149])}function T(){return e[107](e[149])}function O(){return e[108](e[151])}return{c(){t=$("div"),n=$("span"),o=me(r),i=ne(),a=$("div"),s=$("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>\n                  Go',c=ne(),l=$("button"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                  Copy',h=ne(),d=$("button"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>\n                  Delete',m=ne(),w(n,"class","text-white text-sm"),w(s,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),w(l,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),w(d,"class","glass-button text-white font-bold py-1 px-3 rounded-lg flex items-center"),w(a,"class","flex gap-2"),w(t,"class","glass-panel rounded-lg p-3 flex items-center justify-between")},m(C,E){Re(C,t,E),x(t,n),x(n,o),x(t,i),x(t,a),x(a,s),x(a,c),x(a,l),x(a,h),x(a,d),x(t,m),g||(y=[re(s,"click",_),re(l,"click",T),re(d,"click",O)],g=!0)},p(C,E){e=C,E[1]&8&&r!==(r=e[149].name+"")&&qe(o,r)},d(C){C&&Ce(t),g=!1,Nt(y)}}}function nm(e){let t;return{c(){t=$("div"),t.innerHTML='<div class="flex justify-between items-center mb-4"><h4 class="text-white font-semibold text-lg">FT8 Messages</h4> <span class="text-white font-semibold text-sm" id="farthest-distance">Farthest Distance: 0 km</span></div> <div class="mt-2 text-white overflow-auto max-h-60 space-y-1 custom-scrollbar pr-2"><div id="ft8MessagesList"></div></div>',w(t,"class","glass-panel rounded-lg p-4 scrollbar-container")},m(n,r){Re(n,t,r)},d(n){n&&Ce(t)}}}function X_(e){let t=e[146].text+"",n;return{c(){n=me(t)},m(r,o){Re(r,n,o)},p(r,o){o[1]&16&&t!==(t=r[146].text+"")&&qe(n,t)},d(r){r&&Ce(n)}}}function K_(e){let t=e[146].beforeFreq+"",n,r,o,i=(e[146].frequency/1e3).toFixed(3)+"",a,s,c=e[146].demodulation+"",l,h,d,m=e[146].afterFreq+"",g,y,_;function T(){return e[111](e[146])}return{c(){n=me(t),r=ne(),o=$("a"),a=me(i),s=me(" kHz ("),l=me(c),h=me(")"),d=ne(),g=me(m),w(o,"href","#"),w(o,"class","text-blue-300 hover:underline")},m(O,C){Re(O,n,C),Re(O,r,C),Re(O,o,C),x(o,a),x(o,s),x(o,l),x(o,h),Re(O,d,C),Re(O,g,C),y||(_=re(o,"click",Hm(T)),y=!0)},p(O,C){e=O,C[1]&16&&t!==(t=e[146].beforeFreq+"")&&qe(n,t),C[1]&16&&i!==(i=(e[146].frequency/1e3).toFixed(3)+"")&&qe(a,i),C[1]&16&&c!==(c=e[146].demodulation+"")&&qe(l,c),C[1]&16&&m!==(m=e[146].afterFreq+"")&&qe(g,m)},d(O){O&&(Ce(n),Ce(r),Ce(o),Ce(d),Ce(g)),y=!1,_()}}}function rm(e,t){let n,r,o,i=t[146].timestamp+"",a,s,c,l,h=t[146].username+"",d,m,g,y;function _(C,E){return C[146].isFormatted?K_:X_}let T=_(t),O=T(t);return{key:e,first:null,c(){n=$("div"),r=$("div"),o=$("p"),a=me(i),s=ne(),c=$("p"),l=$("span"),d=me(h),m=me(":"),g=ne(),O.c(),y=ne(),w(o,"class","text-xs text-gray-400 mb-1 text-left"),w(l,"class","font-semibold"),w(c,"class","text-white text-xs md:text-sm break-words"),w(r,"class","glass-message p-2 md:p-3 rounded-lg bg-gray-600 bg-opacity-20 max-w-full md:max-w-3/4"),w(n,"class","flex mb-2"),this.first=n},m(C,E){Re(C,n,E),x(n,r),x(r,o),x(o,a),x(r,s),x(r,c),x(c,l),x(l,d),x(l,m),x(c,g),O.m(c,null),x(n,y)},p(C,E){t=C,E[1]&16&&i!==(i=t[146].timestamp+"")&&qe(a,i),E[1]&16&&h!==(h=t[146].username+"")&&qe(d,h),T===(T=_(t))&&O?O.p(t,E):(O.d(1),O=T(t),O&&(O.c(),O.m(c,null)))},d(C){C&&Ce(n),O.d()}}}function J_(e){let t,n,r,o,i,a,s,c,l,h,d,m,g,y,_,T,O,C,E,W,P,U,k,A,M,b,p,v,S,I,D,N,Q,G,B,j,H,Z,le,he,ee,ae,ce,te,ge,be,Pe,Fe,dn,Oe,fe,oe,Xt,jn,mt,ye,Ne,hn,kt,et,Un,or,Ve,Ot,St,Kt,Bn=e[18]?"\u{1F507}":"\u{1F50A}",Wn,nt,Jt,We,It,Te,fn,$n,Qt,gt,yt,Cn,ir,pn,tt,zn,Zt,Ft,$r,qn,en,An,at,$t,zr,mn,ar,sr,Hn,Rt=[],qr=new Map,V,Mt,Tn,Hr,lr,Vr,En,Gr,cr,Yr,Pt,De,ur,Xr,kn,dr,tn,hr,Kr,gn,nn,fr,Ct,On,Jr,In,Qr,vt,Zr,rn,eo,u,f,F,q,R,X=e[9]?"ON":"OFF",K,Y,ie,pe,we,Xe,$e,st=e[11]?"ON":"OFF",Dt,on,Ie,ht,ul,om,_i,dl=e[12]?"ON":"OFF",Qu,hl,im,ko,fl,am,Si,kr,sm,pl,lm,ml,cm,La,to,Mi,gl,um,Ci,no,dm,ja,hm,Ai,yl,fm,Ti,ro,pm,Ua,mm,Oo,vl,gm,bl,ym,Ba,Io,Ei,wl,vm,ki,Fo,Ro,Wa,bm,xl,wm,Po,Do,$a,xm,_l,_m,Sl,Sm,No,Ml,Mm,Cl,Al,Cm,za,Oi,Ii,pr=[],Am=new Map,Tm,Fi,Or,Em,Ri,qa,km,Ha,Tl,Zu,Va,_e,ed,Om,a7={};o=new hx({props:a7}),e[78](o),o.$on("change",e[50]);let s7={};l=new ax({props:s7}),e[80](l),l.$on("change",e[49]),l.$on("wheel",e[37]);let l7={};d=new xx({props:l7}),e[81](d),d.$on("click",function(){io(e[5].handlePassbandClick)&&e[5].handlePassbandClick.apply(this,arguments)}),d.$on("wheel",e[37]),d.$on("markerclick",e[62]);let c7={capacity:1e3};P=new Mx({props:c7}),e[85](P);let bt=e[32]&&X1(e),Pi=Lt(e[16]),zt=[];for(let ue=0;ue<Pi.length;ue+=1)zt[ue]=Q1(Y1(e,Pi,ue));let El=Lt(e[22]);const Im=ue=>ue[155];for(let ue=0;ue<El.length;ue+=1){let se=G1(e,El,ue),ke=Im(se);qr.set(ke,Rt[ue]=Z1(ke,se))}let Fm=Lt($w),Lo=[];for(let ue=0;ue<Fm.length;ue+=1)Lo[ue]=Y_(G_(e,Fm,ue));let wt=!e[9]&&em(e),Di=Lt(e[34]),qt=[];for(let ue=0;ue<Di.length;ue+=1)qt[ue]=tm(V1(e,Di,ue));let yn=e[10]&&nm(),kl=Lt(e[35]);const Rm=ue=>ue[144];for(let ue=0;ue<kl.length;ue+=1){let se=H1(e,kl,ue),ke=Rm(se);Am.set(ke,pr[ue]=rm(ke,se))}return{c(){t=$("main"),n=$("div"),r=$("div"),Za(o.$$.fragment),i=ne(),a=$("canvas"),c=ne(),Za(l.$$.fragment),h=ne(),Za(d.$$.fragment),m=ne(),g=$("canvas"),y=ne(),_=$("div"),T=$("canvas"),O=ne(),C=$("canvas"),E=ne(),W=$("div"),Za(P.$$.fragment),U=ne(),k=$("div"),A=$("div"),M=$("div"),bt&&bt.c(),b=ne(),p=$("ul"),v=$("li"),S=me("Audio"),D=ne(),N=$("li"),Q=me("Waterfall"),B=ne(),j=$("li"),H=me("Bookmarks"),le=ne(),he=$("li"),ee=me("Decoders"),ce=ne(),te=$("li"),ge=me("Statistics"),Pe=ne(),Fe=$("li"),dn=me("Chat"),fe=ne(),oe=$("div"),Xt=$("div"),Xt.innerHTML='<button class="text-white font-bold py-2 px-4 rounded">Start Audio</button>',jn=ne(),mt=$("div"),ye=$("div"),Ne=$("label"),Ne.textContent="Demodulator:",hn=ne(),kt=$("div"),et=$("select");for(let ue=0;ue<zt.length;ue+=1)zt[ue].c();Un=ne(),or=$("div"),or.innerHTML='<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path></svg>',Ve=ne(),Ot=$("div"),St=$("div"),Kt=$("button"),Wn=me(Bn),nt=ne(),Jt=$("div"),We=$("input"),It=ne(),Te=$("span"),fn=me(e[19]),$n=me("%"),Qt=ne(),gt=$("div"),yt=$("button"),Cn=me("Sq"),ir=ne(),pn=$("div"),tt=$("input"),zn=ne(),Zt=$("span"),Ft=me(e[21]),$r=me("db"),qn=ne(),en=$("div"),en.innerHTML='<canvas id="sMeter" width="300" height="40"></canvas>',An=ne(),at=$("div"),$t=$("p"),zr=me("Bandwidth: "),mn=me(e[6]),ar=me(" kHz"),sr=ne(),Hn=$("div");for(let ue=0;ue<Rt.length;ue+=1)Rt[ue].c();V=ne(),Mt=$("div"),Tn=$("button"),Hr=me("NR"),Vr=ne(),En=$("button"),Gr=me("NB"),Yr=ne(),Pt=$("button"),De=me("AN"),Xr=ne(),kn=$("button"),dr=me("CTCSS"),Kr=ne(),gn=$("div"),nn=$("div"),fr=$("div"),Ct=$("div"),On=$("button"),On.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg> <span class="text-sm">In</span>',Jr=ne(),In=$("button"),In.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg> <span class="text-sm">Out</span>',Qr=ne(),vt=$("button"),vt.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="12" x2="21" y2="12"></line><line x1="12" y1="3" x2="12" y2="21"></line></svg> <span class="text-sm">Max</span>',Zr=ne(),rn=$("button"),rn.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line></svg> <span class="text-sm">Min</span>',eo=ne(),u=$("div"),f=$("div"),F=$("span"),F.textContent="Auto Adjust:",q=ne(),R=$("button"),K=me(X),ie=ne(),pe=$("div"),we=$("span"),we.textContent="Spectrum:",Xe=ne(),$e=$("button"),Dt=me(st),Ie=ne(),ht=$("div"),ul=$("span"),ul.textContent="Bigger Waterfall:",om=ne(),_i=$("button"),Qu=me(dl),im=ne(),ko=$("div"),fl=$("span"),fl.textContent="Colormap:",am=ne(),Si=$("div"),kr=$("select");for(let ue=0;ue<Lo.length;ue+=1)Lo[ue].c();sm=ne(),pl=$("div"),pl.innerHTML='<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path></svg>',lm=ne(),wt&&wt.c(),cm=ne(),La=$("div"),to=$("div"),Mi=$("div"),gl=$("label"),gl.textContent="Add New Bookmark",um=ne(),Ci=$("div"),no=$("input"),dm=ne(),ja=$("button"),ja.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg>\n          Add',hm=ne(),Ai=$("div"),yl=$("label"),yl.textContent="Current Link",fm=ne(),Ti=$("div"),ro=$("input"),pm=ne(),Ua=$("button"),Ua.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n              Copy',mm=ne(),Oo=$("div"),vl=$("label"),vl.textContent="Saved Bookmarks",gm=ne();for(let ue=0;ue<qt.length;ue+=1)qt[ue].c();ym=ne(),Ba=$("div"),Io=$("div"),Ei=$("div"),wl=$("label"),wl.textContent="Decoder Options",vm=ne(),ki=$("div"),Fo=$("button"),Ro=Gn("svg"),Wa=Gn("path"),bm=me("\n              None"),wm=ne(),Po=$("button"),Do=Gn("svg"),$a=Gn("path"),xm=me("\n              FT8"),_m=ne(),yn&&yn.c(),Sm=ne(),No=$("div"),Ml=$("div"),Ml.innerHTML='<h2 class="text-2xl font-semibold text-white mb-2">Live Statistics Overview</h2> <p class="text-gray-300 text-sm">Real-time insights into platform usage</p>',Mm=ne(),Cl=$("div"),Cl.innerHTML='<div class="glass-panel rounded-lg p-6 flex flex-col items-center justify-center"><div class="text-blue-400 mb-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div> <h3 class="text-white font-semibold text-lg mb-2">Waterfall Bandwidth</h3> <span id="total_water_stream" class="text-3xl font-bold text-blue-400">N/A kbits</span> <p class="text-gray-300 text-sm mt-2 text-center">Total bandwidth of all waterfall streams</p></div> <div class="glass-panel rounded-lg p-6 flex flex-col items-center justify-center"><div class="text-green-400 mb-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg></div> <h3 class="text-white font-semibold text-lg mb-2">Audio Bandwidth</h3> <span id="total_audio_stream" class="text-3xl font-bold text-green-400">N/A kbits</span> <p class="text-gray-300 text-sm mt-2 text-center">Total bandwidth of all audio streams</p></div> <div class="glass-panel rounded-lg p-6 flex flex-col items-center justify-center"><div class="text-yellow-400 mb-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div> <h3 class="text-white font-semibold text-lg mb-2">User Count</h3> <span id="total_user_count" class="text-3xl font-bold text-yellow-400">N/A</span> <p class="text-gray-300 text-sm mt-2 text-center">Current number of connected users</p></div>',Cm=ne(),za=$("div"),Oi=$("div"),Ii=$("div");for(let ue=0;ue<pr.length;ue+=1)pr[ue].c();Tm=ne(),Fi=$("div"),Or=$("input"),Em=ne(),Ri=$("div"),qa=$("button"),qa.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>\n                Send',km=ne(),Ha=$("button"),Ha.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"></path><path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"></path></svg>\n                Paste Freq',Zu=ne(),Va=$("link"),w(a,"class",s="w-full bg-black peer "+(e[11]?"max-h-40":"max-h-0")),w(a,"width","1024"),w(a,"height","128"),w(g,"class","w-full bg-black peer"),w(g,"width","1024"),w(g,"height","20"),w(T,"class","w-full bg-black block"),w(T,"width","1024"),w(T,"height","100"),w(C,"class","hidden"),w(C,"width","1024"),w(C,"height","1024"),Ke(_,"image-rendering","pixelated"),w(_,"class","w-full peer overflow-hidden"),w(W,"class","hidden"),w(r,"class","w-full sm:w-1/2 md:w-2/3 lg:w-3/4 sm:transition-all sm:ease-linear sm:duration-100 cursor-crosshair overflow-hidden"),Ke(r,"width","100%"),w(v,"class",I="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="audio"?"active":""," text-gray-300")),w(N,"id","waterfall-button"),w(N,"class",G="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="waterfall"?"active":""," text-gray-300")),w(j,"class",Z="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="bookmarks"?"active":""," text-gray-300")),w(he,"class",ae="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="decoders"?"active":""," text-gray-300")),w(te,"class",be="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="statistics"?"active":""," text-gray-300")),w(Fe,"class",Oe="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="chat"?"active":""," text-gray-300")),w(p,"class","flex flex-wrap justify-center cursor-pointer"),Ke(p,"padding-bottom","15px"),w(Xt,"class","flex absolute inset-0 z-20 justify-center items-center bg-gray-800 bg-opacity-75 backdrop-filter backdrop-blur-sm"),w(Xt,"id","startaudio"),w(Ne,"for","demodulator-select"),w(Ne,"class","block text-sm font-medium text-gray-300 mb-2"),w(et,"id","demodulator-select"),w(et,"class","glass-select block w-full pl-3 pr-10 py-2 text-sm rounded-lg text-gray-200 appearance-none focus:outline-none"),e[17]===void 0&&Fn(()=>e[92].call(et)),w(or,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400"),w(kt,"class","relative"),w(ye,"class","w-full max-w-xs mx-auto"),w(mt,"class","m-2"),w(Kt,"class","glass-button text-white font-bold py-2 px-4 rounded-full w-12 h-12 flex items-center justify-center"),w(We,"type","range"),w(We,"class","glass-slider"),We.disabled=e[18],w(We,"min","0"),w(We,"max","100"),w(We,"step","1"),w(Jt,"class","slider-container"),w(Te,"class","value-display text-gray-300"),w(St,"class","control-group"),w(St,"id","volume-slider"),w(yt,"class","glass-button text-white font-bold py-2 px-4 rounded-full w-12 h-12 flex items-center justify-center"),Ke(yt,"background",e[20]?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.05)"),w(tt,"type","range"),w(tt,"class","glass-slider"),w(tt,"min","-150"),w(tt,"max","0"),w(tt,"step","1"),w(pn,"class","slider-container"),w(Zt,"class","value-display text-gray-300"),w(gt,"class","control-group"),w(gt,"id","squelch-slider"),w(en,"class","smeter-container"),w(en,"id","smeter-tut"),w($t,"class","text-gray-300 text-sm text-center mb-3"),w(Hn,"class","flex justify-center items-center gap-2 flex-wrap"),w(at,"class","mt-4"),w(at,"id","bandwidth-display"),w(Ot,"class","flex flex-col space-y-6 mt-6"),w(Tn,"class",lr="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[23]?"active":"")),w(En,"class",cr="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[24]?"active":"")),w(Pt,"class",ur="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[25]?"active":"")),w(kn,"class",tn="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[26]?"active":"")),w(Mt,"class","flex justify-center gap-4 mt-4"),w(Mt,"id","moreoptions"),w(oe,"class",hr=(e[8]==="audio"?"":"hidden")+" p-4"),w(On,"class","glass-button text-white font-bold py-2 px-3 rounded-lg flex items-center"),w(On,"title","Zoom in"),w(In,"class","glass-button text-white font-bold py-2 px-3 rounded-lg flex items-center"),w(In,"title","Zoom out"),w(vt,"class","glass-button text-white font-bold py-2 px-3 rounded-lg flex items-center"),w(vt,"title","Zoom to max"),w(rn,"class","glass-button text-white font-bold py-2 px-3 rounded-lg flex items-center"),w(rn,"title","Zoom to min"),w(Ct,"class","flex flex-wrap justify-center gap-2 mt-2"),w(Ct,"id","zoom-controls"),w(fr,"class","text-center mb-4"),w(F,"class","text-sm font-medium text-gray-300"),w(R,"class",Y="glass-toggle-button text-gray-200 font-medium py-2 px-4 rounded-lg transition duration-300 ease-in-out ".concat(e[9]?"active":"")),w(f,"class","flex justify-between items-center"),w(f,"id","auto-adjust"),w(we,"class","text-sm font-medium text-gray-300"),w($e,"class",on="glass-toggle-button text-gray-200 font-medium py-2 px-4 rounded-lg transition duration-300 ease-in-out ".concat(e[11]?"active":"")),w(pe,"class","flex justify-between items-center"),w(pe,"id","spectrum-toggle"),w(ul,"class","text-sm font-medium text-gray-300"),w(_i,"class",hl="glass-toggle-button text-gray-200 font-medium py-2 px-4 rounded-lg transition duration-300 ease-in-out ".concat(e[12]?"active":"")),w(ht,"class","flex justify-between items-center"),w(ht,"id","bigger-waterfall"),w(fl,"class","text-sm font-medium text-gray-300 block mb-2"),w(kr,"class","glass-select block w-full pl-3 pr-10 py-2 text-sm rounded-lg text-gray-200 appearance-none focus:outline-none"),e[13]===void 0&&Fn(()=>e[102].call(kr)),w(pl,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400"),w(Si,"class","relative inline-block w-48"),w(ko,"class","mt-6"),w(ko,"id","colormap-select"),w(u,"class","space-y-4"),w(nn,"class","space-y-6"),w(gn,"class",ml=(e[8]==="waterfall"?"":"hidden")+" p-4"),w(gl,"class","block text-sm font-medium text-gray-300 mb-2"),w(no,"class","glass-input text-white text-sm rounded-lg focus:outline-none px-3 py-2 w-48"),w(no,"placeholder","Bookmark name"),w(ja,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center"),w(Ci,"class","flex justify-center items-center gap-2"),w(Mi,"class","text-center"),w(yl,"class","block text-sm font-medium text-gray-300 mb-2"),w(ro,"type","text"),w(ro,"class","glass-input text-white text-sm rounded-lg focus:outline-none px-3 py-2 w-64"),ro.value=e[7],ro.readOnly=!0,w(Ua,"class","glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center"),w(Ti,"class","flex justify-center items-center gap-2"),w(Ai,"class","text-center"),w(vl,"class","block text-sm font-medium text-gray-300 mb-2 text-center"),w(Oo,"class","space-y-4"),w(to,"class","space-y-6"),w(La,"class",bl=(e[8]==="bookmarks"?"":"hidden")+" p-4"),w(wl,"class","block text-sm font-medium text-gray-300 mb-2"),w(Wa,"fill-rule","evenodd"),w(Wa,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),w(Wa,"clip-rule","evenodd"),w(Ro,"xmlns","http://www.w3.org/2000/svg"),w(Ro,"class","h-5 w-5 mr-2"),w(Ro,"viewBox","0 0 20 20"),w(Ro,"fill","currentColor"),w(Fo,"class",xl="glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center "+(e[10]?"":"active")),w($a,"fill-rule","evenodd"),w($a,"d","M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z"),w($a,"clip-rule","evenodd"),w(Do,"xmlns","http://www.w3.org/2000/svg"),w(Do,"class","h-5 w-5 mr-2"),w(Do,"viewBox","0 0 20 20"),w(Do,"fill","currentColor"),w(Po,"class",_l="glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center "+(e[10]?"active":"")),w(ki,"class","flex justify-center gap-2"),w(Ei,"class","text-center"),w(Io,"class","space-y-6"),w(Ba,"class",Sl=(e[8]==="decoders"?"":"hidden")+" p-4"),w(M,"class","max-w-screen-lg mx-auto"),w(Ml,"class","text-center mb-6"),w(Cl,"class","grid grid-cols-1 md:grid-cols-3 gap-6"),w(No,"class",Al=(e[8]==="statistics"?"":"hidden")+" p-4"),w(Ii,"class","custom-scrollbar overflow-auto h-64 md:h-80 mb-4"),w(Ii,"id","chat_content"),w(Or,"class","w-full glass-input chat-input text-white p-2 rounded-lg outline-none"),w(Or,"placeholder","Type a message..."),w(qa,"class","glass-button chat-button text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center flex-1 lg:flex-none lg:w-32"),w(Ha,"class","glass-button chat-button text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center flex-1 lg:flex-none lg:w-32"),w(Ri,"class","flex space-x-2 lg:w-auto"),w(Fi,"class","flex flex-col lg:flex-row items-stretch space-y-2 lg:space-y-0 lg:space-x-2"),w(Oi,"class","glass-panel rounded-lg p-4"),w(za,"class",Tl=(e[8]==="chat"?"":"hidden")+" p-4"),w(A,"class","min-h-screen bg-custom-dark text-gray-200"),Ke(A,"padding-top","10px"),w(k,"class","w-full sm:h-screen overflow-y-scroll sm:w-1/2 md:w-1/3 lg:w-1/4 sm:transition-all sm:ease-linear sm:duration-100"),Ke(k,"width","100%"),w(n,"class","h-screen overflow-hidden flex flex-col"),w(t,"class","custom-scrollbar"),w(Va,"href","https://fonts.googleapis.com/css2?family=VT323&display=swap"),w(Va,"rel","stylesheet")},m(ue,se){Re(ue,t,se),x(t,n),x(n,r),Wi(o,r,null),x(r,i),x(r,a),e[79](a),x(r,c),Wi(l,r,null),x(r,h),Wi(d,r,null),x(r,m),x(r,g),e[82](g),x(r,y),x(r,_),x(_,T),e[83](T),x(_,O),x(_,C),e[84](C),x(r,E),x(r,W),Wi(P,W,null),x(n,U),x(n,k),x(k,A),x(A,M),bt&&bt.m(M,null),x(M,b),x(M,p),x(p,v),x(v,S),x(p,D),x(p,N),x(N,Q),x(p,B),x(p,j),x(j,H),x(p,le),x(p,he),x(he,ee),x(p,ce),x(p,te),x(te,ge),x(p,Pe),x(p,Fe),x(Fe,dn),x(M,fe),x(M,oe),x(oe,Xt),x(oe,jn),x(oe,mt),x(mt,ye),x(ye,Ne),x(ye,hn),x(ye,kt),x(kt,et);for(let ke=0;ke<zt.length;ke+=1)zt[ke]&&zt[ke].m(et,null);Ya(et,e[17],!0),x(kt,Un),x(kt,or),x(oe,Ve),x(oe,Ot),x(Ot,St),x(St,Kt),x(Kt,Wn),x(St,nt),x(St,Jt),x(Jt,We),xt(We,e[19]),x(St,It),x(St,Te),x(Te,fn),x(Te,$n),x(Ot,Qt),x(Ot,gt),x(gt,yt),x(yt,Cn),x(gt,ir),x(gt,pn),x(pn,tt),xt(tt,e[21]),x(gt,zn),x(gt,Zt),x(Zt,Ft),x(Zt,$r),x(Ot,qn),x(Ot,en),x(Ot,An),x(Ot,at),x(at,$t),x($t,zr),x($t,mn),x($t,ar),x(at,sr),x(at,Hn);for(let ke=0;ke<Rt.length;ke+=1)Rt[ke]&&Rt[ke].m(Hn,null);x(oe,V),x(oe,Mt),x(Mt,Tn),x(Tn,Hr),x(Mt,Vr),x(Mt,En),x(En,Gr),x(Mt,Yr),x(Mt,Pt),x(Pt,De),x(Mt,Xr),x(Mt,kn),x(kn,dr),x(M,Kr),x(M,gn),x(gn,nn),x(nn,fr),x(fr,Ct),x(Ct,On),x(Ct,Jr),x(Ct,In),x(Ct,Qr),x(Ct,vt),x(Ct,Zr),x(Ct,rn),x(nn,eo),x(nn,u),x(u,f),x(f,F),x(f,q),x(f,R),x(R,K),x(u,ie),x(u,pe),x(pe,we),x(pe,Xe),x(pe,$e),x($e,Dt),x(u,Ie),x(u,ht),x(ht,ul),x(ht,om),x(ht,_i),x(_i,Qu),x(u,im),x(u,ko),x(ko,fl),x(ko,am),x(ko,Si),x(Si,kr);for(let ke=0;ke<Lo.length;ke+=1)Lo[ke]&&Lo[ke].m(kr,null);Ya(kr,e[13],!0),x(Si,sm),x(Si,pl),x(u,lm),wt&&wt.m(u,null),x(M,cm),x(M,La),x(La,to),x(to,Mi),x(Mi,gl),x(Mi,um),x(Mi,Ci),x(Ci,no),xt(no,e[28]),x(Ci,dm),x(Ci,ja),x(to,hm),x(to,Ai),x(Ai,yl),x(Ai,fm),x(Ai,Ti),x(Ti,ro),x(Ti,pm),x(Ti,Ua),x(to,mm),x(to,Oo),x(Oo,vl),x(Oo,gm);for(let ke=0;ke<qt.length;ke+=1)qt[ke]&&qt[ke].m(Oo,null);x(M,ym),x(M,Ba),x(Ba,Io),x(Io,Ei),x(Ei,wl),x(Ei,vm),x(Ei,ki),x(ki,Fo),x(Fo,Ro),x(Ro,Wa),x(Fo,bm),x(ki,wm),x(ki,Po),x(Po,Do),x(Do,$a),x(Po,xm),x(Io,_m),yn&&yn.m(Io,null),x(A,Sm),x(A,No),x(No,Ml),x(No,Mm),x(No,Cl),x(A,Cm),x(A,za),x(za,Oi),x(Oi,Ii);for(let ke=0;ke<pr.length;ke+=1)pr[ke]&&pr[ke].m(Ii,null);x(Oi,Tm),x(Oi,Fi),x(Fi,Or),xt(Or,e[29]),x(Fi,Em),x(Fi,Ri),x(Ri,qa),x(Ri,km),x(Ri,Ha),Re(ue,Zu,se),x(V_.head,Va),_e=!0,ed||(Om=[re(q1,"mousemove",e[39]),re(q1,"mouseup",e[40]),re(a,"wheel",e[37]),re(a,"click",function(){io(e[5].handlePassbandClick)&&e[5].handlePassbandClick.apply(this,arguments)}),re(g,"wheel",e[37]),re(g,"click",function(){io(e[5].handlePassbandClick)&&e[5].handlePassbandClick.apply(this,arguments)}),jo(rx.call(null,T)),re(T,"pinchstart",e[75]),re(T,"pinchmove",e[76]),jo(Ea.call(null,T)),re(T,"panmove",e[77]),re(T,"wheel",e[37]),re(T,"mousedown",e[38]),re(v,"click",e[86]),re(N,"click",e[87]),re(j,"click",e[88]),re(he,"click",e[89]),re(te,"click",e[90]),re(Fe,"click",e[91]),re(et,"change",e[92]),re(et,"change",e[93]),re(Kt,"click",e[53]),re(We,"change",e[94]),re(We,"input",e[94]),re(We,"input",e[54]),re(yt,"click",e[55]),re(tt,"change",e[95]),re(tt,"input",e[95]),re(tt,"mousemove",e[56]),re(Tn,"click",e[58]),re(En,"click",e[59]),re(Pt,"click",e[60]),re(kn,"click",e[61]),re(On,"click",e[97]),re(In,"click",e[98]),re(vt,"click",e[99]),re(rn,"click",e[100]),re(R,"click",e[101]),re($e,"click",e[41]),re(_i,"click",e[42]),re(kr,"change",e[102]),re(kr,"change",e[43]),re(no,"input",e[105]),re(ja,"click",e[66]),re(Ua,"click",e[63]),re(Fo,"click",e[109]),re(Po,"click",e[110]),re(Or,"input",e[112]),re(Or,"keydown",e[57]),re(qa,"click",e[72]),re(Ha,"click",e[73])],ed=!0)},p(ue,se){e=ue;const ke={};o.$set(ke),(!_e||se[0]&2048&&s!==(s="w-full bg-black peer "+(e[11]?"max-h-40":"max-h-0")))&&w(a,"class",s);const u7={};l.$set(u7);const d7={};d.$set(d7);const h7={};if(P.$set(h7),e[32]?bt?(bt.p(e,se),se[1]&2&&Ht(bt,1)):(bt=X1(e),bt.c(),Ht(bt,1),bt.m(M,b)):bt&&(jl(),gr(bt,1,1,()=>{bt=null}),Ul()),(!_e||se[0]&256&&I!==(I="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="audio"?"active":""," text-gray-300")))&&w(v,"class",I),(!_e||se[0]&256&&G!==(G="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="waterfall"?"active":""," text-gray-300")))&&w(N,"class",G),(!_e||se[0]&256&&Z!==(Z="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="bookmarks"?"active":""," text-gray-300")))&&w(j,"class",Z),(!_e||se[0]&256&&ae!==(ae="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="decoders"?"active":""," text-gray-300")))&&w(he,"class",ae),(!_e||se[0]&256&&be!==(be="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="statistics"?"active":""," text-gray-300")))&&w(te,"class",be),(!_e||se[0]&256&&Oe!==(Oe="glass-button mx-1 my-1 md:mx-2 px-3 md:px-4 py-1.5 md:py-2 text-xs md:text-sm rounded-lg ".concat(e[8]==="chat"?"active":""," text-gray-300")))&&w(Fe,"class",Oe),se[0]&65536){Pi=Lt(e[16]);let ze;for(ze=0;ze<Pi.length;ze+=1){const Ga=Y1(e,Pi,ze);zt[ze]?zt[ze].p(Ga,se):(zt[ze]=Q1(Ga),zt[ze].c(),zt[ze].m(et,null))}for(;ze<zt.length;ze+=1)zt[ze].d(1);zt.length=Pi.length}if(se[0]&196608&&Ya(et,e[17]),(!_e||se[0]&262144)&&Bn!==(Bn=e[18]?"\u{1F507}":"\u{1F50A}")&&qe(Wn,Bn),(!_e||se[0]&262144)&&(We.disabled=e[18]),se[0]&524288&&xt(We,e[19]),(!_e||se[0]&524288)&&qe(fn,e[19]),(!_e||se[0]&1048576)&&Ke(yt,"background",e[20]?"rgba(16, 185, 129, 0.2)":"rgba(255, 255, 255, 0.05)"),se[0]&2097152&&xt(tt,e[21]),(!_e||se[0]&2097152)&&qe(Ft,e[21]),(!_e||se[0]&64)&&qe(mn,e[6]),se[0]&4194304|se[1]&2097152&&(El=Lt(e[22]),Rt=Wl(Rt,se,Im,1,e,El,qr,Hn,Bl,Z1,null,G1)),(!_e||se[0]&8388608&&lr!==(lr="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[23]?"active":"")))&&w(Tn,"class",lr),(!_e||se[0]&16777216&&cr!==(cr="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[24]?"active":"")))&&w(En,"class",cr),(!_e||se[0]&33554432&&ur!==(ur="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[25]?"active":"")))&&w(Pt,"class",ur),(!_e||se[0]&67108864&&tn!==(tn="glass-toggle-button text-gray-200 font-medium py-2 px-3 rounded-lg transition duration-300 ease-in-out ".concat(e[26]?"active":"")))&&w(kn,"class",tn),(!_e||se[0]&256&&hr!==(hr=(e[8]==="audio"?"":"hidden")+" p-4"))&&w(oe,"class",hr),(!_e||se[0]&512)&&X!==(X=e[9]?"ON":"OFF")&&qe(K,X),(!_e||se[0]&512&&Y!==(Y="glass-toggle-button text-gray-200 font-medium py-2 px-4 rounded-lg transition duration-300 ease-in-out ".concat(e[9]?"active":"")))&&w(R,"class",Y),(!_e||se[0]&2048)&&st!==(st=e[11]?"ON":"OFF")&&qe(Dt,st),(!_e||se[0]&2048&&on!==(on="glass-toggle-button text-gray-200 font-medium py-2 px-4 rounded-lg transition duration-300 ease-in-out ".concat(e[11]?"active":"")))&&w($e,"class",on),(!_e||se[0]&4096)&&dl!==(dl=e[12]?"ON":"OFF")&&qe(Qu,dl),(!_e||se[0]&4096&&hl!==(hl="glass-toggle-button text-gray-200 font-medium py-2 px-4 rounded-lg transition duration-300 ease-in-out ".concat(e[12]?"active":"")))&&w(_i,"class",hl),se[0]&8192&&Ya(kr,e[13]),e[9]?wt&&(jl(),gr(wt,1,1,()=>{wt=null}),Ul()):wt?(wt.p(e,se),se[0]&512&&Ht(wt,1)):(wt=em(e),wt.c(),Ht(wt,1),wt.m(u,null)),(!_e||se[0]&256&&ml!==(ml=(e[8]==="waterfall"?"":"hidden")+" p-4"))&&w(gn,"class",ml),se[0]&268435456&&no.value!==e[28]&&xt(no,e[28]),(!_e||se[0]&128&&ro.value!==e[7])&&(ro.value=e[7]),se[1]&8|se[2]&96){Di=Lt(e[34]);let ze;for(ze=0;ze<Di.length;ze+=1){const Ga=V1(e,Di,ze);qt[ze]?qt[ze].p(Ga,se):(qt[ze]=tm(Ga),qt[ze].c(),qt[ze].m(Oo,null))}for(;ze<qt.length;ze+=1)qt[ze].d(1);qt.length=Di.length}(!_e||se[0]&256&&bl!==(bl=(e[8]==="bookmarks"?"":"hidden")+" p-4"))&&w(La,"class",bl),(!_e||se[0]&1024&&xl!==(xl="glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center "+(e[10]?"":"active")))&&w(Fo,"class",xl),(!_e||se[0]&1024&&_l!==(_l="glass-button text-white font-bold py-2 px-4 rounded-lg flex items-center "+(e[10]?"active":"")))&&w(Po,"class",_l),e[10]?yn||(yn=nm(),yn.c(),yn.m(Io,null)):yn&&(yn.d(1),yn=null),(!_e||se[0]&256&&Sl!==(Sl=(e[8]==="decoders"?"":"hidden")+" p-4"))&&w(Ba,"class",Sl),(!_e||se[0]&256&&Al!==(Al=(e[8]==="statistics"?"":"hidden")+" p-4"))&&w(No,"class",Al),se[1]&16|se[2]&4096&&(kl=Lt(e[35]),pr=Wl(pr,se,Rm,1,e,kl,Am,Ii,Bl,rm,null,H1)),se[0]&536870912&&Or.value!==e[29]&&xt(Or,e[29]),(!_e||se[0]&256&&Tl!==(Tl=(e[8]==="chat"?"":"hidden")+" p-4"))&&w(za,"class",Tl)},i(ue){_e||(Ht(o.$$.fragment,ue),Ht(l.$$.fragment,ue),Ht(d.$$.fragment,ue),Ht(P.$$.fragment,ue),Ht(bt),Ht(wt),_e=!0)},o(ue){gr(o.$$.fragment,ue),gr(l.$$.fragment,ue),gr(d.$$.fragment,ue),gr(P.$$.fragment,ue),gr(bt),gr(wt),_e=!1},d(ue){ue&&(Ce(t),Ce(Zu)),e[78](null),$i(o),e[79](null),e[80](null),$i(l),e[81](null),$i(d),e[82](null),e[83](null),e[84](null),e[85](null),$i(P),bt&&bt.d(),Ni(zt,ue);for(let se=0;se<Rt.length;se+=1)Rt[se].d();Ni(Lo,ue),wt&&wt.d(),Ni(qt,ue),yn&&yn.d();for(let se=0;se<pr.length;se+=1)pr[se].d();Ce(Va),ed=!1,Nt(Om)}}}const Q_=35;function Z_(){return Math.random().toString(36).substr(2,10)+Math.random().toString(36).substr(2,10)}function e7(e){const t=document.getElementById("sMeter"),n=t.getContext("2d");t.width=300,t.height=40;const r=t.width,o=t.height;n.clearRect(0,0,r,o);const i=6,a=3,s=8,c=15,l=25,h=5,d=5,m=r/2;n.strokeStyle="#a7e6fe",n.lineWidth=2,n.beginPath(),n.moveTo(0,c),n.lineTo(m,c),n.stroke(),n.strokeStyle="#ed1c24",n.beginPath(),n.moveTo(m,c),n.lineTo(268,c),n.stroke();for(let y=0;y<30;y++){const _=y*(i+a);y<e?n.fillStyle=y<17?"#a3eced":"#d9191c":n.fillStyle=y<17?"#003333":"#330000",n.fillRect(_,0,i,s)}n.font="11px monospace",n.textAlign="center";const g=["S1","3","5","7","9","+20","+40","+60dB"];for(let y=0;y<=16;y++){const _=y*16.6970588235;n.fillStyle=_<=m?"#a3eced":"#d9191c",y%2===1?(n.fillRect(_,c,1,d+2),(y-1)/2<g.length&&n.fillText(g[(y-1)/2],_,l+8)):n.fillRect(_,c,1,h)}}function t7(e){e=Math.min(Math.max(e,-100),0);const t=Math.round((e+100)*Q_/100);e7(t)}function n7(e){localStorage.setItem("bookmarks",JSON.stringify(e))}function r7(e){console.log("Formatting message:",e);const t=/(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}) (user\d+): (.+)/,n=e.match(t);if(n){const[r,o,i,a]=n,s=/\[FREQ:(\d+):(\w+)\]/,c=a.match(s);if(c){const[l,h,d]=c;return{isFormatted:!0,timestamp:o,username:i,frequency:parseInt(h,10),demodulation:d,beforeFreq:a.split(l)[0],afterFreq:a.split(l)[1]}}return{isFormatted:!1,timestamp:o,username:i,text:a}}return{isFormatted:!1,text:e}}function o7(e,t,n){let r,o,i,a,s,c,l,h,d,m;var g;let y="audio";function _(R){n(8,y=R)}let T,O=!1;function C(R){R=R||ve.getAudioRange();const X=R.map(Lr);n(6,d=((X[2]-X[0])/1e3).toFixed(2));const K=X.map(ap);h.changePassband(K)}function E(R){Ee.canvasWheel(R),h.updatePassbandLimits(),C(),nt.updateFrequencyMarkerPositions()}let W=!1,P=!1,U=0;function k(R){U=0,P=!0,R.clientX}function A(R){P&&(U+=Math.abs(R.movementX)+Math.abs(R.movementY),Ee.mouseMove(R),C(),nt.updateFrequencyMarkerPositions())}function M(R){P&&(U<2&&h.handlePassbandClick(R),P=!1)}let b=!0,p=!1;function v(){n(11,b=!b),Ee.setSpectrum(b)}function S(){n(12,p=!p),Ee.setWaterfallBig(p)}let I="twentev2",D=-30,N=110;function Q(R){Ee.setColormap(I)}function G(){Ee.setMinOffset(D)}function B(){Ee.setMaxOffset(N)}function j(R){n(9,O=R),Ee.autoAdjust=O}let H=["USB","LSB","CW-U","CW-L","AM","FM"];const Z={USB:{type:"USB",offsets:[-300,2700]},LSB:{type:"LSB",offsets:[2700,-300]},"CW-U":{type:"USB",offsets:[-500,1e3],bfo:-700},"CW-L":{type:"LSB",offsets:[1e3,-500],bfo:700},AM:{type:"AM",offsets:[5e3,5e3]},FM:{type:"FM",offsets:[5e3,5e3]},WBFM:{type:"FM",offsets:[95e3,95e3]}};let le="USB";function he(R,X){const K=Z[le];X&&(le==="WBFM"?ve.setFmDeemph(5e-5):ve.setFmDeemph(0),ve.setAudioDemodulation(K.type));let Y=l.getBFO(),ie=K.bfo||0,[pe,we,Xe]=ve.getAudioRange().map(Lr);we=we+ie-Y,pe=we-K.offsets[0],Xe=we+K.offsets[1],l.setBFO(ie),l.setFrequency();const $e=[pe,we,Xe].map($s);ve.setAudioRange(...$e),C(),We()}function ee(R,X){n(10,W=X),ve.setFT8Decoding(X)}function ae(R){let[X,K,Y]=R.detail.map(m8),ie=l.getBFO();X+=ie,K+=ie,Y+=ie,n(6,d=((Y-X)/1e3).toFixed(2)),l.setFrequency(K);const pe=[X,K,Y].map($s);ve.setAudioRange(...pe),We(),C()}function ce(R){const X=R.detail,K=ve.getAudioRange(),[Y,ie,pe]=K.map(Lr);let we=[X-(ie-Y),X,X+(pe-ie)].map($s);const Xe=we[1];let[$e,st]=Ee.getWaterfallRange();if(Xe<$e||Xe>=st){const Dt=Math.floor((st-$e)/2);let on;K[1]>=$e&&K[1]<st?on=K[1]-$e:on=Dt;const Ie=Math.min(Ee.waterfallMaxSize-Dt,Math.max(Dt,Xe-on+Dt));$e=Math.floor(Ie-Dt),st=Math.floor(Ie+Dt),Ee.setWaterfallRange($e,st)}ve.setAudioRange(...we),C(),We()}function te(R,X){let[K,Y,ie]=ve.getAudioRange();const[pe,we]=Ee.getWaterfallRange(),Xe=(Y-pe)/(we-pe)*Ee.canvasWidth;switch(X){case"max":Y=Math.min(Ee.waterfallMaxSize-512,Math.max(512,Y)),K=Math.floor(Y-512),ie=Math.ceil(Y+512);break;case"+":console.log("type: "+X),R.coords={x:Xe},R.scale=-1,Ee.canvasWheel(R),C();return;case"-":R.coords={x:Xe},R.scale=1,Ee.canvasWheel(R),C();return;case"min":K=0,ie=Ee.waterfallMaxSize;break}Ee.setWaterfallRange(K,ie),C()}let ge,be=50,Pe,Fe=-50,dn=0;const Oe=Wd.RollingMax(10);let fe=["-1000","-100","+100","+1000"];function oe(R,X){X=parseFloat(X);const K=Z[le].type;let[Y,ie,pe]=ve.getAudioRange().map(Lr);K==="USB"?pe=Math.max(ie,Math.min(ie+ma(),pe+X)):K==="LSB"?Y=Math.max(ie-ma(),Math.min(ie,Y-X)):(pe=Math.max(0,Math.min(ie+ma()/2,pe+X/2)),Y=Math.max(ie-ma()/2,Math.min(ie,Y-X/2)));let we=[Y,ie,pe].map($s);ve.setAudioRange(...we),C()}function Xt(){n(18,ge=!ge),ve.setMute(ge)}function jn(){ve.setGain(Math.pow(10,(be-50)/50+2.6))}function mt(){n(20,Pe=!Pe),ve.setSquelch(Pe)}function ye(){ve.setSquelchThreshold(Fe)}function Ne(R){R.key==="Enter"&&(R.preventDefault(),$t())}let hn=!1,kt=!1,et=!1,Un=!1;function or(){n(23,hn=!hn),ve.decoder.set_nr(hn)}function Ve(){n(24,kt=!kt),ve.nb=kt,ve.decoder.set_nb(kt)}function Ot(){n(25,et=!et),ve.decoder.set_an(et)}function St(){n(26,Un=!Un),ve.setCTCSSFilter(Un)}let Kt,Bn=0;function Wn(){if(dn=ve.getPowerDb()/150*100+ve.smeter_offset,Oe(dn)/150*100+ve.smeter_offset,t7(dn),pa.getLastModified()>Bn){const R=ve.getAudioRange(),X=pa.getSignalClients(),K=Object.keys(X).reduce((Y,ie)=>{const pe=X[Y],we=X[ie],Xe=Math.abs(pe[1]-R[1]),$e=Math.abs(we[1]-R[1]);return Xe<$e?Y:ie});delete X[K],Ee.setClients(X),requestAnimationFrame(()=>{Ee.updateGraduation(),Ee.drawClients()}),Bn=pa.getLastModified()}}let nt;function Jt(R){ce({detail:R.detail.frequency}),n(17,le=R.detail.modulation),he()}function We(){const R={frequency:l.getFrequency().toFixed(0),modulation:le},X=$_(R);n(7,m="".concat(location.origin).concat(location.pathname,"?").concat(X)),q_(R)}function It(){Bd(m)}let Te=$d([]);bd(e,Te,R=>n(34,r=R));let fn="",$n=$d([]);bd(e,$n,R=>n(35,o=R));let Qt="",gt;function yt(){const R={name:fn,link:m,frequency:l.getFrequency(),demodulation:le};Te.update(X=>{const K=[...X,R];return localStorage.setItem("bookmarks",JSON.stringify(K)),K}),n(28,fn="")}function Cn(R){l.setFrequency(R.frequency),ce({detail:R.frequency}),n(17,le=R.demodulation),he(null,!0),We()}function ir(R){Te.update(X=>{const K=X.filter((Y,ie)=>ie!==R);return n7(K),K})}let pn,tt=0,zn=!1,Zt=null;const Ft=[{selector:"#demodulator-select",content:"Welcome to PhantomSDR - This is the Tutorial."},{selector:"#demodulator-select",content:"Use this Select Box to change the Demodulation Mode."},{selector:"#volume-slider",content:"Use this Slider to change the Volume."},{selector:"#squelch-slider",content:"Use this Slider to change the Squelch."},{selector:"#smeter-tut",content:"This so called S-Meter shows you the Signal Strength."},{selector:"#bandwidth-display",content:"This Section shows your current Demodulation Bandwidth and lets you change it."},{selector:"#moreoptions",content:"These options allow you to enable things like CTCSS Supression, Noise Reduction and more."},{selector:"#waterfall-button",content:"Now we navigate to the Waterfall Tab."},{selector:"#zoom-controls",content:"Use these buttons to zoom in and out of the waterfall display."},{selector:"#auto-adjust",content:"Toggle automatic adjustment of the waterfall display."},{selector:"#spectrum-toggle",content:"Turn the spectrum display on or off."},{selector:"#bigger-waterfall",content:"Increase the size of the waterfall display."},{selector:"#colormap-select",content:"Choose different color schemes for the waterfall."},{selector:"#brightness-controls",content:"Adjust the brightness levels of the waterfall display."}];async function $r(){localStorage.getItem("TutorialComplete")||(await Dl(),Ft.every(R=>document.querySelector(R.selector))?(n(32,zn=!0),qn(),qn()):(console.warn("Some tutorial elements are missing. Skipping tutorial."),localStorage.setItem("TutorialComplete","true")))}function qn(){const{selector:R}=Ft[tt];n(33,Zt=R?document.querySelector(R):null)}async function en(){tt<Ft.length-1?(n(31,tt+=1),await Dl(),qn(),tt==7&&n(8,y="waterfall")):An()}function An(){n(32,zn=!1),localStorage.setItem("TutorialComplete","true")}$r();let at;Fl(async()=>{localStorage.getItem("TutorialComplete")||(await Dl(),Ft.slice(1).every(Y=>document.querySelector(Y.selector))?(n(32,zn=!0),await qn()):(console.warn("Some tutorial elements are missing. Skipping tutorial."),localStorage.setItem("TutorialComplete","true"))),[...document.getElementsByTagName("button"),...document.getElementsByTagName("input")].forEach(Y=>{Y.disabled=!0}),Ee.initCanvas({canvasElem:i,spectrumCanvasElem:a,graduationCanvasElem:s,tempCanvasElem:c}),at=p8(),await at,[...document.getElementsByTagName("button"),...document.getElementsByTagName("input")].forEach(Y=>{Y.disabled=!1}),ve.trueAudioSps>17e4&&(H.push("WBFM"),n(16,H),fe.unshift("-100000"),fe.push("+100000"),n(22,fe)),l.setFrequency(Lr(ve.getAudioRange()[1])),l.updateFrequencyLimits(ve.baseFreq,ve.baseFreq+ve.totalBandwidth),n(17,le=ve.settings.defaults.modulation);const R=Y=>{l.setFrequency(Y.frequency),l.getFrequency()===Y.frequency&&ce({detail:Y.frequency}),H.indexOf(Y.modulation)!==-1&&(n(17,le=Y.modulation),he({},!0)),nt.updateFrequencyMarkerPositions()},X=z_(location.search.slice(1));R(X),C(),h.updatePassbandLimits(),Q(),he({},!0),v(),jn(),We(),T=Z_();const K=localStorage.getItem("bookmarks");K&&Te.set(JSON.parse(K)),Kt=setInterval(()=>requestAnimationFrame(Wn),200),window.spectrumAudio=ve,window.spectrumWaterfall=Ee,gt=new WebSocket(window.location.origin.replace(/^http/,"ws")+"/chat"),g=document.getElementById("chat_content"),gt.onmessage=Y=>{if(Y.data.startsWith("Chat history:")){const ie=Y.data.replace("Chat history:\n","").trim();if(ie){const pe=ie.split("\n").map((we,Xe)=>({id:Date.now()+Xe,text:we.trim(),isCurrentUser:we.startsWith(T),timestamp:Date.now()-(ie.length-Xe)*1e3}));$n.set(pe)}}else{const ie={id:Date.now(),text:Y.data.trim(),isCurrentUser:Y.data.startsWith(T),timestamp:Date.now()};$n.update(pe=>[...pe,ie])}mn()}});function $t(){const R=Qt.trim();if(R){const X={cmd:"chat",message:R,userid:T};gt.send(JSON.stringify(X)),n(29,Qt=""),mn()}}function zr(){const R=l.getFrequency(),X=le,K="[FREQ:".concat(Math.round(R),":").concat(X,"]");n(29,Qt=Qt+" "+K)}function mn(){setTimeout(()=>{g.scrollTop=g.scrollHeight},100)}function ar(R,X){console.log("Clicked frequency:",R,"Type:",typeof R);const K=parseInt(R,10);if(isNaN(K)){console.error("Invalid frequency:",R);return}l.setFrequency(K),ce({detail:K}),n(17,le=X),he(null,!0),We()}tg(()=>{clearInterval(Kt),ve.stop(),Ee.stop(),gt.close()});let sr=0;function Hn(R){sr=0}function Rt(R){const X=R.detail.scale-sr;sr=R.detail.scale;const K=1-Math.abs(R.detail.srcEvent.movementX)/i.getBoundingClientRect().width,Y=R.detail.srcEvent;Y.coords={x:R.detail.center.x},Y.deltaY=-Math.sign(X),Y.scaleAmount=K,Ee.canvasWheel(Y),C(),U+=2}function qr(R){R.detail.srcEvent.pointerType==="touch"&&(Ee.mouseMove(R.detail.srcEvent),C())}function V(R){At[R?"unshift":"push"](()=>{l=R,n(4,l)})}function Mt(R){At[R?"unshift":"push"](()=>{a=R,n(1,a)})}function Tn(R){At[R?"unshift":"push"](()=>{h=R,n(5,h)})}function Hr(R){At[R?"unshift":"push"](()=>{nt=R,n(27,nt)})}function lr(R){At[R?"unshift":"push"](()=>{s=R,n(2,s)})}function Vr(R){At[R?"unshift":"push"](()=>{i=R,n(0,i)})}function En(R){At[R?"unshift":"push"](()=>{c=R,n(3,c)})}function Gr(R){At[R?"unshift":"push"](()=>{pn=R,n(30,pn)})}const cr=()=>_("audio"),Yr=()=>_("waterfall"),Pt=()=>_("bookmarks"),De=()=>_("decoders"),ur=()=>_("statistics"),Xr=()=>_("chat");function kn(){le=Ad(this),n(17,le),n(16,H)}const dr=R=>he(R,!0);function tn(){be=Bo(this.value),n(19,be)}function hr(){Fe=Bo(this.value),n(21,Fe)}const Kr=(R,X)=>oe(X,R),gn=R=>te(R,"+"),nn=R=>te(R,"-"),fr=R=>te(R,"max"),Ct=R=>te(R,"min"),On=()=>j(!O);function Jr(){I=Ad(this),n(13,I)}function In(){D=Bo(this.value),n(14,D)}function Qr(){N=Bo(this.value),n(15,N)}function vt(){fn=this.value,n(28,fn)}const Zr=R=>Cn(R),rn=R=>Bd(R.link),eo=R=>ir(R),u=R=>ee(R,!1),f=R=>ee(R,!0),F=R=>ar(R.frequency,R.demodulation);function q(){Qt=this.value,n(29,Qt)}return[i,a,s,c,l,h,d,m,y,O,W,b,p,I,D,N,H,le,ge,be,Pe,Fe,fe,hn,kt,et,Un,nt,fn,Qt,pn,tt,zn,Zt,r,o,_,E,k,A,M,v,S,Q,G,B,j,he,ee,ae,ce,te,oe,Xt,jn,mt,ye,Ne,or,Ve,Ot,St,Jt,It,Te,$n,yt,Cn,ir,Ft,en,An,$t,zr,ar,Hn,Rt,qr,V,Mt,Tn,Hr,lr,Vr,En,Gr,cr,Yr,Pt,De,ur,Xr,kn,dr,tn,hr,Kr,gn,nn,fr,Ct,On,Jr,In,Qr,vt,Zr,rn,eo,u,f,F,q]}class i7 extends qi{constructor(t){super(),zi(this,t,o7,J_,ao,{},null,[-1,-1,-1,-1,-1,-1])}}new i7({target:document.getElementById("app")})})();export{Pm as $,nd as _,m7 as __tla,Dm as __vite_legacy_guard,rd as a,od as b,id as c,ad as d,sd as e,ld as f,cd as g,ud as h,dd as i,hd as j,fd as k,pd as l,md as m,gd as n};
